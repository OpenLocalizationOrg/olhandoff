{
  "nodes": [
    {
      "content": "Migrate from Mobile Services to an App Service Mobile App",
      "pos": [
        27,
        84
      ]
    },
    {
      "content": "Learn how to easily migrate your Mobile Services application to an App Service Mobile App",
      "pos": [
        103,
        192
      ]
    },
    {
      "pos": [
        512,
        601
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"article-top\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Migrate your existing Azure Mobile Service to Azure App Service"
    },
    {
      "content": "With the <bpt id=\"p1\">[</bpt><ept id=\"p1\">general availability of Azure App Service]</ept>, Azure Mobile Services sites can be easily migrated in-place to take advantage of all the",
      "pos": [
        603,
        745
      ]
    },
    {
      "content": "features of the Azure App Service.",
      "pos": [
        746,
        780
      ]
    },
    {
      "content": "This document explains what to expect when migrating your site from Azure Mobile Services to Azure App Service.",
      "pos": [
        782,
        893
      ]
    },
    {
      "pos": [
        898,
        970
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"what-does-migration-do\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>What does migration do to your site"
    },
    {
      "content": "Migration of your Azure Mobile Service will turn your Mobile Service into an <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure App Service]</ept> app without affecting the code in any way.",
      "pos": [
        972,
        1111
      ]
    },
    {
      "content": "Your Notification",
      "pos": [
        1113,
        1130
      ]
    },
    {
      "content": "Hubs, SQL data connection, authentication settings, scheduled jobs, and domain name will remain unchanged.",
      "pos": [
        1131,
        1237
      ]
    },
    {
      "content": "Mobile clients using your Azure Mobile Service",
      "pos": [
        1239,
        1285
      ]
    },
    {
      "content": "will continue to operate normally.",
      "pos": [
        1286,
        1320
      ]
    },
    {
      "content": "Migration will restart your service once it is transferred to Azure App Service.",
      "pos": [
        1322,
        1402
      ]
    },
    {
      "pos": [
        1521,
        1579
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"why-migrate\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Why you should migrate your site"
    },
    {
      "content": "Microsoft is recommending that you migrate your Azure Mobile Service to take advantage of the features of Azure App Service, including:",
      "pos": [
        1581,
        1716
      ]
    },
    {
      "pos": [
        1723,
        1788
      ],
      "content": "New host features, including <bpt id=\"p1\">[</bpt><ept id=\"p1\">WebJobs]</ept> and <bpt id=\"p2\">[</bpt><ept id=\"p2\">custom domain names]</ept>."
    },
    {
      "pos": [
        1794,
        1885
      ],
      "content": "Connectivity to your on-premise resources using <bpt id=\"p1\">[</bpt><ept id=\"p1\">VNet]</ept> in addition to <bpt id=\"p2\">[</bpt><ept id=\"p2\">Hybrid Connections]</ept>."
    },
    {
      "pos": [
        1891,
        1963
      ],
      "content": "Monitoring and troubleshooting with New Relic or <bpt id=\"p1\">[</bpt><ept id=\"p1\">Application Insights]</ept>."
    },
    {
      "pos": [
        1969,
        2057
      ],
      "content": "Built-in DevOps tooling, including <bpt id=\"p1\">[</bpt><ept id=\"p1\">staging slots]</ept>, roll-back and in-production testing."
    },
    {
      "pos": [
        2063,
        2121
      ],
      "content": "<bpt id=\"p1\">[</bpt><ept id=\"p1\">Auto-scale]</ept>, load balancing and <bpt id=\"p2\">[</bpt><ept id=\"p2\">performance monitoring]</ept>."
    },
    {
      "pos": [
        2123,
        2230
      ],
      "content": "For more information on the benefits of Azure App Service, see the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Mobile Services vs. App Service]</ept> topic."
    },
    {
      "pos": [
        2235,
        2301
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"why-not-migrate\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Why you should not migrate your site"
    },
    {
      "content": "There are a few reasons why you should not migrate your Azure Mobile Services now:",
      "pos": [
        2303,
        2385
      ]
    },
    {
      "content": "You are currently in a busy period and cannot afford a site restart at this time.",
      "pos": [
        2392,
        2473
      ]
    },
    {
      "content": "You do not wish to affect your production site before testing the migration process.",
      "pos": [
        2479,
        2563
      ]
    },
    {
      "content": "You have multiple sites in the Free or Basic pricing tiers and do not want to migrate all sites at the same time.",
      "pos": [
        2569,
        2682
      ]
    },
    {
      "content": "In you are in a busy period, then please plan to migrate during a scheduled maintenance window.",
      "pos": [
        2684,
        2779
      ]
    },
    {
      "content": "The migration process restarts your",
      "pos": [
        2781,
        2816
      ]
    },
    {
      "content": "site as part of the process and your users may notice this momentary availability disruption.",
      "pos": [
        2817,
        2910
      ]
    },
    {
      "content": "There are workarounds for most of the items in this list.",
      "pos": [
        2912,
        2969
      ]
    },
    {
      "content": "Please refer to the <bpt id=\"p1\">[</bpt>Before you begin<ept id=\"p1\">](#before-you-begin)</ept> section below for details.",
      "pos": [
        2971,
        3055
      ]
    },
    {
      "pos": [
        3060,
        3107
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"before-you-begin\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Before you begin"
    },
    {
      "content": "You should follow the following steps before migrating your site:",
      "pos": [
        3109,
        3174
      ]
    },
    {
      "pos": [
        3181,
        3235
      ],
      "content": "<bpt id=\"p1\">[</bpt><ept id=\"p1\">Back up your Mobile Service]</ept> scripts and SQL database"
    },
    {
      "content": "(Optional) Raise the Mobile Service tier to Standard",
      "pos": [
        3241,
        3293
      ]
    },
    {
      "content": "If you wish to test the migration process before migrating your production site, duplicate your production Azure Mobile Service (complete",
      "pos": [
        3295,
        3432
      ]
    },
    {
      "content": "with a copy of the data source) and test the migration against the new URL.",
      "pos": [
        3433,
        3508
      ]
    },
    {
      "content": "You will also need a test client implementation that points",
      "pos": [
        3510,
        3569
      ]
    },
    {
      "content": "to the test site to properly test the migrated site.",
      "pos": [
        3570,
        3622
      ]
    },
    {
      "pos": [
        3628,
        3717
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"opt-raise-service-tier\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>(Optional) Raise the Mobile Service tier to Standard"
    },
    {
      "content": "All Mobile Services sites that share a hosting plan are migrated at once.",
      "pos": [
        3719,
        3792
      ]
    },
    {
      "content": "Mobile Services in the Free or Basic pricing tiers share",
      "pos": [
        3794,
        3850
      ]
    },
    {
      "content": "a hosting plan with other services in the same pricing tier and <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Region]</ept>.",
      "pos": [
        3851,
        3930
      ]
    },
    {
      "content": "If your Mobile Service is operating on the Standard pricing",
      "pos": [
        3931,
        3990
      ]
    },
    {
      "content": "tier, it is located in its own hosting plan.",
      "pos": [
        3991,
        4035
      ]
    },
    {
      "content": "If you wish to individually migrate sites in the Free or Basic pricing tiers, temporarily",
      "pos": [
        4037,
        4126
      ]
    },
    {
      "content": "upgrade the Mobile Service pricing tier to Standard.",
      "pos": [
        4127,
        4179
      ]
    },
    {
      "content": "You can do this in the SCALE menu for your Mobile Service.",
      "pos": [
        4181,
        4239
      ]
    },
    {
      "pos": [
        4247,
        4283
      ],
      "content": "Log onto the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Classic Portal]</ept>."
    },
    {
      "content": "Select your Mobile Service.",
      "pos": [
        4290,
        4317
      ]
    },
    {
      "pos": [
        4324,
        4352
      ],
      "content": "Select the <bpt id=\"p1\">**</bpt>SCALE UP<ept id=\"p1\">**</ept> tab."
    },
    {
      "content": "Under <bpt id=\"p1\">**</bpt>Mobile Service Tier<ept id=\"p1\">**</ept>, click on the <bpt id=\"p2\">**</bpt>STANDARD<ept id=\"p2\">**</ept> tier.",
      "pos": [
        4359,
        4421
      ]
    },
    {
      "content": "Click on the <bpt id=\"p1\">**</bpt>SAVE<ept id=\"p1\">**</ept> icon at the bottom of the page.",
      "pos": [
        4423,
        4476
      ]
    },
    {
      "content": "Remember to set the pricing tier to an appropriate setting after migration.",
      "pos": [
        4478,
        4553
      ]
    },
    {
      "pos": [
        4558,
        4606
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"migrating-site\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Migrating your site"
    },
    {
      "content": "To migrate your site:",
      "pos": [
        4608,
        4629
      ]
    },
    {
      "pos": [
        4637,
        4673
      ],
      "content": "Log onto the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Classic Portal]</ept>."
    },
    {
      "content": "Select your Mobile Service.",
      "pos": [
        4680,
        4707
      ]
    },
    {
      "pos": [
        4714,
        4761
      ],
      "content": "Click on the <bpt id=\"p1\">**</bpt>Migrate to App Service<ept id=\"p1\">**</ept> button."
    },
    {
      "content": "Read the Migrate to App Service dialog.",
      "pos": [
        4799,
        4838
      ]
    },
    {
      "content": "Enter the name of your Mobile Service in the box provided.",
      "pos": [
        4845,
        4903
      ]
    },
    {
      "content": "For example, if your domain name is contoso.azure-mobile.net, then enter <bpt id=\"p1\">_</bpt>contoso<ept id=\"p1\">_</ept> in the box provided.",
      "pos": [
        4905,
        5008
      ]
    },
    {
      "content": "Click on the tick button.",
      "pos": [
        5015,
        5040
      ]
    },
    {
      "content": "If you are migrating a Mobile Service in the Free or Basic pricing tiers, all Mobile Services in that pricing tier will be migrated at the same time.",
      "pos": [
        5042,
        5191
      ]
    },
    {
      "content": "You",
      "pos": [
        5194,
        5197
      ]
    },
    {
      "content": "can avoid this by <bpt id=\"p1\">[</bpt>raising the Mobile Service you are migrating<ept id=\"p1\">](#opt-raise-service-tier)</ept> to Standard during the migration.",
      "pos": [
        5198,
        5321
      ]
    },
    {
      "pos": [
        5323,
        5463
      ],
      "content": "You can monitor the status of the migration in the activity monitor and your site will be listed as <bpt id=\"p1\">*</bpt>migrating<ept id=\"p1\">*</ept> in the Azure Classic Portal."
    },
    {
      "content": "Migration Activity Monitor",
      "pos": [
        5469,
        5495
      ]
    },
    {
      "content": "Each migration can take anywhere from 3 to 15 minutes per mobile service being migrated.",
      "pos": [
        5501,
        5589
      ]
    },
    {
      "content": "Your site will remain available during the migration but will be",
      "pos": [
        5591,
        5655
      ]
    },
    {
      "content": "restarted at the end of the migration process.",
      "pos": [
        5656,
        5702
      ]
    },
    {
      "content": "The site will be unavailable during the restart process, which may last a couple of seconds.",
      "pos": [
        5704,
        5796
      ]
    },
    {
      "pos": [
        5801,
        5860
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"finalizing-migration\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Finalizing the Migration"
    },
    {
      "content": "You should plan to test your site from a mobile client at the conclusion of the migration process.",
      "pos": [
        5862,
        5960
      ]
    },
    {
      "content": "Ensure you can perform all common client actions",
      "pos": [
        5962,
        6010
      ]
    },
    {
      "content": "without changes to the mobile client.",
      "pos": [
        6011,
        6048
      ]
    },
    {
      "content": "In addition, you should ensure that the changes you made to effect the migration (such as changing the pricing",
      "pos": [
        6050,
        6160
      ]
    },
    {
      "content": "tier) are reverted if necessary.",
      "pos": [
        6161,
        6193
      ]
    },
    {
      "pos": [
        6199,
        6283
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"update-app-service-tier\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Select an appropriate App Service pricing tier"
    },
    {
      "content": "You have more flexibility in pricing after you migrate to Azure App Service.",
      "pos": [
        6285,
        6361
      ]
    },
    {
      "pos": [
        6369,
        6397
      ],
      "content": "Log into the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept>."
    },
    {
      "pos": [
        6404,
        6504
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>All resources<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>App Services<ept id=\"p2\">**</ept> then click on the name of your migrated Mobile Service."
    },
    {
      "pos": [
        6511,
        6590
      ],
      "content": "The Settings blade will open by default - if it doesn't, click on <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        6597,
        6648
      ],
      "content": "Click on <bpt id=\"p1\">**</bpt>App Service Plan<ept id=\"p1\">**</ept> in the Settings menu."
    },
    {
      "pos": [
        6655,
        6690
      ],
      "content": "Click on the <bpt id=\"p1\">**</bpt>Pricing Tier<ept id=\"p1\">**</ept> tile."
    },
    {
      "content": "Click on the tile appropriate to your requirements, then click on <bpt id=\"p1\">**</bpt>Select<ept id=\"p1\">**</ept>.",
      "pos": [
        6697,
        6774
      ]
    },
    {
      "content": "You may need to click on <bpt id=\"p1\">**</bpt>View all<ept id=\"p1\">**</ept> to see the available pricing tiers.",
      "pos": [
        6776,
        6849
      ]
    },
    {
      "content": "As a starting point, we recommend the following:",
      "pos": [
        6851,
        6899
      ]
    },
    {
      "content": "Mobile Service Pricing Tier",
      "pos": [
        6903,
        6930
      ]
    },
    {
      "content": "App Service Pricing Tier",
      "pos": [
        6933,
        6957
      ]
    },
    {
      "content": "Free",
      "pos": [
        7021,
        7025
      ]
    },
    {
      "content": "F1 Free",
      "pos": [
        7051,
        7058
      ]
    },
    {
      "content": "Basic",
      "pos": [
        7080,
        7085
      ]
    },
    {
      "content": "B1 Basic",
      "pos": [
        7110,
        7118
      ]
    },
    {
      "content": "Standard",
      "pos": [
        7139,
        7147
      ]
    },
    {
      "content": "S1 Standard",
      "pos": [
        7169,
        7180
      ]
    },
    {
      "content": "Note that there is considerable flexibility in choosing the right pricing tier for your application.",
      "pos": [
        7197,
        7297
      ]
    },
    {
      "content": "Refer to <bpt id=\"p1\">[</bpt><ept id=\"p1\">App Service Pricing]</ept> for",
      "pos": [
        7299,
        7333
      ]
    },
    {
      "content": "full details on the pricing of your new App Service.",
      "pos": [
        7334,
        7386
      ]
    },
    {
      "pos": [
        7390,
        7608
      ],
      "content": "[AZURE.TIP] The App Service Standard tier contains access to many features that you may want to use, including [staging slots],\nautomatic backups and auto-scaling.  Check out the new capabilities while you are there!",
      "leadings": [
        "",
        "> "
      ],
      "nodes": [
        {
          "content": "<ph id=\"ph1\">[AZURE.TIP]</ph> The App Service Standard tier contains access to many features that you may want to use, including <bpt id=\"p1\">[</bpt><ept id=\"p1\">staging slots]</ept>,",
          "pos": [
            0,
            127
          ]
        },
        {
          "content": "automatic backups and auto-scaling.  Check out the new capabilities while you are there!",
          "pos": [
            128,
            216
          ],
          "nodes": [
            {
              "content": "automatic backups and auto-scaling.",
              "pos": [
                0,
                35
              ]
            },
            {
              "content": "Check out the new capabilities while you are there!",
              "pos": [
                37,
                88
              ]
            }
          ]
        }
      ]
    },
    {
      "pos": [
        7614,
        7694
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"review-migration-scheduler-jobs\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Review the Migrated Scheduler Jobs"
    },
    {
      "content": "Scheduler Jobs will not be visible until approximately 30 minutes after migration.",
      "pos": [
        7696,
        7778
      ]
    },
    {
      "content": "Any scheduled jobs will continue to run in the background.",
      "pos": [
        7780,
        7838
      ]
    },
    {
      "content": "To view your scheduled jobs:",
      "pos": [
        7839,
        7867
      ]
    },
    {
      "pos": [
        7875,
        7903
      ],
      "content": "Log into the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept>."
    },
    {
      "pos": [
        7910,
        8008
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>Browse&gt;<ept id=\"p1\">**</ept>, enter <bpt id=\"p2\">**</bpt>Schedule<ept id=\"p2\">**</ept> in the <bpt id=\"p3\">_</bpt>Filter<ept id=\"p3\">_</ept> box, then select <bpt id=\"p4\">**</bpt>Scheduler Collections<ept id=\"p4\">**</ept>."
    },
    {
      "content": "There are a limited number of free scheduler jobs available post-migration.",
      "pos": [
        8010,
        8085
      ]
    },
    {
      "content": "You should review your usage and the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Scheduler Plans]</ept>.",
      "pos": [
        8087,
        8148
      ]
    },
    {
      "pos": [
        8154,
        8207
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"configure-cors\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Configure CORS if needed"
    },
    {
      "content": "Cross-origin resource sharing is a technique to allow a website to access a Web API on a different domain.",
      "pos": [
        8209,
        8315
      ]
    },
    {
      "content": "If you were using Azure Mobile",
      "pos": [
        8317,
        8347
      ]
    },
    {
      "content": "Services with an associated website then you will need to configure CORS as part of the migration.",
      "pos": [
        8348,
        8446
      ]
    },
    {
      "content": "If you were accessing Azure Mobile",
      "pos": [
        8448,
        8482
      ]
    },
    {
      "content": "Services exclusively from mobile devices, then CORS does not need to be configured except in rare cases.",
      "pos": [
        8483,
        8587
      ]
    },
    {
      "content": "Your migrated CORS settings are available as the <bpt id=\"p1\">**</bpt>MS_CrossDomainWhitelist<ept id=\"p1\">**</ept> App Setting.",
      "pos": [
        8589,
        8678
      ]
    },
    {
      "content": "To migrate your site to the App Service CORS facility:",
      "pos": [
        8680,
        8734
      ]
    },
    {
      "pos": [
        8742,
        8770
      ],
      "content": "Log into the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept>."
    },
    {
      "pos": [
        8777,
        8877
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>All resources<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>App Services<ept id=\"p2\">**</ept> then click on the name of your migrated Mobile Service."
    },
    {
      "pos": [
        8884,
        8963
      ],
      "content": "The Settings blade will open by default - if it doesn't, click on <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        8970,
        9004
      ],
      "content": "Click on <bpt id=\"p1\">**</bpt>CORS<ept id=\"p1\">**</ept> in the API menu."
    },
    {
      "content": "Enter any Allowed Origins in the box provided, pressing Enter after each one.",
      "pos": [
        9011,
        9088
      ]
    },
    {
      "content": "Once your list of Allowed Origins is correct, click on the Save button.",
      "pos": [
        9095,
        9166
      ]
    },
    {
      "content": "This is an optional task, but provides for a better management experience going forward.",
      "pos": [
        9168,
        9256
      ]
    },
    {
      "pos": [
        9260,
        9462
      ],
      "content": "[AZURE.TIP]  One of the advantages of using an Azure App Service is that you can run your web site and mobile service on the same site.  See\nthe [next steps](#next-steps) section for more information.",
      "leadings": [
        "",
        "> "
      ],
      "nodes": [
        {
          "content": "[AZURE.TIP]  One of the advantages of using an Azure App Service is that you can run your web site and mobile service on the same site.  See",
          "pos": [
            0,
            140
          ],
          "nodes": [
            {
              "content": "<ph id=\"ph1\">[AZURE.TIP]</ph>  One of the advantages of using an Azure App Service is that you can run your web site and mobile service on the same site.",
              "pos": [
                0,
                135
              ]
            },
            {
              "content": "See",
              "pos": [
                137,
                140
              ]
            }
          ]
        },
        {
          "content": "the <bpt id=\"p1\">[</bpt>next steps<ept id=\"p1\">](#next-steps)</ept> section for more information.",
          "pos": [
            141,
            200
          ]
        }
      ]
    },
    {
      "pos": [
        9468,
        9540
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"download-publish-profile\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Download a new Publishing Profile"
    },
    {
      "content": "The publishing profile of your site is changed when migrating to Azure App Service.",
      "pos": [
        9542,
        9625
      ]
    },
    {
      "content": "You will need a new publishing profile if you intend to publsh",
      "pos": [
        9627,
        9689
      ]
    },
    {
      "content": "your site from within Visual Studio.",
      "pos": [
        9690,
        9726
      ]
    },
    {
      "content": "To download the new publishing profile:",
      "pos": [
        9728,
        9767
      ]
    },
    {
      "pos": [
        9775,
        9803
      ],
      "content": "Log into the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept>."
    },
    {
      "pos": [
        9810,
        9910
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>All resources<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>App Services<ept id=\"p2\">**</ept> then click on the name of your migrated Mobile Service."
    },
    {
      "pos": [
        9917,
        9950
      ],
      "content": "Click on <bpt id=\"p1\">**</bpt>Get publish profile<ept id=\"p1\">**</ept>."
    },
    {
      "content": "The PublishSettings file will be downloaded to your computer.",
      "pos": [
        9952,
        10013
      ]
    },
    {
      "content": "It will normally be called <bpt id=\"p1\">_</bpt>sitename<ept id=\"p1\">_</ept>.PublishSettings.",
      "pos": [
        10015,
        10069
      ]
    },
    {
      "content": "You can then import the publish settings into your existing project:",
      "pos": [
        10071,
        10139
      ]
    },
    {
      "content": "Open Visual Studio and your Azure Mobile Service project.",
      "pos": [
        10147,
        10204
      ]
    },
    {
      "pos": [
        10211,
        10293
      ],
      "content": "Right-click on your project in the <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept> and select <bpt id=\"p2\">**</bpt>Publish...<ept id=\"p2\">**</ept>"
    },
    {
      "pos": [
        10300,
        10319
      ],
      "content": "Click on <bpt id=\"p1\">**</bpt>Import<ept id=\"p1\">**</ept>"
    },
    {
      "content": "Click on <bpt id=\"p1\">**</bpt>Browse<ept id=\"p1\">**</ept> and select your downloaded publish settings file.",
      "pos": [
        10326,
        10395
      ]
    },
    {
      "content": "Click on <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>",
      "pos": [
        10397,
        10412
      ]
    },
    {
      "pos": [
        10419,
        10488
      ],
      "content": "Click on <bpt id=\"p1\">**</bpt>Validate Connection<ept id=\"p1\">**</ept> to ensure the publish settings work."
    },
    {
      "pos": [
        10495,
        10537
      ],
      "content": "Click on <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept> to publish your site."
    },
    {
      "pos": [
        10543,
        10617
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"working-with-your-site\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Working with your site post-migration"
    },
    {
      "content": "You will start working with your new App Service in the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept> post-migration.",
      "pos": [
        10619,
        10705
      ]
    },
    {
      "content": "The following are some notes on specific operations that",
      "pos": [
        10707,
        10763
      ]
    },
    {
      "content": "you used to perform in the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Classic Portal]</ept>, together with their App Service equivalent.",
      "pos": [
        10764,
        10858
      ]
    },
    {
      "pos": [
        10864,
        10944
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"publishing-your-site\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Downloading and Publishing your migrated site"
    },
    {
      "content": "Your site is available via git or ftp and can be re-published with a number of different mechanisms, including WebDeploy, TFS, Mercurial, GitHub,",
      "pos": [
        10946,
        11091
      ]
    },
    {
      "content": "and FTP.",
      "pos": [
        11093,
        11101
      ]
    },
    {
      "content": "The deployment credentials are migrated with the rest of your site.",
      "pos": [
        11103,
        11170
      ]
    },
    {
      "content": "If you did not set your deployment credentials or you do not remember",
      "pos": [
        11172,
        11241
      ]
    },
    {
      "content": "them, you can reset them:",
      "pos": [
        11243,
        11268
      ]
    },
    {
      "pos": [
        11275,
        11303
      ],
      "content": "Log into the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept>."
    },
    {
      "pos": [
        11309,
        11409
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>All resources<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>App Services<ept id=\"p2\">**</ept> then click on the name of your migrated Mobile Service."
    },
    {
      "pos": [
        11415,
        11494
      ],
      "content": "The Settings blade will open by default - if it doesn't, click on <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        11500,
        11559
      ],
      "content": "Click on <bpt id=\"p1\">**</bpt>Deployment credentials<ept id=\"p1\">**</ept> in the PUBLISHING menu."
    },
    {
      "content": "Enter the new deployment credentials in the boxes provided, then click on the Save button.",
      "pos": [
        11565,
        11655
      ]
    },
    {
      "content": "You can use these credentials to clone the site with git or set up automated deployments from GitHub, TFS or Mercurial.",
      "pos": [
        11657,
        11776
      ]
    },
    {
      "content": "For more",
      "pos": [
        11778,
        11786
      ]
    },
    {
      "content": "information, see the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure App Service deployment documentation]</ept>.",
      "pos": [
        11787,
        11853
      ]
    },
    {
      "pos": [
        11859,
        11905
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"appsettings\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Application Settings"
    },
    {
      "content": "Most settings for a migrated mobile service are available via App Settings.",
      "pos": [
        11907,
        11982
      ]
    },
    {
      "content": "You can get a list of the app settings from the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept>.",
      "pos": [
        11984,
        12047
      ]
    },
    {
      "content": "To view or change your app settings:",
      "pos": [
        12048,
        12084
      ]
    },
    {
      "pos": [
        12091,
        12119
      ],
      "content": "Log into the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept>."
    },
    {
      "pos": [
        12125,
        12225
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>All resources<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>App Services<ept id=\"p2\">**</ept> then click on the name of your migrated Mobile Service."
    },
    {
      "pos": [
        12231,
        12310
      ],
      "content": "The Settings blade will open by default - if it doesn't, click on <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        12316,
        12370
      ],
      "content": "Click on <bpt id=\"p1\">**</bpt>Application settings<ept id=\"p1\">**</ept> in the GENERAL menu."
    },
    {
      "content": "Scroll to the App Settings section and find your app setting.",
      "pos": [
        12376,
        12437
      ]
    },
    {
      "content": "Click on the value of the app setting to edit the value.",
      "pos": [
        12443,
        12499
      ]
    },
    {
      "content": "Click on <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept> to save the value.",
      "pos": [
        12501,
        12537
      ]
    },
    {
      "content": "You can update multiple app settings at the same time.",
      "pos": [
        12539,
        12593
      ]
    },
    {
      "pos": [
        12597,
        12892
      ],
      "content": "[AZURE.TIP]  You will notice that there are two Application Settings with the same value.  For example, you may see _ApplicationKey_ and\n_MS_ApplicationKey_.  You only need to alter the app setting prefixed by **MS_**. However, it is a good idea to update both app settings at\nthe same time.",
      "leadings": [
        "",
        "> ",
        "> "
      ],
      "nodes": [
        {
          "content": "[AZURE.TIP]  You will notice that there are two Application Settings with the same value.  For example, you may see _ApplicationKey_ and",
          "pos": [
            0,
            136
          ],
          "nodes": [
            {
              "content": "<ph id=\"ph1\">[AZURE.TIP]</ph>  You will notice that there are two Application Settings with the same value.",
              "pos": [
                0,
                89
              ]
            },
            {
              "content": "For example, you may see <bpt id=\"p1\">_</bpt>ApplicationKey<ept id=\"p1\">_</ept> and",
              "pos": [
                91,
                136
              ]
            }
          ]
        },
        {
          "content": "_MS_ApplicationKey_.  You only need to alter the app setting prefixed by **MS_**. However, it is a good idea to update both app settings at",
          "pos": [
            137,
            276
          ],
          "nodes": [
            {
              "content": "<bpt id=\"p1\">_</bpt>MS_ApplicationKey<ept id=\"p1\">_</ept>.",
              "pos": [
                0,
                20
              ]
            },
            {
              "content": "You only need to alter the app setting prefixed by <bpt id=\"p1\">**</bpt>MS_<ept id=\"p1\">**</ept>.",
              "pos": [
                22,
                81
              ]
            },
            {
              "content": "However, it is a good idea to update both app settings at",
              "pos": [
                82,
                139
              ]
            }
          ]
        },
        {
          "content": "the same time.",
          "pos": [
            277,
            291
          ]
        }
      ]
    },
    {
      "pos": [
        12898,
        12941
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"authentication\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Authentication"
    },
    {
      "content": "All authentication settings are available as App Settings in your migrated site.",
      "pos": [
        12943,
        13023
      ]
    },
    {
      "content": "To update your authentication settings, you must alter the",
      "pos": [
        13025,
        13083
      ]
    },
    {
      "content": "appropriate app settings.",
      "pos": [
        13084,
        13109
      ]
    },
    {
      "content": "The following table shows the appropriate app settings for your authentication provider:",
      "pos": [
        13111,
        13199
      ]
    },
    {
      "content": "Provider",
      "pos": [
        13203,
        13211
      ]
    },
    {
      "content": "Client ID",
      "pos": [
        13223,
        13232
      ]
    },
    {
      "content": "Client Secret",
      "pos": [
        13251,
        13264
      ]
    },
    {
      "content": "Other Settings",
      "pos": [
        13282,
        13296
      ]
    },
    {
      "content": "Microsoft Account",
      "pos": [
        13423,
        13440
      ]
    },
    {
      "content": "MS_MicrosoftClientID",
      "pos": [
        13445,
        13465
      ]
    },
    {
      "content": "MS_MicrosoftClientSecret",
      "pos": [
        13473,
        13497
      ]
    },
    {
      "content": "MS_MicrosoftPackageSID",
      "pos": [
        13504,
        13526
      ]
    },
    {
      "content": "Facebook",
      "pos": [
        13533,
        13541
      ]
    },
    {
      "content": "MS_FacebookAppID",
      "pos": [
        13555,
        13571
      ]
    },
    {
      "content": "MS_FacebookAppSecret",
      "pos": [
        13583,
        13603
      ]
    },
    {
      "content": "Twitter",
      "pos": [
        13643,
        13650
      ]
    },
    {
      "content": "MS_TwitterConsumerKey",
      "pos": [
        13665,
        13686
      ]
    },
    {
      "content": "MS_TwitterConsumerSecret",
      "pos": [
        13693,
        13717
      ]
    },
    {
      "content": "Google",
      "pos": [
        13753,
        13759
      ]
    },
    {
      "content": "MS_GoogleClientID",
      "pos": [
        13775,
        13792
      ]
    },
    {
      "content": "MS_GoogleClientSecret",
      "pos": [
        13803,
        13824
      ]
    },
    {
      "content": "Azure AD",
      "pos": [
        13863,
        13871
      ]
    },
    {
      "content": "MS_AadClientID",
      "pos": [
        13885,
        13899
      ]
    },
    {
      "content": "MS_AadTenants",
      "pos": [
        13944,
        13957
      ]
    },
    {
      "pos": [
        13972,
        14111
      ],
      "content": "Note: <bpt id=\"p1\">**</bpt>MS_AadTenants<ept id=\"p1\">**</ept> is stored as a comma-separated list of tenant domains (the \"Allowed Tenants\" fields in the Mobile Services portal)."
    },
    {
      "pos": [
        14115,
        14196
      ],
      "content": "<ph id=\"ph1\">[AZURE.WARNING]</ph> <bpt id=\"p1\">**</bpt>Do not use the authentication mechanisms in the Settings menu<ept id=\"p1\">**</ept>"
    },
    {
      "pos": [
        14201,
        14643
      ],
      "content": "Azure App Service provides a separate \"no-code\" Authentication and Authorization system under the _Authentication / Authorization_\nSettings menu and the (deprecated)  _Mobile Authentication_ option under the Settings menu.  These options are incompatible with a migrated Azure\nMobile Service.  You can [upgrade your site](app-service-mobile-net-upgrading-from-mobile-services.md) to take advantage of the Azure App Service authentication.",
      "leadings": [
        "",
        "> ",
        "> "
      ],
      "nodes": [
        {
          "content": "Azure App Service provides a separate \"no-code\" Authentication and Authorization system under the <bpt id=\"p1\">_</bpt>Authentication / Authorization<ept id=\"p1\">_</ept>",
          "pos": [
            0,
            130
          ]
        },
        {
          "content": "Settings menu and the (deprecated)  _Mobile Authentication_ option under the Settings menu.  These options are incompatible with a migrated Azure",
          "pos": [
            131,
            276
          ],
          "nodes": [
            {
              "content": "Settings menu and the (deprecated)  <bpt id=\"p1\">_</bpt>Mobile Authentication<ept id=\"p1\">_</ept> option under the Settings menu.",
              "pos": [
                0,
                91
              ]
            },
            {
              "content": "These options are incompatible with a migrated Azure",
              "pos": [
                93,
                145
              ]
            }
          ]
        },
        {
          "content": "Mobile Service.  You can [upgrade your site](app-service-mobile-net-upgrading-from-mobile-services.md) to take advantage of the Azure App Service authentication.",
          "pos": [
            277,
            438
          ],
          "nodes": [
            {
              "content": "Mobile Service.",
              "pos": [
                0,
                15
              ]
            },
            {
              "content": "You can <bpt id=\"p1\">[</bpt>upgrade your site<ept id=\"p1\">](app-service-mobile-net-upgrading-from-mobile-services.md)</ept> to take advantage of the Azure App Service authentication.",
              "pos": [
                17,
                161
              ]
            }
          ]
        }
      ]
    },
    {
      "pos": [
        14649,
        14678
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"easytables\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Data"
    },
    {
      "content": "The <bpt id=\"p1\">_</bpt>Data<ept id=\"p1\">_</ept> tab in Mobile Services has been replaced by <bpt id=\"p2\">_</bpt>Easy Tables<ept id=\"p2\">_</ept> within the Azure Portal.",
      "pos": [
        14680,
        14773
      ]
    },
    {
      "content": "To access Easy Tables:",
      "pos": [
        14775,
        14797
      ]
    },
    {
      "pos": [
        14804,
        14832
      ],
      "content": "Log into the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept>."
    },
    {
      "pos": [
        14838,
        14938
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>All resources<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>App Services<ept id=\"p2\">**</ept> then click on the name of your migrated Mobile Service."
    },
    {
      "pos": [
        14944,
        15023
      ],
      "content": "The Settings blade will open by default - if it doesn't, click on <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        15029,
        15073
      ],
      "content": "Click on <bpt id=\"p1\">**</bpt>Easy tables<ept id=\"p1\">**</ept> in the MOBILE menu."
    },
    {
      "content": "You can add a new table by clicking on the <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept> button or access your existing tables by clicking on a table name.",
      "pos": [
        15075,
        15192
      ]
    },
    {
      "content": "There are a variety of operations",
      "pos": [
        15194,
        15227
      ]
    },
    {
      "content": "you can do from this blade, including:",
      "pos": [
        15228,
        15266
      ]
    },
    {
      "content": "Changing table permissions",
      "pos": [
        15272,
        15298
      ]
    },
    {
      "content": "Editing the operational scripts",
      "pos": [
        15303,
        15334
      ]
    },
    {
      "content": "Managing the table schema",
      "pos": [
        15339,
        15364
      ]
    },
    {
      "content": "Deleting the table",
      "pos": [
        15369,
        15387
      ]
    },
    {
      "content": "Clearing the table contents",
      "pos": [
        15392,
        15419
      ]
    },
    {
      "content": "Deleting specific rows of the table",
      "pos": [
        15424,
        15459
      ]
    },
    {
      "pos": [
        15465,
        15491
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"easyapis\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>API"
    },
    {
      "content": "The <bpt id=\"p1\">_</bpt>API<ept id=\"p1\">_</ept> tab in Mobile Services has been replaced by <bpt id=\"p2\">_</bpt>Easy APIs<ept id=\"p2\">_</ept> within the Azure Portal.",
      "pos": [
        15493,
        15583
      ]
    },
    {
      "content": "To access Easy APIs:",
      "pos": [
        15585,
        15605
      ]
    },
    {
      "pos": [
        15612,
        15640
      ],
      "content": "Log into the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept>."
    },
    {
      "pos": [
        15646,
        15746
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>All resources<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>App Services<ept id=\"p2\">**</ept> then click on the name of your migrated Mobile Service."
    },
    {
      "pos": [
        15752,
        15831
      ],
      "content": "The Settings blade will open by default - if it doesn't, click on <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        15837,
        15879
      ],
      "content": "Click on <bpt id=\"p1\">**</bpt>Easy APIs<ept id=\"p1\">**</ept> in the MOBILE menu."
    },
    {
      "content": "Your migrated APIs will already be listed in the blade.",
      "pos": [
        15881,
        15936
      ]
    },
    {
      "content": "You can also add a new API from this blade.",
      "pos": [
        15938,
        15981
      ]
    },
    {
      "content": "To manage a specific API, click on the API.",
      "pos": [
        15983,
        16026
      ]
    },
    {
      "content": "From the new blade, you can adjust the permissions and edit the scripts for the API.",
      "pos": [
        16027,
        16111
      ]
    },
    {
      "pos": [
        16117,
        16160
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"on-demand-jobs\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Scheduler Jobs"
    },
    {
      "content": "All scheduler jobs are available through the Scheduler Job Collections section.",
      "pos": [
        16162,
        16241
      ]
    },
    {
      "content": "To access your scheduler jobs:",
      "pos": [
        16243,
        16273
      ]
    },
    {
      "pos": [
        16280,
        16308
      ],
      "content": "Log into the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept>."
    },
    {
      "pos": [
        16314,
        16412
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>Browse&gt;<ept id=\"p1\">**</ept>, enter <bpt id=\"p2\">**</bpt>Schedule<ept id=\"p2\">**</ept> in the <bpt id=\"p3\">_</bpt>Filter<ept id=\"p3\">_</ept> box, then select <bpt id=\"p4\">**</bpt>Scheduler Collections<ept id=\"p4\">**</ept>."
    },
    {
      "content": "Select the Job Collection for your site.",
      "pos": [
        16418,
        16458
      ]
    },
    {
      "content": "It will be named <bpt id=\"p1\">_</bpt>sitename<ept id=\"p1\">_</ept>-Jobs.",
      "pos": [
        16460,
        16493
      ]
    },
    {
      "pos": [
        16499,
        16521
      ],
      "content": "Click on <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        16527,
        16568
      ],
      "content": "Click on <bpt id=\"p1\">**</bpt>Scheduler Jobs<ept id=\"p1\">**</ept> under MANAGE."
    },
    {
      "content": "Scheduled jobs will be listed with the frequency you specified prior to migration.",
      "pos": [
        16570,
        16652
      ]
    },
    {
      "content": "On-demand jobs will be disabled.",
      "pos": [
        16654,
        16686
      ]
    },
    {
      "content": "To run an on-demand job:",
      "pos": [
        16688,
        16712
      ]
    },
    {
      "content": "Select the job you wish to run.",
      "pos": [
        16719,
        16750
      ]
    },
    {
      "pos": [
        16756,
        16808
      ],
      "content": "If necessary, click on <bpt id=\"p1\">**</bpt>Enable<ept id=\"p1\">**</ept> to enable the job."
    },
    {
      "pos": [
        16814,
        16855
      ],
      "content": "Click on <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept>, then <bpt id=\"p2\">**</bpt>Schedule<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        16861,
        16916
      ],
      "content": "Select a Recurrence of <bpt id=\"p1\">**</bpt>Once<ept id=\"p1\">**</ept>, then click on <bpt id=\"p2\">**</bpt>Save<ept id=\"p2\">**</ept>"
    },
    {
      "content": "Your on-demand jobs are located in <ph id=\"ph1\">`App_Data/config/scripts/scheduler post-migration`</ph>.",
      "pos": [
        16918,
        17004
      ]
    },
    {
      "content": "We recommend that you convert all on-demand jobs to <bpt id=\"p1\">[</bpt><ept id=\"p1\">WebJobs]</ept>.",
      "pos": [
        17006,
        17068
      ]
    },
    {
      "content": "You should write new scheduler jobs as <bpt id=\"p1\">[</bpt><ept id=\"p1\">WebJobs]</ept>.",
      "pos": [
        17069,
        17118
      ]
    },
    {
      "pos": [
        17124,
        17173
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"notification-hubs\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Notification Hubs"
    },
    {
      "content": "Mobile Services uses Notification Hubs for push notifications.",
      "pos": [
        17175,
        17237
      ]
    },
    {
      "content": "The following App Settings are used to link the Notification Hub to your Mobile Service",
      "pos": [
        17239,
        17326
      ]
    },
    {
      "content": "after migration:",
      "pos": [
        17327,
        17343
      ]
    },
    {
      "content": "Application Setting",
      "pos": [
        17347,
        17366
      ]
    },
    {
      "content": "Description",
      "pos": [
        17388,
        17399
      ]
    },
    {
      "content": "MS_PushEntityNamespace",
      "pos": [
        17521,
        17543
      ]
    },
    {
      "content": "The Notification Hub Namespace",
      "pos": [
        17560,
        17590
      ]
    },
    {
      "content": "MS_NotificationHubName",
      "pos": [
        17607,
        17629
      ]
    },
    {
      "content": "The Notification Hub Name",
      "pos": [
        17646,
        17671
      ]
    },
    {
      "content": "MS_NotificationHubConnectionString",
      "pos": [
        17693,
        17727
      ]
    },
    {
      "content": "The Notification Hub Connection String",
      "pos": [
        17732,
        17770
      ]
    },
    {
      "content": "MS_NamespaceName",
      "pos": [
        17779,
        17795
      ]
    },
    {
      "content": "An alias for MS_PushEntityNamespace",
      "pos": [
        17818,
        17853
      ]
    },
    {
      "content": "Your Notification Hub will be managed through the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept>.",
      "pos": [
        17862,
        17927
      ]
    },
    {
      "content": "Note the Notification Hub name (you can find this using the App Settings):",
      "pos": [
        17929,
        18003
      ]
    },
    {
      "pos": [
        18010,
        18038
      ],
      "content": "Log into the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept>."
    },
    {
      "pos": [
        18044,
        18097
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>Browse<ept id=\"p1\">**</ept>&gt;, then select <bpt id=\"p2\">**</bpt>Notification Hubs<ept id=\"p2\">**</ept>"
    },
    {
      "content": "Click on the Notification Hub name associated with the mobile service.",
      "pos": [
        18103,
        18173
      ]
    },
    {
      "pos": [
        18177,
        18496
      ],
      "content": "[AZURE.NOTE] Your notification hub will not be visible if it a \"Mixed\" type.  \"Mixed\" type notification hubs utilize both Notification Hubs and\nlegacy Service Bus features.  You will need to [convert your Mixed namespaces].  Once the conversion is complete, your notification hub will\nappear in the [Azure Portal] .",
      "leadings": [
        "",
        "> ",
        "> "
      ],
      "nodes": [
        {
          "content": "[AZURE.NOTE] Your notification hub will not be visible if it a \"Mixed\" type.  \"Mixed\" type notification hubs utilize both Notification Hubs and",
          "pos": [
            0,
            143
          ],
          "nodes": [
            {
              "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> Your notification hub will not be visible if it a \"Mixed\" type.",
              "pos": [
                0,
                76
              ]
            },
            {
              "content": "\"Mixed\" type notification hubs utilize both Notification Hubs and",
              "pos": [
                78,
                143
              ]
            }
          ]
        },
        {
          "content": "legacy Service Bus features.  You will need to [convert your Mixed namespaces].  Once the conversion is complete, your notification hub will",
          "pos": [
            144,
            284
          ],
          "nodes": [
            {
              "content": "legacy Service Bus features.",
              "pos": [
                0,
                28
              ]
            },
            {
              "content": "You will need to <bpt id=\"p1\">[</bpt><ept id=\"p1\">convert your Mixed namespaces]</ept>.",
              "pos": [
                30,
                79
              ]
            },
            {
              "content": "Once the conversion is complete, your notification hub will",
              "pos": [
                81,
                140
              ]
            }
          ]
        },
        {
          "content": "appear in the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept> .",
          "pos": [
            285,
            315
          ]
        }
      ]
    },
    {
      "pos": [
        18498,
        18565
      ],
      "content": "For more information, review the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Notification Hubs]</ept> documentation."
    },
    {
      "pos": [
        18569,
        18750
      ],
      "content": "[AZURE.TIP] Notification Hubs management features in the [Azure Portal] is still in preview.  The [Azure Classic Portal] remains available for\nmanaging all your Notification Hubs.",
      "leadings": [
        "",
        "> "
      ],
      "nodes": [
        {
          "content": "[AZURE.TIP] Notification Hubs management features in the [Azure Portal] is still in preview.  The [Azure Classic Portal] remains available for",
          "pos": [
            0,
            142
          ],
          "nodes": [
            {
              "content": "<ph id=\"ph1\">[AZURE.TIP]</ph> Notification Hubs management features in the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept> is still in preview.",
              "pos": [
                0,
                92
              ]
            },
            {
              "content": "The <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Classic Portal]</ept> remains available for",
              "pos": [
                94,
                142
              ]
            }
          ]
        },
        {
          "content": "managing all your Notification Hubs.",
          "pos": [
            143,
            179
          ]
        }
      ]
    },
    {
      "pos": [
        18756,
        18801
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"app-settings\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Other App Settings"
    },
    {
      "pos": [
        18803,
        18927
      ],
      "content": "The following additional app settings are migrated from your Mobile Service and available under <bpt id=\"p1\">*</bpt>Settings<ept id=\"p1\">*</ept> &gt; <bpt id=\"p2\">*</bpt>App Settings<ept id=\"p2\">*</ept>:"
    },
    {
      "content": "Application Setting",
      "pos": [
        18931,
        18950
      ]
    },
    {
      "content": "Description",
      "pos": [
        18966,
        18977
      ]
    },
    {
      "content": "MS_MobileServiceName",
      "pos": [
        19091,
        19111
      ]
    },
    {
      "content": "The name of your app",
      "pos": [
        19124,
        19144
      ]
    },
    {
      "content": "MS_MobileServiceDomainSuffix",
      "pos": [
        19170,
        19198
      ]
    },
    {
      "content": "The domain prefix.",
      "pos": [
        19203,
        19221
      ]
    },
    {
      "content": "i.e",
      "pos": [
        19222,
        19225
      ]
    },
    {
      "content": "azure-mobile.net",
      "pos": [
        19226,
        19242
      ]
    },
    {
      "content": "MS_ApplicationKey",
      "pos": [
        19249,
        19266
      ]
    },
    {
      "content": "Your application key",
      "pos": [
        19282,
        19302
      ]
    },
    {
      "content": "MS_MasterKey",
      "pos": [
        19328,
        19340
      ]
    },
    {
      "content": "Your app master key",
      "pos": [
        19361,
        19380
      ]
    },
    {
      "content": "The application key and master key should be identical to the Application Keys from your original Mobile Service.",
      "pos": [
        19404,
        19517
      ]
    },
    {
      "content": "In particular, the Application Key is",
      "pos": [
        19519,
        19556
      ]
    },
    {
      "content": "sent by mobile clients to validate their use of the mobile API.",
      "pos": [
        19557,
        19620
      ]
    },
    {
      "pos": [
        19626,
        19679
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"cliequivalents\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Command Line Equivalents"
    },
    {
      "content": "You will no longer be able to utilize the <bpt id=\"p1\">_</bpt>azure mobile<ept id=\"p1\">_</ept> command to manage your Azure Mobile Services site.",
      "pos": [
        19681,
        19788
      ]
    },
    {
      "content": "Instead, many functions have been replaced",
      "pos": [
        19790,
        19832
      ]
    },
    {
      "content": "with the <bpt id=\"p1\">_</bpt>azure site<ept id=\"p1\">_</ept> command.",
      "pos": [
        19833,
        19863
      ]
    },
    {
      "content": "Use the below table to find equivalents for common commands:",
      "pos": [
        19865,
        19925
      ]
    },
    {
      "pos": [
        19929,
        19951
      ],
      "content": "<bpt id=\"p1\">_</bpt>Azure Mobile<ept id=\"p1\">_</ept> Command"
    },
    {
      "pos": [
        19974,
        20005
      ],
      "content": "Equivalent <bpt id=\"p1\">_</bpt>Azure Site<ept id=\"p1\">_</ept> command"
    },
    {
      "content": "mobile locations",
      "pos": [
        20113,
        20129
      ]
    },
    {
      "content": "site location list",
      "pos": [
        20158,
        20176
      ]
    },
    {
      "content": "mobile list",
      "pos": [
        20205,
        20216
      ]
    },
    {
      "content": "site list",
      "pos": [
        20250,
        20259
      ]
    },
    {
      "pos": [
        20297,
        20315
      ],
      "content": "mobile show <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept>"
    },
    {
      "pos": [
        20342,
        20358
      ],
      "content": "site show <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept>"
    },
    {
      "pos": [
        20389,
        20410
      ],
      "content": "mobile restart <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept>"
    },
    {
      "pos": [
        20434,
        20453
      ],
      "content": "site restart <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept>"
    },
    {
      "pos": [
        20481,
        20503
      ],
      "content": "mobile redeploy <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept>"
    },
    {
      "pos": [
        20526,
        20568
      ],
      "content": "site deployment redeploy <bpt id=\"p1\">_</bpt>commitId<ept id=\"p1\">_</ept> <bpt id=\"p2\">_</bpt>name<ept id=\"p2\">_</ept>"
    },
    {
      "pos": [
        20573,
        20609
      ],
      "content": "mobile key set <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept> <bpt id=\"p2\">_</bpt>type<ept id=\"p2\">_</ept> <bpt id=\"p3\">_</bpt>value<ept id=\"p3\">_</ept>"
    },
    {
      "content": "site appsetting delete <bpt id=\"p1\">_</bpt>key<ept id=\"p1\">_</ept> <bpt id=\"p2\">_</bpt>name<ept id=\"p2\">_</ept>",
      "pos": [
        20618,
        20653
      ]
    },
    {
      "content": "site appsetting add <bpt id=\"p1\">_</bpt>key<ept id=\"p1\">_</ept>=<bpt id=\"p2\">_</bpt>value<ept id=\"p2\">_</ept> <bpt id=\"p3\">_</bpt>name<ept id=\"p3\">_</ept>",
      "pos": [
        20660,
        20700
      ]
    },
    {
      "pos": [
        20705,
        20730
      ],
      "content": "mobile config list <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept>"
    },
    {
      "pos": [
        20750,
        20777
      ],
      "content": "site appsetting list <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept>"
    },
    {
      "pos": [
        20797,
        20827
      ],
      "content": "mobile config get <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept> <bpt id=\"p2\">_</bpt>key<ept id=\"p2\">_</ept>"
    },
    {
      "pos": [
        20842,
        20875
      ],
      "content": "site appsetting show <bpt id=\"p1\">_</bpt>key<ept id=\"p1\">_</ept> <bpt id=\"p2\">_</bpt>name<ept id=\"p2\">_</ept>"
    },
    {
      "pos": [
        20889,
        20919
      ],
      "content": "mobile config set <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept> <bpt id=\"p2\">_</bpt>key<ept id=\"p2\">_</ept>"
    },
    {
      "content": "site appsetting delete <bpt id=\"p1\">_</bpt>key<ept id=\"p1\">_</ept> <bpt id=\"p2\">_</bpt>name<ept id=\"p2\">_</ept>",
      "pos": [
        20934,
        20969
      ]
    },
    {
      "content": "site appsetting add <bpt id=\"p1\">_</bpt>key<ept id=\"p1\">_</ept>=<bpt id=\"p2\">_</bpt>value<ept id=\"p2\">_</ept> <bpt id=\"p3\">_</bpt>name<ept id=\"p3\">_</ept>",
      "pos": [
        20976,
        21016
      ]
    },
    {
      "pos": [
        21021,
        21046
      ],
      "content": "mobile domain list <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept>"
    },
    {
      "pos": [
        21066,
        21089
      ],
      "content": "site domain list <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept>"
    },
    {
      "pos": [
        21113,
        21146
      ],
      "content": "mobile domain add <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept> <bpt id=\"p2\">_</bpt>domain<ept id=\"p2\">_</ept>"
    },
    {
      "pos": [
        21158,
        21189
      ],
      "content": "site domain add <bpt id=\"p1\">_</bpt>domain<ept id=\"p1\">_</ept> <bpt id=\"p2\">_</bpt>name<ept id=\"p2\">_</ept>"
    },
    {
      "pos": [
        21205,
        21232
      ],
      "content": "mobile domain delete <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept>"
    },
    {
      "pos": [
        21250,
        21284
      ],
      "content": "site domain delete <bpt id=\"p1\">_</bpt>domain<ept id=\"p1\">_</ept> <bpt id=\"p2\">_</bpt>name<ept id=\"p2\">_</ept>"
    },
    {
      "pos": [
        21297,
        21321
      ],
      "content": "mobile scale show <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept>"
    },
    {
      "pos": [
        21342,
        21358
      ],
      "content": "site show <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept>"
    },
    {
      "pos": [
        21389,
        21415
      ],
      "content": "mobile scale change <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept>"
    },
    {
      "content": "site scale mode <bpt id=\"p1\">_</bpt>mode<ept id=\"p1\">_</ept> <bpt id=\"p2\">_</bpt>name<ept id=\"p2\">_</ept>",
      "pos": [
        21434,
        21463
      ]
    },
    {
      "content": "site scale instances <bpt id=\"p1\">_</bpt>instances<ept id=\"p1\">_</ept> <bpt id=\"p2\">_</bpt>name<ept id=\"p2\">_</ept>",
      "pos": [
        21471,
        21510
      ]
    },
    {
      "pos": [
        21515,
        21544
      ],
      "content": "mobile appsetting list <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept>"
    },
    {
      "pos": [
        21560,
        21587
      ],
      "content": "site appsetting list <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept>"
    },
    {
      "pos": [
        21607,
        21649
      ],
      "content": "mobile appsetting add <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept> <bpt id=\"p2\">_</bpt>key<ept id=\"p2\">_</ept> <bpt id=\"p3\">_</bpt>value<ept id=\"p3\">_</ept>"
    },
    {
      "pos": [
        21652,
        21692
      ],
      "content": "site appsetting add <bpt id=\"p1\">_</bpt>key<ept id=\"p1\">_</ept>=<bpt id=\"p2\">_</bpt>value<ept id=\"p2\">_</ept> <bpt id=\"p3\">_</bpt>name<ept id=\"p3\">_</ept>"
    },
    {
      "pos": [
        21699,
        21736
      ],
      "content": "mobile appsetting delete <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept> <bpt id=\"p2\">_</bpt>key<ept id=\"p2\">_</ept>"
    },
    {
      "pos": [
        21744,
        21779
      ],
      "content": "site appsetting delete <bpt id=\"p1\">_</bpt>key<ept id=\"p1\">_</ept> <bpt id=\"p2\">_</bpt>name<ept id=\"p2\">_</ept>"
    },
    {
      "pos": [
        21791,
        21826
      ],
      "content": "mobile appsetting show <bpt id=\"p1\">_</bpt>name<ept id=\"p1\">_</ept> <bpt id=\"p2\">_</bpt>key<ept id=\"p2\">_</ept>"
    },
    {
      "pos": [
        21836,
        21871
      ],
      "content": "site appsetting delete <bpt id=\"p1\">_</bpt>key<ept id=\"p1\">_</ept> <bpt id=\"p2\">_</bpt>name<ept id=\"p2\">_</ept>"
    },
    {
      "content": "Update authentication or push notification settings by updating the appropriate Application Setting.",
      "pos": [
        21882,
        21982
      ]
    },
    {
      "content": "Edit files and publish your site via ftp or git.",
      "pos": [
        21983,
        22031
      ]
    },
    {
      "pos": [
        22037,
        22086
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"diagnostics\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Diagnostics and Logging"
    },
    {
      "content": "Diagnostic Logging is normally disabled in an Azure App Service.",
      "pos": [
        22088,
        22152
      ]
    },
    {
      "content": "To enable diagnostic logging:",
      "pos": [
        22154,
        22183
      ]
    },
    {
      "pos": [
        22190,
        22218
      ],
      "content": "Log into the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept>."
    },
    {
      "pos": [
        22224,
        22324
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>All resources<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>App Services<ept id=\"p2\">**</ept> then click on the name of your migrated Mobile Service."
    },
    {
      "pos": [
        22330,
        22409
      ],
      "content": "The Settings blade will open by default - if it doesn't, click on <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        22415,
        22466
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>Diagnostic Logs<ept id=\"p1\">**</ept> under the FEATURES menu."
    },
    {
      "pos": [
        22472,
        22605
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>ON<ept id=\"p1\">**</ept> for the following logs: <bpt id=\"p2\">**</bpt>Application Logging (Filesystem)<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Detailed error messages<ept id=\"p3\">**</ept> and <bpt id=\"p4\">**</bpt>Failed request tracing<ept id=\"p4\">**</ept>"
    },
    {
      "pos": [
        22611,
        22655
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>File System<ept id=\"p1\">**</ept> for Web server logging"
    },
    {
      "pos": [
        22661,
        22678
      ],
      "content": "Click on <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>"
    },
    {
      "content": "To view the logs:",
      "pos": [
        22680,
        22697
      ]
    },
    {
      "pos": [
        22704,
        22732
      ],
      "content": "Log into the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept>."
    },
    {
      "pos": [
        22738,
        22838
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>All resources<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>App Services<ept id=\"p2\">**</ept> then click on the name of your migrated Mobile Service."
    },
    {
      "pos": [
        22844,
        22873
      ],
      "content": "Click on the <bpt id=\"p1\">**</bpt>Tools<ept id=\"p1\">**</ept> button"
    },
    {
      "pos": [
        22879,
        22924
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>Log Stream<ept id=\"p1\">**</ept> under the OBSERVE menu."
    },
    {
      "content": "Logs will stream into the window provided as they are generated.",
      "pos": [
        22926,
        22990
      ]
    },
    {
      "content": "You can also download the logs for later analysis using your deployment credentials.",
      "pos": [
        22992,
        23076
      ]
    },
    {
      "content": "See",
      "pos": [
        23078,
        23081
      ]
    },
    {
      "content": "the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Logging]</ept> documentation for more information.",
      "pos": [
        23082,
        23131
      ]
    },
    {
      "pos": [
        23136,
        23171
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"next-steps\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Next Steps"
    },
    {
      "content": "Not that your application is migrated to App Service, there are even more features you can leverage:",
      "pos": [
        23173,
        23273
      ]
    },
    {
      "pos": [
        23279,
        23370
      ],
      "content": "Deployment <bpt id=\"p1\">[</bpt><ept id=\"p1\">staging slots]</ept> allow you to stage changes to your site and perform A/B testing."
    },
    {
      "pos": [
        23375,
        23436
      ],
      "content": "<bpt id=\"p1\">[</bpt><ept id=\"p1\">WebJobs]</ept> provide a replacement for On-demand scheduled jobs."
    },
    {
      "pos": [
        23441,
        23530
      ],
      "content": "You can <bpt id=\"p1\">[</bpt><ept id=\"p1\">continuously deploy]</ept> your site by linking your site to GitHub, TFS or Mercurial."
    },
    {
      "pos": [
        23535,
        23591
      ],
      "content": "You can use <bpt id=\"p1\">[</bpt><ept id=\"p1\">Application Insights]</ept> to monitor your site."
    },
    {
      "content": "Serve a website and a Mobile API from the same code.",
      "pos": [
        23596,
        23648
      ]
    },
    {
      "pos": [
        23654,
        23748
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"upgrading-your-site\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Upgrading your Mobile Services site to Azure Mobile Apps SDK"
    },
    {
      "content": "For Node.js-based server projects, the new <bpt id=\"p1\">[</bpt><ept id=\"p1\">Mobile Apps Node.js SDK]</ept> provides a number of new features.",
      "pos": [
        23754,
        23857
      ]
    },
    {
      "content": "For instance, you can now do local development and debugging, use any Node.js version above 0.10, and customize with any Express.js middleware.",
      "pos": [
        23858,
        24001
      ]
    },
    {
      "content": "For .NET-based server projects, the new <bpt id=\"p1\">[</bpt>Mobile Apps SDK NuGet packages<ept id=\"p1\">](https://www.nuget.org/packages/Microsoft.Azure.Mobile.Server/)</ept> has more flexibility on NuGet dependencies, supports the new App Service authentication features, and composes with any ASP.NET project, including MVC.",
      "pos": [
        24007,
        24294
      ]
    },
    {
      "content": "To learn more about upgrading, see <bpt id=\"p1\">[</bpt>Upgrade your existing .NET Mobile Service to App Service<ept id=\"p1\">](app-service-mobile-net-upgrading-from-mobile-services.md)</ept>.",
      "pos": [
        24295,
        24447
      ]
    }
  ],
  "content": "<properties\n    pageTitle=\"Migrate from Mobile Services to an App Service Mobile App\"\n    description=\"Learn how to easily migrate your Mobile Services application to an App Service Mobile App\"\n    services=\"app-service\\mobile\"\n    documentationCenter=\"\"\n    authors=\"adrianhall\"\n    manager=\"dwrede\"\n    editor=\"\"/>\n\n<tags\n    ms.service=\"app-service-mobile\"\n    ms.workload=\"mobile\"\n    ms.tgt_pltfrm=\"mobile\"\n    ms.devlang=\"na\"\n    ms.topic=\"article\"\n    ms.date=\"02/09/2016\"\n    ms.author=\"adrianhall\"/>\n\n# <a name=\"article-top\"></a>Migrate your existing Azure Mobile Service to Azure App Service\n\nWith the [general availability of Azure App Service], Azure Mobile Services sites can be easily migrated in-place to take advantage of all the\nfeatures of the Azure App Service.  This document explains what to expect when migrating your site from Azure Mobile Services to Azure App Service.\n\n## <a name=\"what-does-migration-do\"></a>What does migration do to your site\n\nMigration of your Azure Mobile Service will turn your Mobile Service into an [Azure App Service] app without affecting the code in any way.  Your Notification\nHubs, SQL data connection, authentication settings, scheduled jobs, and domain name will remain unchanged.  Mobile clients using your Azure Mobile Service\nwill continue to operate normally.  Migration will restart your service once it is transferred to Azure App Service.\n\n[AZURE.INCLUDE [app-service-mobile-migrate-vs-upgrade](../../includes/app-service-mobile-migrate-vs-upgrade.md)]\n\n## <a name=\"why-migrate\"></a>Why you should migrate your site\n\nMicrosoft is recommending that you migrate your Azure Mobile Service to take advantage of the features of Azure App Service, including:\n\n  *  New host features, including [WebJobs] and [custom domain names].\n  *  Connectivity to your on-premise resources using [VNet] in addition to [Hybrid Connections].\n  *  Monitoring and troubleshooting with New Relic or [Application Insights].\n  *  Built-in DevOps tooling, including [staging slots], roll-back and in-production testing.\n  *  [Auto-scale], load balancing and [performance monitoring].\n\nFor more information on the benefits of Azure App Service, see the [Mobile Services vs. App Service] topic.\n\n## <a name=\"why-not-migrate\"></a>Why you should not migrate your site\n\nThere are a few reasons why you should not migrate your Azure Mobile Services now:\n\n  *  You are currently in a busy period and cannot afford a site restart at this time.\n  *  You do not wish to affect your production site before testing the migration process.\n  *  You have multiple sites in the Free or Basic pricing tiers and do not want to migrate all sites at the same time.\n\nIn you are in a busy period, then please plan to migrate during a scheduled maintenance window.  The migration process restarts your\nsite as part of the process and your users may notice this momentary availability disruption.\n\nThere are workarounds for most of the items in this list.  Please refer to the [Before you begin](#before-you-begin) section below for details.\n\n## <a name=\"before-you-begin\"></a>Before you begin\n\nYou should follow the following steps before migrating your site:\n\n  *  [Back up your Mobile Service] scripts and SQL database\n  *  (Optional) Raise the Mobile Service tier to Standard\n\nIf you wish to test the migration process before migrating your production site, duplicate your production Azure Mobile Service (complete\nwith a copy of the data source) and test the migration against the new URL.  You will also need a test client implementation that points\nto the test site to properly test the migrated site.\n\n### <a name=\"opt-raise-service-tier\"></a>(Optional) Raise the Mobile Service tier to Standard\n\nAll Mobile Services sites that share a hosting plan are migrated at once.  Mobile Services in the Free or Basic pricing tiers share\na hosting plan with other services in the same pricing tier and [Azure Region]. If your Mobile Service is operating on the Standard pricing\ntier, it is located in its own hosting plan.  If you wish to individually migrate sites in the Free or Basic pricing tiers, temporarily\nupgrade the Mobile Service pricing tier to Standard.  You can do this in the SCALE menu for your Mobile Service.\n\n  1.  Log onto the [Azure Classic Portal].\n  2.  Select your Mobile Service.\n  3.  Select the **SCALE UP** tab.\n  4.  Under **Mobile Service Tier**, click on the **STANDARD** tier.  Click on the **SAVE** icon at the bottom of the page.\n\nRemember to set the pricing tier to an appropriate setting after migration.\n\n## <a name=\"migrating-site\"></a>Migrating your site\n\nTo migrate your site:\n\n  1.  Log onto the [Azure Classic Portal].\n  2.  Select your Mobile Service.\n  3.  Click on the **Migrate to App Service** button.\n\n    ![The Migrate Button][0]\n\n  4.  Read the Migrate to App Service dialog.\n  5.  Enter the name of your Mobile Service in the box provided.  For example, if your domain name is contoso.azure-mobile.net, then enter _contoso_ in the box provided.\n  6.  Click on the tick button.\n\nIf you are migrating a Mobile Service in the Free or Basic pricing tiers, all Mobile Services in that pricing tier will be migrated at the same time.   You\ncan avoid this by [raising the Mobile Service you are migrating](#opt-raise-service-tier) to Standard during the migration.\n\nYou can monitor the status of the migration in the activity monitor and your site will be listed as *migrating* in the Azure Classic Portal.\n\n  ![Migration Activity Monitor][1]\n\nEach migration can take anywhere from 3 to 15 minutes per mobile service being migrated.  Your site will remain available during the migration but will be\nrestarted at the end of the migration process.  The site will be unavailable during the restart process, which may last a couple of seconds.\n\n## <a name=\"finalizing-migration\"></a>Finalizing the Migration\n\nYou should plan to test your site from a mobile client at the conclusion of the migration process.  Ensure you can perform all common client actions\nwithout changes to the mobile client.  In addition, you should ensure that the changes you made to effect the migration (such as changing the pricing\ntier) are reverted if necessary.\n\n### <a name=\"update-app-service-tier\"></a>Select an appropriate App Service pricing tier\n\nYou have more flexibility in pricing after you migrate to Azure App Service.\n\n  1.  Log into the [Azure Portal].\n  2.  Select **All resources** or **App Services** then click on the name of your migrated Mobile Service.\n  3.  The Settings blade will open by default - if it doesn't, click on **Settings**.\n  4.  Click on **App Service Plan** in the Settings menu.\n  5.  Click on the **Pricing Tier** tile.\n  6.  Click on the tile appropriate to your requirements, then click on **Select**.  You may need to click on **View all** to see the available pricing tiers.\n\nAs a starting point, we recommend the following:\n\n| Mobile Service Pricing Tier | App Service Pricing Tier |\n| :-------------------------- | :----------------------- |\n| Free                        | F1 Free                  |\n| Basic                       | B1 Basic                 |\n| Standard                    | S1 Standard              |\n\nNote that there is considerable flexibility in choosing the right pricing tier for your application.  Refer to [App Service Pricing] for\nfull details on the pricing of your new App Service.\n\n> [AZURE.TIP] The App Service Standard tier contains access to many features that you may want to use, including [staging slots],\n> automatic backups and auto-scaling.  Check out the new capabilities while you are there!\n\n### <a name=\"review-migration-scheduler-jobs\"></a>Review the Migrated Scheduler Jobs\n\nScheduler Jobs will not be visible until approximately 30 minutes after migration.  Any scheduled jobs will continue to run in the background.\nTo view your scheduled jobs:\n\n  1.  Log into the [Azure Portal].\n  2.  Select **Browse>**, enter **Schedule** in the _Filter_ box, then select **Scheduler Collections**.\n\nThere are a limited number of free scheduler jobs available post-migration.  You should review your usage and the [Azure Scheduler Plans].\n\n### <a name=\"configure-cors\"></a>Configure CORS if needed\n\nCross-origin resource sharing is a technique to allow a website to access a Web API on a different domain.  If you were using Azure Mobile\nServices with an associated website then you will need to configure CORS as part of the migration.  If you were accessing Azure Mobile\nServices exclusively from mobile devices, then CORS does not need to be configured except in rare cases.\n\nYour migrated CORS settings are available as the **MS_CrossDomainWhitelist** App Setting.  To migrate your site to the App Service CORS facility:\n\n  1.  Log into the [Azure Portal].\n  2.  Select **All resources** or **App Services** then click on the name of your migrated Mobile Service.\n  3.  The Settings blade will open by default - if it doesn't, click on **Settings**.\n  4.  Click on **CORS** in the API menu.\n  5.  Enter any Allowed Origins in the box provided, pressing Enter after each one.\n  6.  Once your list of Allowed Origins is correct, click on the Save button.\n\nThis is an optional task, but provides for a better management experience going forward.\n\n> [AZURE.TIP]  One of the advantages of using an Azure App Service is that you can run your web site and mobile service on the same site.  See\n> the [next steps](#next-steps) section for more information.\n\n### <a name=\"download-publish-profile\"></a>Download a new Publishing Profile\n\nThe publishing profile of your site is changed when migrating to Azure App Service.  You will need a new publishing profile if you intend to publsh\nyour site from within Visual Studio.  To download the new publishing profile:\n\n  1.  Log into the [Azure Portal].\n  2.  Select **All resources** or **App Services** then click on the name of your migrated Mobile Service.\n  3.  Click on **Get publish profile**.\n\nThe PublishSettings file will be downloaded to your computer.  It will normally be called _sitename_.PublishSettings.  You can then import the publish settings into your existing project:\n\n  1.  Open Visual Studio and your Azure Mobile Service project.\n  2.  Right-click on your project in the **Solution Explorer** and select **Publish...**\n  3.  Click on **Import**\n  4.  Click on **Browse** and select your downloaded publish settings file.  Click on **OK**\n  5.  Click on **Validate Connection** to ensure the publish settings work.\n  6.  Click on **Publish** to publish your site.\n\n\n## <a name=\"working-with-your-site\"></a>Working with your site post-migration\n\nYou will start working with your new App Service in the [Azure Portal] post-migration.  The following are some notes on specific operations that\nyou used to perform in the [Azure Classic Portal], together with their App Service equivalent.\n\n### <a name=\"publishing-your-site\"></a>Downloading and Publishing your migrated site\n\nYour site is available via git or ftp and can be re-published with a number of different mechanisms, including WebDeploy, TFS, Mercurial, GitHub,\n and FTP.  The deployment credentials are migrated with the rest of your site.  If you did not set your deployment credentials or you do not remember\n them, you can reset them:\n\n  1. Log into the [Azure Portal].\n  2. Select **All resources** or **App Services** then click on the name of your migrated Mobile Service.\n  3. The Settings blade will open by default - if it doesn't, click on **Settings**.\n  4. Click on **Deployment credentials** in the PUBLISHING menu.\n  5. Enter the new deployment credentials in the boxes provided, then click on the Save button.\n\nYou can use these credentials to clone the site with git or set up automated deployments from GitHub, TFS or Mercurial.  For more\ninformation, see the [Azure App Service deployment documentation].\n\n### <a name=\"appsettings\"></a>Application Settings\n\nMost settings for a migrated mobile service are available via App Settings.  You can get a list of the app settings from the [Azure Portal].\nTo view or change your app settings:\n\n  1. Log into the [Azure Portal].\n  2. Select **All resources** or **App Services** then click on the name of your migrated Mobile Service.\n  3. The Settings blade will open by default - if it doesn't, click on **Settings**.\n  4. Click on **Application settings** in the GENERAL menu.\n  5. Scroll to the App Settings section and find your app setting.\n  6. Click on the value of the app setting to edit the value.  Click on **Save** to save the value.\n\nYou can update multiple app settings at the same time.\n\n> [AZURE.TIP]  You will notice that there are two Application Settings with the same value.  For example, you may see _ApplicationKey_ and\n> _MS_ApplicationKey_.  You only need to alter the app setting prefixed by **MS_**. However, it is a good idea to update both app settings at\n> the same time.\n\n### <a name=\"authentication\"></a>Authentication\n\nAll authentication settings are available as App Settings in your migrated site.  To update your authentication settings, you must alter the\nappropriate app settings.  The following table shows the appropriate app settings for your authentication provider:\n\n| Provider          | Client ID                 | Client Secret                | Other Settings             |\n| :---------------- | :------------------------ | :--------------------------- | :------------------------- |\n| Microsoft Account | **MS_MicrosoftClientID**  | **MS_MicrosoftClientSecret** | **MS_MicrosoftPackageSID** |\n| Facebook          | **MS_FacebookAppID**      | **MS_FacebookAppSecret**     |                            |\n| Twitter           | **MS_TwitterConsumerKey** | **MS_TwitterConsumerSecret** |                            |\n| Google            | **MS_GoogleClientID**     | **MS_GoogleClientSecret**    |                            |\n| Azure AD          | **MS_AadClientID**        |                              | **MS_AadTenants**          |\n\nNote: **MS_AadTenants** is stored as a comma-separated list of tenant domains (the \"Allowed Tenants\" fields in the Mobile Services portal).\n\n> [AZURE.WARNING] **Do not use the authentication mechanisms in the Settings menu**\n>\n> Azure App Service provides a separate \"no-code\" Authentication and Authorization system under the _Authentication / Authorization_\n> Settings menu and the (deprecated)  _Mobile Authentication_ option under the Settings menu.  These options are incompatible with a migrated Azure\n> Mobile Service.  You can [upgrade your site](app-service-mobile-net-upgrading-from-mobile-services.md) to take advantage of the Azure App Service authentication.\n\n### <a name=\"easytables\"></a>Data\n\nThe _Data_ tab in Mobile Services has been replaced by _Easy Tables_ within the Azure Portal.  To access Easy Tables:\n\n  1. Log into the [Azure Portal].\n  2. Select **All resources** or **App Services** then click on the name of your migrated Mobile Service.\n  3. The Settings blade will open by default - if it doesn't, click on **Settings**.\n  4. Click on **Easy tables** in the MOBILE menu.\n\nYou can add a new table by clicking on the **Add** button or access your existing tables by clicking on a table name.  There are a variety of operations\nyou can do from this blade, including:\n\n  * Changing table permissions\n  * Editing the operational scripts\n  * Managing the table schema\n  * Deleting the table\n  * Clearing the table contents\n  * Deleting specific rows of the table\n\n### <a name=\"easyapis\"></a>API\n\nThe _API_ tab in Mobile Services has been replaced by _Easy APIs_ within the Azure Portal.  To access Easy APIs:\n\n  1. Log into the [Azure Portal].\n  2. Select **All resources** or **App Services** then click on the name of your migrated Mobile Service.\n  3. The Settings blade will open by default - if it doesn't, click on **Settings**.\n  4. Click on **Easy APIs** in the MOBILE menu.\n\nYour migrated APIs will already be listed in the blade.  You can also add a new API from this blade.  To manage a specific API, click on the API.\nFrom the new blade, you can adjust the permissions and edit the scripts for the API.\n\n### <a name=\"on-demand-jobs\"></a>Scheduler Jobs\n\nAll scheduler jobs are available through the Scheduler Job Collections section.  To access your scheduler jobs:\n\n  1. Log into the [Azure Portal].\n  2. Select **Browse>**, enter **Schedule** in the _Filter_ box, then select **Scheduler Collections**.\n  3. Select the Job Collection for your site.  It will be named _sitename_-Jobs.\n  4. Click on **Settings**.\n  5. Click on **Scheduler Jobs** under MANAGE.\n\nScheduled jobs will be listed with the frequency you specified prior to migration.  On-demand jobs will be disabled.  To run an on-demand job:\n\n  1. Select the job you wish to run.\n  2. If necessary, click on **Enable** to enable the job.\n  3. Click on **Settings**, then **Schedule**.\n  4. Select a Recurrence of **Once**, then click on **Save**\n\nYour on-demand jobs are located in `App_Data/config/scripts/scheduler post-migration`.  We recommend that you convert all on-demand jobs to [WebJobs].\nYou should write new scheduler jobs as [WebJobs].\n\n### <a name=\"notification-hubs\"></a>Notification Hubs\n\nMobile Services uses Notification Hubs for push notifications.  The following App Settings are used to link the Notification Hub to your Mobile Service\nafter migration:\n\n| Application Setting                    | Description                              |\n| :------------------------------------- | :--------------------------------------- |\n| **MS_PushEntityNamespace**             | The Notification Hub Namespace           |\n| **MS_NotificationHubName**             | The Notification Hub Name                |\n| **MS_NotificationHubConnectionString** | The Notification Hub Connection String   |\n| **MS_NamespaceName**                   | An alias for MS_PushEntityNamespace      |\n\nYour Notification Hub will be managed through the [Azure Portal].  Note the Notification Hub name (you can find this using the App Settings):\n\n  1. Log into the [Azure Portal].\n  2. Select **Browse**>, then select **Notification Hubs**\n  3. Click on the Notification Hub name associated with the mobile service.\n\n> [AZURE.NOTE] Your notification hub will not be visible if it a \"Mixed\" type.  \"Mixed\" type notification hubs utilize both Notification Hubs and\n> legacy Service Bus features.  You will need to [convert your Mixed namespaces].  Once the conversion is complete, your notification hub will\n> appear in the [Azure Portal] .\n\nFor more information, review the [Notification Hubs] documentation.\n\n> [AZURE.TIP] Notification Hubs management features in the [Azure Portal] is still in preview.  The [Azure Classic Portal] remains available for\n> managing all your Notification Hubs.\n\n### <a name=\"app-settings\"></a>Other App Settings\n\nThe following additional app settings are migrated from your Mobile Service and available under *Settings* > *App Settings*:\n\n| Application Setting              | Description                             |\n| :------------------------------- | :-------------------------------------- |\n| **MS_MobileServiceName**         | The name of your app                    |\n| **MS_MobileServiceDomainSuffix** | The domain prefix. i.e azure-mobile.net |\n| **MS_ApplicationKey**            | Your application key                    |\n| **MS_MasterKey**                 | Your app master key                     |\n\nThe application key and master key should be identical to the Application Keys from your original Mobile Service.  In particular, the Application Key is\nsent by mobile clients to validate their use of the mobile API.\n\n### <a name=\"cliequivalents\"></a>Command Line Equivalents\n\nYou will no longer be able to utilize the _azure mobile_ command to manage your Azure Mobile Services site.  Instead, many functions have been replaced\nwith the _azure site_ command.  Use the below table to find equivalents for common commands:\n\n| _Azure Mobile_ Command                     | Equivalent _Azure Site_ command            |\n| :----------------------------------------- | :----------------------------------------- |\n| mobile locations                           | site location list                         |\n| mobile list                                | site list                                  |\n| mobile show _name_                         | site show _name_                           |\n| mobile restart _name_                      | site restart _name_                        |\n| mobile redeploy _name_                     | site deployment redeploy _commitId_ _name_ |\n| mobile key set _name_ _type_ _value_       | site appsetting delete _key_ _name_ <br/> site appsetting add _key_=_value_ _name_ |\n| mobile config list _name_                  | site appsetting list _name_                |\n| mobile config get _name_ _key_             | site appsetting show _key_ _name_          |\n| mobile config set _name_ _key_             | site appsetting delete _key_ _name_ <br/> site appsetting add _key_=_value_ _name_ |\n| mobile domain list _name_                  | site domain list _name_                    |\n| mobile domain add _name_ _domain_          | site domain add _domain_ _name_            |\n| mobile domain delete _name_                | site domain delete _domain_ _name_         |\n| mobile scale show _name_                   | site show _name_                           |\n| mobile scale change _name_                 | site scale mode _mode_ _name_ <br /> site scale instances _instances_ _name_ |\n| mobile appsetting list _name_              | site appsetting list _name_                |\n| mobile appsetting add _name_ _key_ _value_ | site appsetting add _key_=_value_ _name_   |\n| mobile appsetting delete _name_ _key_      | site appsetting delete _key_ _name_        |\n| mobile appsetting show _name_ _key_        | site appsetting delete _key_ _name_        |\n\nUpdate authentication or push notification settings by updating the appropriate Application Setting.\nEdit files and publish your site via ftp or git.\n\n### <a name=\"diagnostics\"></a>Diagnostics and Logging\n\nDiagnostic Logging is normally disabled in an Azure App Service.  To enable diagnostic logging:\n\n  1. Log into the [Azure Portal].\n  2. Select **All resources** or **App Services** then click on the name of your migrated Mobile Service.\n  3. The Settings blade will open by default - if it doesn't, click on **Settings**.\n  4. Select **Diagnostic Logs** under the FEATURES menu.\n  5. Click **ON** for the following logs: **Application Logging (Filesystem)**, **Detailed error messages** and **Failed request tracing**\n  6. Click **File System** for Web server logging\n  7. Click on **Save**\n\nTo view the logs:\n\n  1. Log into the [Azure Portal].\n  2. Select **All resources** or **App Services** then click on the name of your migrated Mobile Service.\n  3. Click on the **Tools** button\n  4. Select **Log Stream** under the OBSERVE menu.\n\nLogs will stream into the window provided as they are generated.  You can also download the logs for later analysis using your deployment credentials.  See\nthe [Logging] documentation for more information.\n\n## <a name=\"next-steps\"></a>Next Steps\n\nNot that your application is migrated to App Service, there are even more features you can leverage:\n\n  * Deployment [staging slots] allow you to stage changes to your site and perform A/B testing.\n  * [WebJobs] provide a replacement for On-demand scheduled jobs.\n  * You can [continuously deploy] your site by linking your site to GitHub, TFS or Mercurial.\n  * You can use [Application Insights] to monitor your site.\n  * Serve a website and a Mobile API from the same code.\n\n### <a name=\"upgrading-your-site\"></a>Upgrading your Mobile Services site to Azure Mobile Apps SDK\n\n  * For Node.js-based server projects, the new [Mobile Apps Node.js SDK] provides a number of new features. For instance, you can now do local development and debugging, use any Node.js version above 0.10, and customize with any Express.js middleware.\n\n  * For .NET-based server projects, the new [Mobile Apps SDK NuGet packages](https://www.nuget.org/packages/Microsoft.Azure.Mobile.Server/) has more flexibility on NuGet dependencies, supports the new App Service authentication features, and composes with any ASP.NET project, including MVC. To learn more about upgrading, see [Upgrade your existing .NET Mobile Service to App Service](app-service-mobile-net-upgrading-from-mobile-services.md).\n\n<!-- Images -->\n[0]: ./media/app-service-mobile-migrating-from-mobile-services/migrate-to-app-service-button.PNG\n[1]: ./media/app-service-mobile-migrating-from-mobile-services/migration-activity-monitor.png\n[2]: ./media/app-service-mobile-migrating-from-mobile-services/triggering-job-with-postman.png\n\n<!-- Links -->\n[App Service pricing]: https://azure.microsoft.com/en-us/pricing/details/app-service/\n[Application Insights]: ../application-insights/app-insights-overview.md\n[Auto-scale]: ../app-service-web/web-sites-scale.md\n[Azure App Service]: ../app-service/app-service-value-prop-what-is.md\n[Azure App Service deployment documentation]: ../app-service-web/web-sites-deploy.md\n[Azure Classic Portal]: https://manage.windowsazure.com\n[Azure Portal]: https://portal.azure.com\n[Azure Region]: https://azure.microsoft.com/en-us/regions/\n[Azure Scheduler Plans]: ../scheduler/scheduler-plans-billing.md\n[continuously deploy]: ../app-service-web/web-sites-publish-source-control.md\n[convert your Mixed namespaces]: https://azure.microsoft.com/en-us/blog/updates-from-notification-hubs-independent-nuget-installation-model-pmt-and-more/\n[curl]: http://curl.haxx.se/\n[custom domain names]: ../app-service-web/web-sites-custom-domain-name.md\n[Fiddler]: http://www.telerik.com/fiddler\n[general availability of Azure App Service]: /blog/announcing-general-availability-of-app-service-mobile-apps/\n[Hybrid Connections]: ../app-service-web/web-sites-hybrid-connection-get-started.md\n[Logging]: ../app-service-web/web-sites-enable-diagnostic-log.md\n[Mobile Apps Node.js SDK]: https://github.com/azure/azure-mobile-apps-node\n[Mobile Services vs. App Service]: app-service-mobile-value-prop-migration-from-mobile-services.md\n[Notification Hubs]: ../notification-hubs/notification-hubs-overview.md\n[performance monitoring]: ../app-service-web/web-sites-monitor.md\n[Postman]: http://www.getpostman.com/\n[Back up your Mobile Service]: ../mobile-services/mobile-services-disaster-recovery.md\n[staging slots]: ../app-service-web/web-sites-staged-publishing.md\n[VNet]: ../app-service-web/web-sites-integrate-with-vnet.md\n[WebJobs]: ../app-service-web/websites-webjobs-resources.md\n"
}