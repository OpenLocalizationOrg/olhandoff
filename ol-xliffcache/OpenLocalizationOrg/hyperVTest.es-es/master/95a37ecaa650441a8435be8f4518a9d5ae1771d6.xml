{
  "nodes": [
    {
      "pos": [
        27,
        98
      ],
      "content": "Learn to use Visual Studio Hadoop tools for HDInsight | Microsoft Azure"
    },
    {
      "pos": [
        117,
        239
      ],
      "content": "Learn how to install and use Visual Studio Hadoop tools for HDInsight to connect to a Hadoop cluster and run a Hive query."
    },
    {
      "pos": [
        628,
        706
      ],
      "content": "Get started using Visual Studio Hadoop tools for HDInsight to run a Hive query"
    },
    {
      "pos": [
        708,
        1147
      ],
      "content": "Learn how to use HDInsight Tools for Visual Studio to connect to HDInsight clusters and submit Hive queries. For more information about using HDInsight, see [Introduction to HDInsight][hdinsight.introduction] and [Get started with HDInsight][hdinsight.get.started]. For more information about connecting to a Storm cluster, see [Develop C# topologies for Apache Storm on HDInsight using Visual Studio][hdinsight.storm.visual.studio.tools].",
      "nodes": [
        {
          "content": "Learn how to use HDInsight Tools for Visual Studio to connect to HDInsight clusters and submit Hive queries.",
          "pos": [
            0,
            108
          ]
        },
        {
          "content": "For more information about using HDInsight, see [Introduction to HDInsight][hdinsight.introduction] and [Get started with HDInsight][hdinsight.get.started].",
          "pos": [
            109,
            265
          ]
        },
        {
          "content": "For more information about connecting to a Storm cluster, see [Develop C# topologies for Apache Storm on HDInsight using Visual Studio][hdinsight.storm.visual.studio.tools].",
          "pos": [
            266,
            439
          ]
        }
      ]
    },
    {
      "pos": [
        1149,
        1166
      ],
      "content": "<bpt id=\"p1\">**</bpt>Prerequisites<ept id=\"p1\">**</ept>"
    },
    {
      "pos": [
        1168,
        1263
      ],
      "content": "To complete this tutorial and use the Hadoop tools in Visual Studio, you'll need the following:"
    },
    {
      "pos": [
        1267,
        1447
      ],
      "content": "An Azure HDInsight cluster: Either a Linux-based or Windows-based cluster will work with the steps in this document. See one of the following for information on creating a cluster:",
      "nodes": [
        {
          "content": "An Azure HDInsight cluster: Either a Linux-based or Windows-based cluster will work with the steps in this document.",
          "pos": [
            0,
            116
          ]
        },
        {
          "content": "See one of the following for information on creating a cluster:",
          "pos": [
            117,
            180
          ]
        }
      ]
    },
    {
      "pos": [
        1455,
        1544
      ],
      "content": "<bpt id=\"p2\">[</bpt>Get started using Linux-based HDInsight<ept id=\"p2\">](hdinsight-hadoop-linux-tutorial-get-started.md)</ept>"
    },
    {
      "pos": [
        1551,
        1644
      ],
      "content": "<bpt id=\"p3\">[</bpt>Get started using Windows-based HDInsight<ept id=\"p3\">](hdinsight-hadoop-tutorial-get-started-windows.md)</ept>"
    },
    {
      "pos": [
        1648,
        1690
      ],
      "content": "A workstation with the following software:"
    },
    {
      "pos": [
        1698,
        1734
      ],
      "content": "Windows 8.1, Windows 8, or Windows 7"
    },
    {
      "pos": [
        1741,
        1787
      ],
      "content": "Visual Studio (one of the following versions):"
    },
    {
      "pos": [
        1798,
        1930
      ],
      "content": "Visual Studio 2013 Community/Professional/Premium/Ultimate with <bpt id=\"p4\">[</bpt>Update 4<ept id=\"p4\">](https://www.microsoft.com/download/details.aspx?id=44921)</ept>"
    },
    {
      "pos": [
        1941,
        1982
      ],
      "content": "Visual Studio 2015 (Community/Enterprise)"
    },
    {
      "pos": [
        1989,
        2086
      ],
      "content": "<ph id=\"ph2\">[AZURE.NOTE]</ph><ph id=\"ph3\"/> Currently, the HDInsight Tools for Visual Studio only come with the English version."
    },
    {
      "pos": [
        2092,
        2133
      ],
      "content": "Install HDInsight tools for Visual Studio"
    },
    {
      "pos": [
        2135,
        2660
      ],
      "content": "HDInsight Tools for Visual Studio and Microsoft Hive ODBC Driver are packaged with Microsoft Azure SDK for .NET version 2.5.1 or later. You can install it using the <bpt id=\"p5\">[</bpt>Web Platform Installer<ept id=\"p5\">](http://go.microsoft.com/fwlink/?LinkId=255386)</ept>. You must choose the one that matches your version of Visual Studio. If you don't have Visual Studio installed, you can install the latest Visual Studio Community and Azure SDK using the <bpt id=\"p6\">[</bpt>Web Platform Installer<ept id=\"p6\">](http://go.microsoft.com/fwlink/?LinkId=255386)</ept><ph id=\"ph4\"/> or using the following links:",
      "nodes": [
        {
          "content": "HDInsight Tools for Visual Studio and Microsoft Hive ODBC Driver are packaged with Microsoft Azure SDK for .NET version 2.5.1 or later.",
          "pos": [
            0,
            135
          ]
        },
        {
          "content": "You can install it using the <bpt id=\"p5\">[</bpt>Web Platform Installer<ept id=\"p5\">](http://go.microsoft.com/fwlink/?LinkId=255386)</ept>.",
          "pos": [
            136,
            275
          ]
        },
        {
          "content": "You must choose the one that matches your version of Visual Studio.",
          "pos": [
            276,
            343
          ]
        },
        {
          "content": "If you don't have Visual Studio installed, you can install the latest Visual Studio Community and Azure SDK using the <bpt id=\"p6\">[</bpt>Web Platform Installer<ept id=\"p6\">](http://go.microsoft.com/fwlink/?LinkId=255386)</ept><ph id=\"ph4\"/> or using the following links:",
          "pos": [
            344,
            615
          ]
        }
      ]
    },
    {
      "pos": [
        2664,
        2815
      ],
      "content": "<bpt id=\"p7\">[</bpt>Visual Studio Community 2015 with Microsoft Azure SDK<ept id=\"p7\">](https://www.microsoft.com/web/handlers/webpi.ashx/getinstaller/VS2015CommunityAzurePack.appids)</ept>"
    },
    {
      "pos": [
        2819,
        2970
      ],
      "content": "<bpt id=\"p8\">[</bpt>Visual Studio Community 2013 with Microsoft Azure SDK<ept id=\"p8\">](https://www.microsoft.com/web/handlers/webpi.ashx/getinstaller/VS2013CommunityAzurePack.appids)</ept>"
    },
    {
      "pos": [
        2974,
        3106
      ],
      "content": "<bpt id=\"p9\">[</bpt>Microsoft Azure SDK for .NET (VS 2015)<ept id=\"p9\">](https://www.microsoft.com/web/handlers/webpi.ashx/getinstaller/VWDOrVs2015AzurePack.appids)</ept>"
    },
    {
      "pos": [
        3110,
        3242
      ],
      "content": "<bpt id=\"p10\">[</bpt>Microsoft Azure SDK for .NET (VS 2013)<ept id=\"p10\">](https://www.microsoft.com/web/handlers/webpi.ashx/getinstaller/VWDOrVs2013AzurePack.appids)</ept>"
    },
    {
      "pos": [
        3245,
        3322
      ],
      "content": "![Hadoop tools: HDinsight Tools for Visual Studio Web Platform installer.][1]"
    },
    {
      "pos": [
        3327,
        3357
      ],
      "content": "Connect to Azure subscriptions"
    },
    {
      "pos": [
        3358,
        3509
      ],
      "content": "The HDInsight Tools for Visual Studio allows you to connect to your HDInsight clusters, perform some basic management operations, and run Hive queries."
    },
    {
      "pos": [
        3512,
        3755
      ],
      "content": "<ph id=\"ph5\">[AZURE.NOTE]</ph><ph id=\"ph6\"/> For information on connecting to a generic Hadoop cluster, see <bpt id=\"p11\">[</bpt>Write and submit Hive queries using Visual Studio<ept id=\"p11\">](http://blogs.msdn.com/b/xiaoyong/archive/2015/05/04/how-to-write-and-submit-hive-queries-using-visual-studio.aspx)</ept>."
    },
    {
      "pos": [
        3758,
        3799
      ],
      "content": "<bpt id=\"p12\">**</bpt>To connect to your Azure subscription<ept id=\"p12\">**</ept>"
    },
    {
      "pos": [
        3805,
        3824
      ],
      "content": "Open Visual Studio."
    },
    {
      "pos": [
        3829,
        3914
      ],
      "content": "From the <bpt id=\"p13\">**</bpt>View<ept id=\"p13\">**</ept><ph id=\"ph7\"/> menu, click <bpt id=\"p14\">**</bpt>Server Explorer<ept id=\"p14\">**</ept><ph id=\"ph8\"/> to open the Server Explorer window."
    },
    {
      "pos": [
        3919,
        3967
      ],
      "content": "Expand <bpt id=\"p15\">**</bpt>Azure<ept id=\"p15\">**</ept>, and then expand <bpt id=\"p16\">**</bpt>HDInsight<ept id=\"p16\">**</ept>."
    },
    {
      "pos": [
        3974,
        4159
      ],
      "content": "<ph id=\"ph9\">[AZURE.NOTE]</ph>Notice the <bpt id=\"p17\">**</bpt>HDInsight Task List<ept id=\"p17\">**</ept><ph id=\"ph10\"/> window should be open. If you don't see it, click <bpt id=\"p18\">**</bpt>Other Windows<ept id=\"p18\">**</ept><ph id=\"ph11\"/> from the <bpt id=\"p19\">**</bpt>View<ept id=\"p19\">**</ept><ph id=\"ph12\"/> menu, and then click <bpt id=\"p20\">**</bpt>HDInsight Task List Window<ept id=\"p20\">**</ept>.",
      "nodes": [
        {
          "content": "<ph id=\"ph9\">[AZURE.NOTE]</ph>Notice the <bpt id=\"p17\">**</bpt>HDInsight Task List<ept id=\"p17\">**</ept><ph id=\"ph10\"/> window should be open.",
          "pos": [
            0,
            142
          ]
        },
        {
          "content": "If you don't see it, click <bpt id=\"p18\">**</bpt>Other Windows<ept id=\"p18\">**</ept><ph id=\"ph11\"/> from the <bpt id=\"p19\">**</bpt>View<ept id=\"p19\">**</ept><ph id=\"ph12\"/> menu, and then click <bpt id=\"p20\">**</bpt>HDInsight Task List Window<ept id=\"p20\">**</ept>.",
          "pos": [
            143,
            408
          ]
        }
      ]
    },
    {
      "pos": [
        4166,
        4352
      ],
      "content": "Enter your Azure subscription credentials, and then click <bpt id=\"p21\">**</bpt>Sign In<ept id=\"p21\">**</ept>. This is only required if you have never connected to the Azure subscription from Visual Studio on this workstation.",
      "nodes": [
        {
          "content": "Enter your Azure subscription credentials, and then click <bpt id=\"p21\">**</bpt>Sign In<ept id=\"p21\">**</ept>.",
          "pos": [
            0,
            110
          ]
        },
        {
          "content": "This is only required if you have never connected to the Azure subscription from Visual Studio on this workstation.",
          "pos": [
            111,
            226
          ]
        }
      ]
    },
    {
      "pos": [
        4357,
        4626
      ],
      "content": "In Server Explorer, you'll see a list of existing HDInsight clusters. If you don't have any clusters, you can provision one by using the Azure Portal, Azure PowerShell, or the HDInsight SDK. For more information, see [Provision HDInsight clusters][hdinsight-provision].",
      "nodes": [
        {
          "content": "In Server Explorer, you'll see a list of existing HDInsight clusters.",
          "pos": [
            0,
            69
          ]
        },
        {
          "content": "If you don't have any clusters, you can provision one by using the Azure Portal, Azure PowerShell, or the HDInsight SDK.",
          "pos": [
            70,
            190
          ]
        },
        {
          "content": "For more information, see [Provision HDInsight clusters][hdinsight-provision].",
          "pos": [
            191,
            269
          ]
        }
      ]
    },
    {
      "pos": [
        4632,
        4714
      ],
      "content": "![Hadoop tools: HDInsight Tools for Visual Studio Server Explorer cluster list][5]"
    },
    {
      "pos": [
        4719,
        4895
      ],
      "content": "Expand an HDInsight cluster. You'll see <bpt id=\"p22\">**</bpt>Hive Databases<ept id=\"p22\">**</ept>, a default storage account, linked storage accounts, and <bpt id=\"p23\">**</bpt>Hadoop Service log<ept id=\"p23\">**</ept>. You can further expand the entities.",
      "nodes": [
        {
          "content": "Expand an HDInsight cluster.",
          "pos": [
            0,
            28
          ]
        },
        {
          "content": "You'll see <bpt id=\"p22\">**</bpt>Hive Databases<ept id=\"p22\">**</ept>, a default storage account, linked storage accounts, and <bpt id=\"p23\">**</bpt>Hadoop Service log<ept id=\"p23\">**</ept>.",
          "pos": [
            29,
            219
          ]
        },
        {
          "content": "You can further expand the entities.",
          "pos": [
            220,
            256
          ]
        }
      ]
    },
    {
      "pos": [
        4897,
        4983
      ],
      "content": "After you've connected to your Azure subscription, you'll be able to do the following:"
    },
    {
      "pos": [
        4985,
        5038
      ],
      "content": "<bpt id=\"p24\">**</bpt>To connect to the Azure portal from Visual Studio<ept id=\"p24\">**</ept>"
    },
    {
      "pos": [
        5042,
        5182
      ],
      "content": "From Server Explorer, expand <bpt id=\"p25\">**</bpt>Azure<ept id=\"p25\">**</ept><ph id=\"ph13\"/> &gt; <bpt id=\"p26\">**</bpt>HDInsight<ept id=\"p26\">**</ept>, right-click an HDInsight cluster, and then click <bpt id=\"p27\">**</bpt>Manage Cluster in Azure Portal<ept id=\"p27\">**</ept>."
    },
    {
      "pos": [
        5184,
        5244
      ],
      "content": "<bpt id=\"p28\">**</bpt>To ask questions and provide feedback from Visual Studio<ept id=\"p28\">**</ept>"
    },
    {
      "pos": [
        5248,
        5369
      ],
      "content": "From the <bpt id=\"p29\">**</bpt>Tools<ept id=\"p29\">**</ept><ph id=\"ph14\"/> menu, click <bpt id=\"p30\">**</bpt>HDInsight<ept id=\"p30\">**</ept>, and then click <bpt id=\"p31\">**</bpt>MSDN Forum<ept id=\"p31\">**</ept><ph id=\"ph15\"/> to ask questions, or click <bpt id=\"p32\">**</bpt>Give Feedback<ept id=\"p32\">**</ept>."
    },
    {
      "pos": [
        5374,
        5403
      ],
      "content": "Navigate the linked resources"
    },
    {
      "pos": [
        5405,
        5728
      ],
      "content": "From Server Explorer, you can see the default storage account and any linked storage accounts. If you expand the default storage account, you can see the containers on the storage account. The default storage account and the default container are marked. You can also right-click any of the containers to view the contents.",
      "nodes": [
        {
          "content": "From Server Explorer, you can see the default storage account and any linked storage accounts.",
          "pos": [
            0,
            94
          ]
        },
        {
          "content": "If you expand the default storage account, you can see the containers on the storage account.",
          "pos": [
            95,
            188
          ]
        },
        {
          "content": "The default storage account and the default container are marked.",
          "pos": [
            189,
            254
          ]
        },
        {
          "content": "You can also right-click any of the containers to view the contents.",
          "pos": [
            255,
            323
          ]
        }
      ]
    },
    {
      "pos": [
        5730,
        5798
      ],
      "content": "![HDInsight Tools for Visual Studio server explorer cluster list][2]"
    },
    {
      "pos": [
        5803,
        5819
      ],
      "content": "Run a Hive query"
    },
    {
      "pos": [
        5820,
        6118
      ],
      "content": "<bpt id=\"p33\">[</bpt>Apache Hive<ept id=\"p33\">][apache.hive]</ept><ph id=\"ph16\"/> is a data warehouse infrastructure built on Hadoop for providing data summarization, queries, and analysis. HDInsight Tools for Visual Studio supports running Hive queries from Visual Studio. For more information about Hive, see [Use Hive with HDInsight][hdinsight.hive].",
      "nodes": [
        {
          "content": "<bpt id=\"p33\">[</bpt>Apache Hive<ept id=\"p33\">][apache.hive]</ept><ph id=\"ph16\"/> is a data warehouse infrastructure built on Hadoop for providing data summarization, queries, and analysis.",
          "pos": [
            0,
            189
          ]
        },
        {
          "content": "HDInsight Tools for Visual Studio supports running Hive queries from Visual Studio.",
          "pos": [
            190,
            273
          ]
        },
        {
          "content": "For more information about Hive, see [Use Hive with HDInsight][hdinsight.hive].",
          "pos": [
            274,
            353
          ]
        }
      ]
    },
    {
      "pos": [
        6120,
        6346
      ],
      "content": "It is time consuming to test Hive script against an HDInsight cluster. It could take several minutes or more. HDInsight Tools for Visual Studio is capable of validating Hive script locally without connecting to a live cluster.",
      "nodes": [
        {
          "content": "It is time consuming to test Hive script against an HDInsight cluster.",
          "pos": [
            0,
            70
          ]
        },
        {
          "content": "It could take several minutes or more.",
          "pos": [
            71,
            109
          ]
        },
        {
          "content": "HDInsight Tools for Visual Studio is capable of validating Hive script locally without connecting to a live cluster.",
          "pos": [
            110,
            226
          ]
        }
      ]
    },
    {
      "pos": [
        6348,
        6498
      ],
      "content": "HDInsight Tools for Visual Studio also enables users to see what’s inside the Hive job by collecting and surfacing the YARN logs of certain Hive jobs."
    },
    {
      "pos": [
        6504,
        6532
      ],
      "content": "View the <bpt id=\"p34\">**</bpt>hivesampletable<ept id=\"p34\">**</ept>"
    },
    {
      "pos": [
        6533,
        6730
      ],
      "content": "All HDInsight clusters come with a sample Hive table called <bpt id=\"p35\">*</bpt>hivesampletable<ept id=\"p35\">*</ept>. We'll use this table to show you how to list Hive tables, view the table schemas, and list the rows in the Hive table.",
      "nodes": [
        {
          "content": "All HDInsight clusters come with a sample Hive table called <bpt id=\"p35\">*</bpt>hivesampletable<ept id=\"p35\">*</ept>.",
          "pos": [
            0,
            118
          ]
        },
        {
          "content": "We'll use this table to show you how to list Hive tables, view the table schemas, and list the rows in the Hive table.",
          "pos": [
            119,
            237
          ]
        }
      ]
    },
    {
      "pos": [
        6734,
        6784
      ],
      "content": "<bpt id=\"p36\">**</bpt>To list Hive tables and view Hive table schema<ept id=\"p36\">**</ept>"
    },
    {
      "pos": [
        6790,
        6959
      ],
      "content": "From <bpt id=\"p37\">**</bpt>Server Explorer<ept id=\"p37\">**</ept>, expand <bpt id=\"p38\">**</bpt>Azure<ept id=\"p38\">**</ept><ph id=\"ph17\"/> &gt; <bpt id=\"p39\">**</bpt>HDInsight<ept id=\"p39\">**</ept><ph id=\"ph18\"/> &gt; the cluster of your choice &gt; <bpt id=\"p40\">**</bpt>Hive Databases<ept id=\"p40\">**</ept><ph id=\"ph19\"/> &gt; <bpt id=\"p41\">**</bpt>Default<ept id=\"p41\">**</ept><ph id=\"ph20\"/> &gt; <bpt id=\"p42\">**</bpt>hivesampletable<ept id=\"p42\">**</ept><ph id=\"ph21\"/> to see the table schema."
    },
    {
      "pos": [
        6964,
        7128
      ],
      "content": "Right-click <bpt id=\"p43\">**</bpt>hivesampletable<ept id=\"p43\">**</ept>, and then click <bpt id=\"p44\">**</bpt>View Top 100 Rows<ept id=\"p44\">**</ept><ph id=\"ph22\"/> to list the rows. It is equivalent to running the following Hive query using Hive ODBC driver:",
      "nodes": [
        {
          "content": "Right-click <bpt id=\"p43\">**</bpt>hivesampletable<ept id=\"p43\">**</ept>, and then click <bpt id=\"p44\">**</bpt>View Top 100 Rows<ept id=\"p44\">**</ept><ph id=\"ph22\"/> to list the rows.",
          "pos": [
            0,
            182
          ]
        },
        {
          "content": "It is equivalent to running the following Hive query using Hive ODBC driver:",
          "pos": [
            183,
            259
          ]
        }
      ]
    },
    {
      "pos": [
        7183,
        7215
      ],
      "content": "You can customize the row count."
    },
    {
      "pos": [
        7221,
        7282
      ],
      "content": "![Hadoop tools: HDinsight Hive Visual Studio schema query][6]"
    },
    {
      "pos": [
        7288,
        7306
      ],
      "content": "Create Hive tables"
    },
    {
      "pos": [
        7308,
        7451
      ],
      "content": "You can use the GUI to create a Hive table or use Hive queries. For information about using Hive queries, see <bpt id=\"p45\">[</bpt>Run Hive queries<ept id=\"p45\">](#run.queries)</ept>.",
      "nodes": [
        {
          "content": "You can use the GUI to create a Hive table or use Hive queries.",
          "pos": [
            0,
            63
          ]
        },
        {
          "content": "For information about using Hive queries, see <bpt id=\"p45\">[</bpt>Run Hive queries<ept id=\"p45\">](#run.queries)</ept>.",
          "pos": [
            64,
            183
          ]
        }
      ]
    },
    {
      "pos": [
        7453,
        7479
      ],
      "content": "<bpt id=\"p46\">**</bpt>To create a Hive table<ept id=\"p46\">**</ept>"
    },
    {
      "pos": [
        7484,
        7652
      ],
      "content": "From <bpt id=\"p47\">**</bpt>Server Explorer<ept id=\"p47\">**</ept>, expand <bpt id=\"p48\">**</bpt>Azure<ept id=\"p48\">**</ept><ph id=\"ph23\"/> &gt; <bpt id=\"p49\">**</bpt>HDInsight Clusters<ept id=\"p49\">**</ept><ph id=\"ph24\"/> an HDInsight cluster &gt; <bpt id=\"p50\">**</bpt>Hive Databases<ept id=\"p50\">**</ept>, then right-click <bpt id=\"p51\">**</bpt>default<ept id=\"p51\">**</ept>, and click <bpt id=\"p52\">**</bpt>Create Table<ept id=\"p52\">**</ept>."
    },
    {
      "pos": [
        7656,
        7676
      ],
      "content": "Configure the table."
    },
    {
      "pos": [
        7680,
        7750
      ],
      "content": "Click <bpt id=\"p53\">**</bpt>Create Table<ept id=\"p53\">**</ept><ph id=\"ph25\"/> to submit the job to create the new Hive table."
    },
    {
      "pos": [
        7756,
        7823
      ],
      "content": "![Hadoop tools: hdinsight visual studio tools create hive table][7]"
    },
    {
      "pos": [
        7855,
        7884
      ],
      "content": "Validate and run Hive queries"
    },
    {
      "pos": [
        7885,
        7935
      ],
      "content": "There are two ways to create and run Hive queries:"
    },
    {
      "pos": [
        7939,
        7960
      ],
      "content": "Create ad-hoc queries"
    },
    {
      "pos": [
        7963,
        7988
      ],
      "content": "Create a Hive application"
    },
    {
      "pos": [
        7990,
        8037
      ],
      "content": "<bpt id=\"p54\">**</bpt>To create, validate, and run ad-hoc queries<ept id=\"p54\">**</ept>"
    },
    {
      "pos": [
        8042,
        8125
      ],
      "content": "From <bpt id=\"p55\">**</bpt>Server Explorer<ept id=\"p55\">**</ept>, expand <bpt id=\"p56\">**</bpt>Azure<ept id=\"p56\">**</ept>, and then expand <bpt id=\"p57\">**</bpt>HDInsight Clusters<ept id=\"p57\">**</ept>."
    },
    {
      "pos": [
        8129,
        8224
      ],
      "content": "Right-click the cluster where you want to run the query, and then click <bpt id=\"p58\">**</bpt>Write a Hive Query<ept id=\"p58\">**</ept>."
    },
    {
      "pos": [
        8228,
        8671
      ],
      "content": "Enter the Hive queries. Notice the Hive editor supports IntelliSense. HDInsight Tools for Visual Studio supports loading the remote metadata when you are editing your Hive script. For example, when you type \"SELECT * FROM\", the IntelliSense lists all the suggested table names. When a table name is specified, the column names are listed by the IntelliSense. The tool supports almost all Hive DML statements, subqueries, and the built-in UDFs.",
      "nodes": [
        {
          "content": "Enter the Hive queries.",
          "pos": [
            0,
            23
          ]
        },
        {
          "content": "Notice the Hive editor supports IntelliSense.",
          "pos": [
            24,
            69
          ]
        },
        {
          "content": "HDInsight Tools for Visual Studio supports loading the remote metadata when you are editing your Hive script.",
          "pos": [
            70,
            179
          ]
        },
        {
          "content": "For example, when you type \"SELECT * FROM\", the IntelliSense lists all the suggested table names.",
          "pos": [
            180,
            277
          ]
        },
        {
          "content": "When a table name is specified, the column names are listed by the IntelliSense.",
          "pos": [
            278,
            358
          ]
        },
        {
          "content": "The tool supports almost all Hive DML statements, subqueries, and the built-in UDFs.",
          "pos": [
            359,
            443
          ]
        }
      ]
    },
    {
      "pos": [
        8677,
        8740
      ],
      "content": "![Hadoop tools: HDInsight Visual Studio Tools IntelliSense][13]"
    },
    {
      "pos": [
        8746,
        8809
      ],
      "content": "![Hadoop tools: HDInsight Visual Studio Tools IntelliSense][14]"
    },
    {
      "pos": [
        8817,
        8920
      ],
      "content": "<ph id=\"ph26\">[AZURE.NOTE]</ph><ph id=\"ph27\"/> Only the metadata of the clusters that is selected in HDInsight Toolbar will be suggested."
    },
    {
      "pos": [
        8924,
        8996
      ],
      "content": "(Optional): Click <bpt id=\"p59\">**</bpt>Validate Script<ept id=\"p59\">**</ept><ph id=\"ph28\"/> to check the script syntax errors."
    },
    {
      "pos": [
        9002,
        9073
      ],
      "content": "![Hadoop tools: hdinsight tools for Visual Studio local validation][10]"
    },
    {
      "pos": [
        9078,
        9271
      ],
      "content": "Click <bpt id=\"p60\">**</bpt>Submit<ept id=\"p60\">**</ept><ph id=\"ph29\"/> or <bpt id=\"p61\">**</bpt>Submit (Advanced)<ept id=\"p61\">**</ept>. With the advanced submit option, you'll configure <bpt id=\"p62\">**</bpt>Job Name<ept id=\"p62\">**</ept>, <bpt id=\"p63\">**</bpt>Arguments<ept id=\"p63\">**</ept>, <bpt id=\"p64\">**</bpt>Additional Configurations<ept id=\"p64\">**</ept>, and <bpt id=\"p65\">**</bpt>Status Directory<ept id=\"p65\">**</ept><ph id=\"ph30\"/> for the script:",
      "nodes": [
        {
          "content": "Click <bpt id=\"p60\">**</bpt>Submit<ept id=\"p60\">**</ept><ph id=\"ph29\"/> or <bpt id=\"p61\">**</bpt>Submit (Advanced)<ept id=\"p61\">**</ept>.",
          "pos": [
            0,
            137
          ]
        },
        {
          "content": "With the advanced submit option, you'll configure <bpt id=\"p62\">**</bpt>Job Name<ept id=\"p62\">**</ept>, <bpt id=\"p63\">**</bpt>Arguments<ept id=\"p63\">**</ept>, <bpt id=\"p64\">**</bpt>Additional Configurations<ept id=\"p64\">**</ept>, and <bpt id=\"p65\">**</bpt>Status Directory<ept id=\"p65\">**</ept><ph id=\"ph30\"/> for the script:",
          "pos": [
            138,
            463
          ]
        }
      ]
    },
    {
      "pos": [
        9277,
        9310
      ],
      "content": "![hdinsight hadoop hive query][9]"
    },
    {
      "pos": [
        9316,
        9380
      ],
      "content": "After you submit the job, you see a <bpt id=\"p66\">**</bpt>Hive Job Summary<ept id=\"p66\">**</ept><ph id=\"ph31\"/> window."
    },
    {
      "pos": [
        9386,
        9433
      ],
      "content": "![Summary of an HDInsight Hadoop Hive query][8]"
    },
    {
      "pos": [
        9437,
        9531
      ],
      "content": "Use the <bpt id=\"p67\">**</bpt>Refresh<ept id=\"p67\">**</ept><ph id=\"ph32\"/> button to update the status until the job status changes to <bpt id=\"p68\">**</bpt>Completed<ept id=\"p68\">**</ept>."
    },
    {
      "pos": [
        9535,
        9647
      ],
      "content": "Click the links at the bottom to see the following: <bpt id=\"p69\">**</bpt>Job Query<ept id=\"p69\">**</ept>, <bpt id=\"p70\">**</bpt>Job Output<ept id=\"p70\">**</ept>, <bpt id=\"p71\">**</bpt>Job log<ept id=\"p71\">**</ept>, or <bpt id=\"p72\">**</bpt>Yarn log<ept id=\"p72\">**</ept>."
    },
    {
      "pos": [
        9651,
        9688
      ],
      "content": "<bpt id=\"p73\">**</bpt>To create and run a Hive solution<ept id=\"p73\">**</ept>"
    },
    {
      "pos": [
        9693,
        9759
      ],
      "content": "From the <bpt id=\"p74\">**</bpt>FILE<ept id=\"p74\">**</ept><ph id=\"ph33\"/> menu, click <bpt id=\"p75\">**</bpt>New<ept id=\"p75\">**</ept>, and then click <bpt id=\"p76\">**</bpt>Project<ept id=\"p76\">**</ept>."
    },
    {
      "pos": [
        9763,
        9896
      ],
      "content": "Select <bpt id=\"p77\">**</bpt>HDInsight<ept id=\"p77\">**</ept><ph id=\"ph34\"/> from the left pane, select <bpt id=\"p78\">**</bpt>Hive Application<ept id=\"p78\">**</ept><ph id=\"ph35\"/> in the middle pane, enter the properties, and then click <bpt id=\"p79\">**</bpt>OK<ept id=\"p79\">**</ept>."
    },
    {
      "pos": [
        9902,
        9969
      ],
      "content": "![Hadoop tools: hdinsight visual studio tools new hive project][11]"
    },
    {
      "pos": [
        9973,
        10040
      ],
      "content": "From <bpt id=\"p80\">**</bpt>Solution Explorer<ept id=\"p80\">**</ept>, double-click <bpt id=\"p81\">**</bpt>Script.hql<ept id=\"p81\">**</ept><ph id=\"ph36\"/> to open it."
    },
    {
      "pos": [
        10044,
        10222
      ],
      "content": "To validate the Hive script, you can click the <bpt id=\"p82\">**</bpt>Validate Script<ept id=\"p82\">**</ept><ph id=\"ph37\"/> button, or right-click the script in the Hive editor, and then click <bpt id=\"p83\">**</bpt>Validate Script<ept id=\"p83\">**</ept><ph id=\"ph38\"/> from the context menu."
    },
    {
      "pos": [
        10229,
        10243
      ],
      "content": "View Hive jobs"
    },
    {
      "pos": [
        10244,
        10371
      ],
      "content": "You can view job queries, job output, job logs, and Yarn logs for Hive jobs. For more information, see the previous screenshot.",
      "nodes": [
        {
          "content": "You can view job queries, job output, job logs, and Yarn logs for Hive jobs.",
          "pos": [
            0,
            76
          ]
        },
        {
          "content": "For more information, see the previous screenshot.",
          "pos": [
            77,
            127
          ]
        }
      ]
    },
    {
      "pos": [
        10373,
        10707
      ],
      "content": "The most recent release of the tool allows you to see what’s inside your Hive jobs by collecting and surfacing  YARN logs. A YARN log can help you investigating performance issues. For more information about how HDInsight collects YARN logs, see [Access HDInsight Application Logs Programmatically][hdinsight.access.application.logs].",
      "nodes": [
        {
          "content": "The most recent release of the tool allows you to see what’s inside your Hive jobs by collecting and surfacing  YARN logs.",
          "pos": [
            0,
            122
          ]
        },
        {
          "content": "A YARN log can help you investigating performance issues.",
          "pos": [
            123,
            180
          ]
        },
        {
          "content": "For more information about how HDInsight collects YARN logs, see [Access HDInsight Application Logs Programmatically][hdinsight.access.application.logs].",
          "pos": [
            181,
            334
          ]
        }
      ]
    },
    {
      "pos": [
        10709,
        10730
      ],
      "content": "<bpt id=\"p84\">**</bpt>To view Hive jobs<ept id=\"p84\">**</ept>"
    },
    {
      "pos": [
        10735,
        10809
      ],
      "content": "From <bpt id=\"p85\">**</bpt>Server Explorer<ept id=\"p85\">**</ept>, expand <bpt id=\"p86\">**</bpt>Azure<ept id=\"p86\">**</ept>, and then expand <bpt id=\"p87\">**</bpt>HDInsight<ept id=\"p87\">**</ept>."
    },
    {
      "pos": [
        10813,
        10936
      ],
      "content": "Right-click an HDInsight cluster, and then click <bpt id=\"p88\">**</bpt>View Jobs<ept id=\"p88\">**</ept>. You'll see a list of the Hive jobs that ran on the cluster.",
      "nodes": [
        {
          "content": "Right-click an HDInsight cluster, and then click <bpt id=\"p88\">**</bpt>View Jobs<ept id=\"p88\">**</ept>.",
          "pos": [
            0,
            103
          ]
        },
        {
          "content": "You'll see a list of the Hive jobs that ran on the cluster.",
          "pos": [
            104,
            163
          ]
        }
      ]
    },
    {
      "pos": [
        10940,
        11095
      ],
      "content": "Click a job in the job list to select it, and then use the <bpt id=\"p89\">**</bpt>Hive Job Summary<ept id=\"p89\">**</ept><ph id=\"ph39\"/> window to open <bpt id=\"p90\">**</bpt>Job Query<ept id=\"p90\">**</ept>, <bpt id=\"p91\">**</bpt>Job Output<ept id=\"p91\">**</ept>, <bpt id=\"p92\">**</bpt>Job Log<ept id=\"p92\">**</ept>, or <bpt id=\"p93\">**</bpt>Yarn log<ept id=\"p93\">**</ept>."
    },
    {
      "pos": [
        11101,
        11166
      ],
      "content": "![Hadoop tools: HDInsight Visual Studio Tools view Hive jobs][12]"
    },
    {
      "pos": [
        11172,
        11214
      ],
      "content": "Faster path Hive execution via HiveServer2"
    },
    {
      "pos": [
        11217,
        11297
      ],
      "content": "<ph id=\"ph40\">[AZURE.NOTE]</ph><ph id=\"ph41\"/> This feature only works on HDInsight cluster version 3.2 and newer."
    },
    {
      "pos": [
        11299,
        11448
      ],
      "content": "The HDInsight Tools used to submit Hive jobs via WebHCat (also known as Templeton). It took a long time to return job details and error information.\n",
      "nodes": [
        {
          "content": "The HDInsight Tools used to submit Hive jobs via WebHCat (also known as Templeton).",
          "pos": [
            0,
            83
          ]
        },
        {
          "content": "It took a long time to return job details and error information.",
          "pos": [
            84,
            148
          ]
        },
        {
          "content": "\n",
          "pos": [
            148,
            149
          ]
        }
      ]
    },
    {
      "pos": [
        11448,
        11603
      ],
      "content": "In order to solve this performance issue, the HDInsight Tools executes Hive jobs directly in the cluster through HiveServer2, so that it bypasses RDP/SSH. ",
      "nodes": [
        {
          "content": "In order to solve this performance issue, the HDInsight Tools executes Hive jobs directly in the cluster through HiveServer2, so that it bypasses RDP/SSH.",
          "pos": [
            0,
            154
          ]
        },
        {
          "content": " ",
          "pos": [
            154,
            155
          ]
        }
      ]
    },
    {
      "pos": [
        11604,
        11700
      ],
      "content": "In addition to better performance, users can also view Hive on Tez graphs, and the Task details."
    },
    {
      "pos": [
        11702,
        11795
      ],
      "content": "For HDInsight cluster version 3.2 or later, you can see a <bpt id=\"p94\">**</bpt>Execute via HiveServer2<ept id=\"p94\">**</ept><ph id=\"ph42\"/> button:"
    },
    {
      "pos": [
        11797,
        11969
      ],
      "content": "<ph id=\"ph43\">![</ph>hdinsight visual studio tools execute via hiveserver2<ph id=\"ph44\">](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.execute.via.hiveserver2.png)</ph>"
    },
    {
      "pos": [
        11971,
        12082
      ],
      "content": "And you can see the logs streamed back in realtime and see the job graphs if the Hive query is executed in Tez."
    },
    {
      "pos": [
        12085,
        12239
      ],
      "content": "<ph id=\"ph45\">![</ph>hdinsight visual studio tools fast path hive execution<ph id=\"ph46\">](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.fast.path.hive.execution.png)</ph>"
    },
    {
      "pos": [
        12241,
        12332
      ],
      "content": "<bpt id=\"p95\">**</bpt>Difference between executing queries via HiveServer2 and Submitting Queries via WebHCat<ept id=\"p95\">**</ept>"
    },
    {
      "pos": [
        12334,
        12544
      ],
      "content": "Even though executing queries via HiveServer2 has many performance benefits, it has several limitations. Some of the limitations are not suitable for production usage. The following table shows the differences:",
      "nodes": [
        {
          "content": "Even though executing queries via HiveServer2 has many performance benefits, it has several limitations.",
          "pos": [
            0,
            104
          ]
        },
        {
          "content": "Some of the limitations are not suitable for production usage.",
          "pos": [
            105,
            167
          ]
        },
        {
          "content": "The following table shows the differences:",
          "pos": [
            168,
            210
          ]
        }
      ]
    },
    {
      "pos": [
        12549,
        12574
      ],
      "content": "Executing via HiveServer2"
    },
    {
      "pos": [
        12576,
        12598
      ],
      "content": "Submitting via WebHCat"
    },
    {
      "pos": [
        12615,
        12630
      ],
      "content": "Execute queries"
    },
    {
      "pos": [
        12631,
        12730
      ],
      "content": "Eliminates the overhead in WebHCat (which launches a MapReduce Job named “TempletonControllerJob”)."
    },
    {
      "pos": [
        12731,
        12847
      ],
      "content": "As long as a query is executed via WebHCat, WebHCat will launch a MapReduce job which introduces additional latency."
    },
    {
      "pos": [
        12850,
        12866
      ],
      "content": "Stream logs back"
    },
    {
      "pos": [
        12867,
        12885
      ],
      "content": "In near real-time."
    },
    {
      "pos": [
        12886,
        12953
      ],
      "content": "The job execution logs are available only when the job is finished."
    },
    {
      "pos": [
        12956,
        12972
      ],
      "content": "View job history"
    },
    {
      "pos": [
        12973,
        13136
      ],
      "content": "If a query is executed via HiveServer2, it’s job history (job log, job output) is not preserved. The application can be viewed in YARN UI with limited information.",
      "nodes": [
        {
          "content": "If a query is executed via HiveServer2, it’s job history (job log, job output) is not preserved.",
          "pos": [
            0,
            96
          ]
        },
        {
          "content": "The application can be viewed in YARN UI with limited information.",
          "pos": [
            97,
            163
          ]
        }
      ]
    },
    {
      "pos": [
        13137,
        13288
      ],
      "content": "If a query is executed via WebHCat, it’s job history (job log, job output) is preserved and can be viewed using Visual Studio/HDInsight SDK/PowerShell."
    },
    {
      "pos": [
        13292,
        13304
      ],
      "content": "Close window"
    },
    {
      "pos": [
        13307,
        13460
      ],
      "content": "Executing via HiveServer2 is a “synchronous” way so you must keep the windows open; if the windows are closed then the query execution will be cancelled."
    },
    {
      "pos": [
        13461,
        13623
      ],
      "content": "Submitting via WebHCat is a “asynchronous” way so you can submit the query via WebHCat and close Visual Studio. You can come back and see the results at any time.",
      "nodes": [
        {
          "content": "Submitting via WebHCat is a “asynchronous” way so you can submit the query via WebHCat and close Visual Studio.",
          "pos": [
            0,
            111
          ]
        },
        {
          "content": "You can come back and see the results at any time.",
          "pos": [
            112,
            162
          ]
        }
      ]
    },
    {
      "pos": [
        13631,
        13661
      ],
      "content": "Tez Hive job performance graph"
    },
    {
      "pos": [
        13663,
        14045
      ],
      "content": "The HDInsight Visual Studio Tools support showing performance graphs for the Hive jobs ran by the Tez execution engine. For information on enabling Tez, see [use Hive in HDInsight][hdinsight.hive]. After you submit a Hive job in Visual Studio, Visual Studio shows you the graph when the job is completed.  You might need to click the <bpt id=\"p96\">**</bpt>Refresh<ept id=\"p96\">**</ept><ph id=\"ph47\"/> button to get the latest job status.",
      "nodes": [
        {
          "content": "The HDInsight Visual Studio Tools support showing performance graphs for the Hive jobs ran by the Tez execution engine.",
          "pos": [
            0,
            119
          ]
        },
        {
          "content": "For information on enabling Tez, see [use Hive in HDInsight][hdinsight.hive].",
          "pos": [
            120,
            197
          ]
        },
        {
          "content": "After you submit a Hive job in Visual Studio, Visual Studio shows you the graph when the job is completed.",
          "pos": [
            198,
            304
          ]
        },
        {
          "content": "You might need to click the <bpt id=\"p96\">**</bpt>Refresh<ept id=\"p96\">**</ept><ph id=\"ph47\"/> button to get the latest job status.",
          "pos": [
            306,
            437
          ]
        }
      ]
    },
    {
      "pos": [
        14049,
        14231
      ],
      "content": "<ph id=\"ph48\">[AZURE.NOTE]</ph><ph id=\"ph49\"/> This feature is only available for HDInsight cluster version above 3.2.4.593, and can only work for completed jobs. This works for both Windows and Linux based clusters.",
      "nodes": [
        {
          "content": "<ph id=\"ph48\">[AZURE.NOTE]</ph><ph id=\"ph49\"/> This feature is only available for HDInsight cluster version above 3.2.4.593, and can only work for completed jobs.",
          "pos": [
            0,
            162
          ]
        },
        {
          "content": "This works for both Windows and Linux based clusters.",
          "pos": [
            163,
            216
          ]
        }
      ]
    },
    {
      "pos": [
        14233,
        14368
      ],
      "content": "<ph id=\"ph50\">![</ph>hadoop hive tez performance graph<ph id=\"ph51\">](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.hive.tez.performance.graph.png)</ph>"
    },
    {
      "pos": [
        14370,
        14668
      ],
      "content": "To help you understand your Hive query better, the tool add the Hive Operator view in this release. You just need to double click on the vertices of the job graph and you can see all the operators inside the vertex. You can also hover on a particular operator to view more details of this operator.",
      "nodes": [
        {
          "content": "To help you understand your Hive query better, the tool add the Hive Operator view in this release.",
          "pos": [
            0,
            99
          ]
        },
        {
          "content": "You just need to double click on the vertices of the job graph and you can see all the operators inside the vertex.",
          "pos": [
            100,
            215
          ]
        },
        {
          "content": "You can also hover on a particular operator to view more details of this operator.",
          "pos": [
            216,
            298
          ]
        }
      ]
    },
    {
      "pos": [
        14674,
        14714
      ],
      "content": "Task execution view for Hive on Tez jobs"
    },
    {
      "pos": [
        14716,
        14862
      ],
      "content": "The Task execution view for Hive on Tez jobs can be used to get structured &amp; visualized information for Hive jobs, and get more job details. When ",
      "nodes": [
        {
          "content": "The Task execution view for Hive on Tez jobs can be used to get structured &amp; visualized information for Hive jobs, and get more job details.",
          "pos": [
            0,
            144
          ]
        },
        {
          "content": "When",
          "pos": [
            145,
            149
          ]
        }
      ]
    },
    {
      "pos": [
        14863,
        15019
      ],
      "content": "there are performance issues, you can use the view to get further details. For example, how each task operates and the detailed information about each task ",
      "nodes": [
        {
          "content": "there are performance issues, you can use the view to get further details.",
          "pos": [
            0,
            74
          ]
        },
        {
          "content": "For example, how each task operates and the detailed information about each task",
          "pos": [
            75,
            155
          ]
        }
      ]
    },
    {
      "pos": [
        15020,
        15169
      ],
      "content": "(data read/write, schedule/start/end time, etc.), so that you can tune job configurations or system architecture based on the visualized information."
    },
    {
      "pos": [
        15171,
        15335
      ],
      "content": "<ph id=\"ph52\">![</ph>hdinsight visual studio tools task execution view<ph id=\"ph53\">](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.task.execution.view.png)</ph>"
    },
    {
      "pos": [
        15340,
        15355
      ],
      "content": "Run Pig scripts"
    },
    {
      "pos": [
        15357,
        15550
      ],
      "content": "HDInsight Tools for Visual Studio supports creating and submit Pig scripts to HDInsight clusters. Users can create a Pig project from template, and then submit the script to HDInsight clusters.",
      "nodes": [
        {
          "content": "HDInsight Tools for Visual Studio supports creating and submit Pig scripts to HDInsight clusters.",
          "pos": [
            0,
            97
          ]
        },
        {
          "content": "Users can create a Pig project from template, and then submit the script to HDInsight clusters.",
          "pos": [
            98,
            193
          ]
        }
      ]
    },
    {
      "pos": [
        15555,
        15565
      ],
      "content": "Next steps"
    },
    {
      "pos": [
        15566,
        15739
      ],
      "content": "In this article, you learned how to connect to HDInsight clusters from Visual Studio, using the Hadoop tools package, and how to run a Hive query. For more information, see:",
      "nodes": [
        {
          "content": "In this article, you learned how to connect to HDInsight clusters from Visual Studio, using the Hadoop tools package, and how to run a Hive query.",
          "pos": [
            0,
            146
          ]
        },
        {
          "content": "For more information, see:",
          "pos": [
            147,
            173
          ]
        }
      ]
    },
    {
      "pos": [
        15743,
        15789
      ],
      "content": "[Use Hadoop Hive in HDInsight][hdinsight.hive]"
    },
    {
      "pos": [
        15792,
        15854
      ],
      "content": "[Get started using Hadoop in HDInsight][hdinsight.get.started]"
    },
    {
      "pos": [
        15857,
        15913
      ],
      "content": "[Submit Hadoop jobs in HDInsight][hdinsight.submit.jobs]"
    },
    {
      "pos": [
        15916,
        15995
      ],
      "content": "[Analyze Twitter data with Hadoop in HDInsight][hdinsight.analyze.twitter.data]"
    },
    {
      "pos": [
        16013,
        16244
      ],
      "content": "[Installation]: #installation\n[Connect to your Azure subscription]: #connect-to-your-azure-subscription\n[Navigate the linked resources]: #navigate-the-linked-resources\n[Run Hive queries]: #run-hive-queries\n[Next steps]: #next-steps"
    },
    {
      "pos": [
        16270,
        17639
      ],
      "content": "[1]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.wpi.png\n[2]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.linked.resources.png\n[5]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.server.explorer.png\n[6]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.hive.schema.png\n[7]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.create.hive.table.png\n[8]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.run.hive.job.summary.png\n[9]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.submit.jobs.advanced.png\n[10]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.validate.hive.script.png\n[11]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.new.hive.project.png\n[12]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.view.hive.jobs.png\n[13]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.table.names.png\n[14]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.column.names.png"
    },
    {
      "pos": [
        17665,
        18259
      ],
      "content": "[hdinsight-provision]: hdinsight/hdinsight-provision-clusters.md\n[hdinsight.introduction]: hdinsight-introduction.md\n[hdinsight.get.started]: hdinsight-hadoop-linux-tutorial-get-started.md\n[hdinsight.hive]: hdinsight/hdinsight-use-hive.md\n[hdinsight.submit.jobs]: hdinsight/hdinsight-submit-hadoop-jobs-programmatically.md\n[hdinsight.analyze.twitter.data]: hdinsight/hdinsight-analyze-twitter-data.md\n[hdinsight.storm.visual.studio.tools]: hdinsight/hdinsight-storm-develop-csharp-visual-studio-topology.md\n[hdinsight.access.application.logs]: hdinsight/hdinsight-hadoop-access-yarn-app-logs.md"
    }
  ],
  "content": "<properties\n    pageTitle=\"Learn to use Visual Studio Hadoop tools for HDInsight | Microsoft Azure\"\n    description=\"Learn how to install and use Visual Studio Hadoop tools for HDInsight to connect to a Hadoop cluster and run a Hive query.\"\n    keywords=\"hadoop tools,hive query,visual studio\"\n    services=\"HDInsight\"\n    documentationCenter=\"\"\n    tags=\"azure-portal\"\n    authors=\"mumian\"\n    manager=\"paulettm\"\n    editor=\"cgronlun\"/>\n\n<tags\n    ms.service=\"hdinsight\"\n    ms.devlang=\"na\"\n    ms.topic=\"get-started-article\"\n    ms.tgt_pltfrm=\"na\"\n    ms.workload=\"big-data\"\n    ms.date=\"01/27/2016\"\n    ms.author=\"jgao\"/>\n\n# Get started using Visual Studio Hadoop tools for HDInsight to run a Hive query\n\nLearn how to use HDInsight Tools for Visual Studio to connect to HDInsight clusters and submit Hive queries. For more information about using HDInsight, see [Introduction to HDInsight][hdinsight.introduction] and [Get started with HDInsight][hdinsight.get.started]. For more information about connecting to a Storm cluster, see [Develop C# topologies for Apache Storm on HDInsight using Visual Studio][hdinsight.storm.visual.studio.tools].\n\n**Prerequisites**\n\nTo complete this tutorial and use the Hadoop tools in Visual Studio, you'll need the following:\n\n- An Azure HDInsight cluster: Either a Linux-based or Windows-based cluster will work with the steps in this document. See one of the following for information on creating a cluster:\n\n    - [Get started using Linux-based HDInsight](hdinsight-hadoop-linux-tutorial-get-started.md)\n    - [Get started using Windows-based HDInsight](hdinsight-hadoop-tutorial-get-started-windows.md)\n\n- A workstation with the following software:\n\n    - Windows 8.1, Windows 8, or Windows 7\n    - Visual Studio (one of the following versions):\n        - Visual Studio 2013 Community/Professional/Premium/Ultimate with [Update 4](https://www.microsoft.com/download/details.aspx?id=44921)\n        - Visual Studio 2015 (Community/Enterprise)\n\n    >[AZURE.NOTE] Currently, the HDInsight Tools for Visual Studio only come with the English version.\n\n\n## Install HDInsight tools for Visual Studio\n\nHDInsight Tools for Visual Studio and Microsoft Hive ODBC Driver are packaged with Microsoft Azure SDK for .NET version 2.5.1 or later. You can install it using the [Web Platform Installer](http://go.microsoft.com/fwlink/?LinkId=255386). You must choose the one that matches your version of Visual Studio. If you don't have Visual Studio installed, you can install the latest Visual Studio Community and Azure SDK using the [Web Platform Installer](http://go.microsoft.com/fwlink/?LinkId=255386) or using the following links:\n\n- [Visual Studio Community 2015 with Microsoft Azure SDK](https://www.microsoft.com/web/handlers/webpi.ashx/getinstaller/VS2015CommunityAzurePack.appids) \n- [Visual Studio Community 2013 with Microsoft Azure SDK](https://www.microsoft.com/web/handlers/webpi.ashx/getinstaller/VS2013CommunityAzurePack.appids) \n- [Microsoft Azure SDK for .NET (VS 2015)](https://www.microsoft.com/web/handlers/webpi.ashx/getinstaller/VWDOrVs2015AzurePack.appids) \n- [Microsoft Azure SDK for .NET (VS 2013)](https://www.microsoft.com/web/handlers/webpi.ashx/getinstaller/VWDOrVs2013AzurePack.appids) \n\n![Hadoop tools: HDinsight Tools for Visual Studio Web Platform installer.][1]\n\n## Connect to Azure subscriptions\nThe HDInsight Tools for Visual Studio allows you to connect to your HDInsight clusters, perform some basic management operations, and run Hive queries.\n\n>[AZURE.NOTE] For information on connecting to a generic Hadoop cluster, see [Write and submit Hive queries using Visual Studio](http://blogs.msdn.com/b/xiaoyong/archive/2015/05/04/how-to-write-and-submit-hive-queries-using-visual-studio.aspx).\n\n\n**To connect to your Azure subscription**\n\n1.  Open Visual Studio.\n2.  From the **View** menu, click **Server Explorer** to open the Server Explorer window.\n3.  Expand **Azure**, and then expand **HDInsight**.\n\n    >[AZURE.NOTE]Notice the **HDInsight Task List** window should be open. If you don't see it, click **Other Windows** from the **View** menu, and then click **HDInsight Task List Window**.  \n4.  Enter your Azure subscription credentials, and then click **Sign In**. This is only required if you have never connected to the Azure subscription from Visual Studio on this workstation.\n5.  In Server Explorer, you'll see a list of existing HDInsight clusters. If you don't have any clusters, you can provision one by using the Azure Portal, Azure PowerShell, or the HDInsight SDK. For more information, see [Provision HDInsight clusters][hdinsight-provision].\n\n    ![Hadoop tools: HDInsight Tools for Visual Studio Server Explorer cluster list][5]\n6.  Expand an HDInsight cluster. You'll see **Hive Databases**, a default storage account, linked storage accounts, and **Hadoop Service log**. You can further expand the entities.\n\nAfter you've connected to your Azure subscription, you'll be able to do the following:\n\n**To connect to the Azure portal from Visual Studio**\n\n- From Server Explorer, expand **Azure** > **HDInsight**, right-click an HDInsight cluster, and then click **Manage Cluster in Azure Portal**.\n\n**To ask questions and provide feedback from Visual Studio**\n\n- From the **Tools** menu, click **HDInsight**, and then click **MSDN Forum** to ask questions, or click **Give Feedback**.\n\n## Navigate the linked resources\n\nFrom Server Explorer, you can see the default storage account and any linked storage accounts. If you expand the default storage account, you can see the containers on the storage account. The default storage account and the default container are marked. You can also right-click any of the containers to view the contents.\n\n![HDInsight Tools for Visual Studio server explorer cluster list][2]\n\n## Run a Hive query\n[Apache Hive][apache.hive] is a data warehouse infrastructure built on Hadoop for providing data summarization, queries, and analysis. HDInsight Tools for Visual Studio supports running Hive queries from Visual Studio. For more information about Hive, see [Use Hive with HDInsight][hdinsight.hive].\n\nIt is time consuming to test Hive script against an HDInsight cluster. It could take several minutes or more. HDInsight Tools for Visual Studio is capable of validating Hive script locally without connecting to a live cluster.\n\nHDInsight Tools for Visual Studio also enables users to see what’s inside the Hive job by collecting and surfacing the YARN logs of certain Hive jobs.\n\n### View the **hivesampletable**\nAll HDInsight clusters come with a sample Hive table called *hivesampletable*. We'll use this table to show you how to list Hive tables, view the table schemas, and list the rows in the Hive table.\n\n\n\n**To list Hive tables and view Hive table schema**\n\n1.  From **Server Explorer**, expand **Azure** > **HDInsight** > the cluster of your choice > **Hive Databases** > **Default** > **hivesampletable** to see the table schema.\n4.  Right-click **hivesampletable**, and then click **View Top 100 Rows** to list the rows. It is equivalent to running the following Hive query using Hive ODBC driver:\n\n        SELECT * FROM hivesampletable LIMIT 100\n\n    You can customize the row count.\n\n    ![Hadoop tools: HDinsight Hive Visual Studio schema query][6]\n\n### Create Hive tables\n\nYou can use the GUI to create a Hive table or use Hive queries. For information about using Hive queries, see [Run Hive queries](#run.queries).\n\n**To create a Hive table**\n\n1. From **Server Explorer**, expand **Azure** > **HDInsight Clusters** an HDInsight cluster > **Hive Databases**, then right-click **default**, and click **Create Table**.\n2. Configure the table.\n3. Click **Create Table** to submit the job to create the new Hive table.\n\n    ![Hadoop tools: hdinsight visual studio tools create hive table][7]\n\n### <a name=\"run.queries\"></a>Validate and run Hive queries\nThere are two ways to create and run Hive queries:\n\n- Create ad-hoc queries\n- Create a Hive application\n\n**To create, validate, and run ad-hoc queries**\n\n1. From **Server Explorer**, expand **Azure**, and then expand **HDInsight Clusters**.\n2. Right-click the cluster where you want to run the query, and then click **Write a Hive Query**.\n3. Enter the Hive queries. Notice the Hive editor supports IntelliSense. HDInsight Tools for Visual Studio supports loading the remote metadata when you are editing your Hive script. For example, when you type \"SELECT * FROM\", the IntelliSense lists all the suggested table names. When a table name is specified, the column names are listed by the IntelliSense. The tool supports almost all Hive DML statements, subqueries, and the built-in UDFs.\n\n    ![Hadoop tools: HDInsight Visual Studio Tools IntelliSense][13]\n\n    ![Hadoop tools: HDInsight Visual Studio Tools IntelliSense][14]\n\n    > [AZURE.NOTE] Only the metadata of the clusters that is selected in HDInsight Toolbar will be suggested.\n4. (Optional): Click **Validate Script** to check the script syntax errors.\n\n    ![Hadoop tools: hdinsight tools for Visual Studio local validation][10]\n\n4. Click **Submit** or **Submit (Advanced)**. With the advanced submit option, you'll configure **Job Name**, **Arguments**, **Additional Configurations**, and **Status Directory** for the script:\n\n    ![hdinsight hadoop hive query][9]\n\n    After you submit the job, you see a **Hive Job Summary** window.\n\n    ![Summary of an HDInsight Hadoop Hive query][8]\n5. Use the **Refresh** button to update the status until the job status changes to **Completed**.\n6. Click the links at the bottom to see the following: **Job Query**, **Job Output**, **Job log**, or **Yarn log**.\n\n\n\n**To create and run a Hive solution**\n\n1. From the **FILE** menu, click **New**, and then click **Project**.\n2. Select **HDInsight** from the left pane, select **Hive Application** in the middle pane, enter the properties, and then click **OK**.\n\n    ![Hadoop tools: hdinsight visual studio tools new hive project][11]\n3. From **Solution Explorer**, double-click **Script.hql** to open it.\n4. To validate the Hive script, you can click the **Validate Script** button, or right-click the script in the Hive editor, and then click **Validate Script** from the context menu.\n\n\n### View Hive jobs\nYou can view job queries, job output, job logs, and Yarn logs for Hive jobs. For more information, see the previous screenshot.\n\nThe most recent release of the tool allows you to see what’s inside your Hive jobs by collecting and surfacing  YARN logs. A YARN log can help you investigating performance issues. For more information about how HDInsight collects YARN logs, see [Access HDInsight Application Logs Programmatically][hdinsight.access.application.logs].\n\n**To view Hive jobs**\n\n1. From **Server Explorer**, expand **Azure**, and then expand **HDInsight**.\n2. Right-click an HDInsight cluster, and then click **View Jobs**. You'll see a list of the Hive jobs that ran on the cluster.\n3. Click a job in the job list to select it, and then use the **Hive Job Summary** window to open **Job Query**, **Job Output**, **Job Log**, or **Yarn log**.\n\n    ![Hadoop tools: HDInsight Visual Studio Tools view Hive jobs][12]\n\n### Faster path Hive execution via HiveServer2\n\n>[AZURE.NOTE] This feature only works on HDInsight cluster version 3.2 and newer.\n\nThe HDInsight Tools used to submit Hive jobs via WebHCat (also known as Templeton). It took a long time to return job details and error information.\nIn order to solve this performance issue, the HDInsight Tools executes Hive jobs directly in the cluster through HiveServer2, so that it bypasses RDP/SSH. \nIn addition to better performance, users can also view Hive on Tez graphs, and the Task details.\n\nFor HDInsight cluster version 3.2 or later, you can see a **Execute via HiveServer2** button:\n\n![hdinsight visual studio tools execute via hiveserver2](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.execute.via.hiveserver2.png)\n\nAnd you can see the logs streamed back in realtime and see the job graphs if the Hive query is executed in Tez.\n \n![hdinsight visual studio tools fast path hive execution](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.fast.path.hive.execution.png)\n\n**Difference between executing queries via HiveServer2 and Submitting Queries via WebHCat**\n\nEven though executing queries via HiveServer2 has many performance benefits, it has several limitations. Some of the limitations are not suitable for production usage. The following table shows the differences:\n\n| |Executing via HiveServer2 |Submitting via WebHCat|\n|---|---|---|\n|Execute queries|Eliminates the overhead in WebHCat (which launches a MapReduce Job named “TempletonControllerJob”).|As long as a query is executed via WebHCat, WebHCat will launch a MapReduce job which introduces additional latency.|\n|Stream logs back|In near real-time.|The job execution logs are available only when the job is finished.|\n|View job history|If a query is executed via HiveServer2, it’s job history (job log, job output) is not preserved. The application can be viewed in YARN UI with limited information.|If a query is executed via WebHCat, it’s job history (job log, job output) is preserved and can be viewed using Visual Studio/HDInsight SDK/PowerShell. |\n|Close window|  Executing via HiveServer2 is a “synchronous” way so you must keep the windows open; if the windows are closed then the query execution will be cancelled.|Submitting via WebHCat is a “asynchronous” way so you can submit the query via WebHCat and close Visual Studio. You can come back and see the results at any time.|\n\n\n### Tez Hive job performance graph\n\nThe HDInsight Visual Studio Tools support showing performance graphs for the Hive jobs ran by the Tez execution engine. For information on enabling Tez, see [use Hive in HDInsight][hdinsight.hive]. After you submit a Hive job in Visual Studio, Visual Studio shows you the graph when the job is completed.  You might need to click the **Refresh** button to get the latest job status.\n\n> [AZURE.NOTE] This feature is only available for HDInsight cluster version above 3.2.4.593, and can only work for completed jobs. This works for both Windows and Linux based clusters.\n\n![hadoop hive tez performance graph](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.hive.tez.performance.graph.png)\n\nTo help you understand your Hive query better, the tool add the Hive Operator view in this release. You just need to double click on the vertices of the job graph and you can see all the operators inside the vertex. You can also hover on a particular operator to view more details of this operator.\n\n### Task execution view for Hive on Tez jobs\n\nThe Task execution view for Hive on Tez jobs can be used to get structured & visualized information for Hive jobs, and get more job details. When \nthere are performance issues, you can use the view to get further details. For example, how each task operates and the detailed information about each task \n(data read/write, schedule/start/end time, etc.), so that you can tune job configurations or system architecture based on the visualized information.\n\n![hdinsight visual studio tools task execution view](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.task.execution.view.png)\n\n## Run Pig scripts\n\nHDInsight Tools for Visual Studio supports creating and submit Pig scripts to HDInsight clusters. Users can create a Pig project from template, and then submit the script to HDInsight clusters.\n\n## Next steps\nIn this article, you learned how to connect to HDInsight clusters from Visual Studio, using the Hadoop tools package, and how to run a Hive query. For more information, see:\n\n- [Use Hadoop Hive in HDInsight][hdinsight.hive]\n- [Get started using Hadoop in HDInsight][hdinsight.get.started]\n- [Submit Hadoop jobs in HDInsight][hdinsight.submit.jobs]\n- [Analyze Twitter data with Hadoop in HDInsight][hdinsight.analyze.twitter.data]\n\n\n<!--Anchors-->\n[Installation]: #installation\n[Connect to your Azure subscription]: #connect-to-your-azure-subscription\n[Navigate the linked resources]: #navigate-the-linked-resources\n[Run Hive queries]: #run-hive-queries\n[Next steps]: #next-steps\n\n<!--Image references-->\n[1]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.wpi.png\n[2]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.linked.resources.png\n[5]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.server.explorer.png\n[6]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.hive.schema.png\n[7]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.create.hive.table.png\n[8]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.run.hive.job.summary.png\n[9]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.submit.jobs.advanced.png\n[10]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.validate.hive.script.png\n[11]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.new.hive.project.png\n[12]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.view.hive.jobs.png\n[13]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.table.names.png\n[14]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.column.names.png\n\n\n<!--Link references-->\n[hdinsight-provision]: hdinsight/hdinsight-provision-clusters.md\n[hdinsight.introduction]: hdinsight-introduction.md\n[hdinsight.get.started]: hdinsight-hadoop-linux-tutorial-get-started.md\n[hdinsight.hive]: hdinsight/hdinsight-use-hive.md\n[hdinsight.submit.jobs]: hdinsight/hdinsight-submit-hadoop-jobs-programmatically.md\n[hdinsight.analyze.twitter.data]: hdinsight/hdinsight-analyze-twitter-data.md\n[hdinsight.storm.visual.studio.tools]: hdinsight/hdinsight-storm-develop-csharp-visual-studio-topology.md\n[hdinsight.access.application.logs]: hdinsight/hdinsight-hadoop-access-yarn-app-logs.md\n\n[apache.hive]: http://hive.apache.org\n"
}