{
  "nodes": [
    {
      "pos": [
        28,
        73
      ],
      "content": "Binomial Distribution Suite | Microsoft Azure"
    },
    {
      "pos": [
        93,
        120
      ],
      "content": "Binomial Distribution Suite"
    },
    {
      "pos": [
        456,
        483
      ],
      "content": "Binomial Distribution Suite"
    },
    {
      "pos": [
        488,
        1253
      ],
      "content": "The Binomial Distribution Suite is a set of sample web services (<bpt id=\"p1\">[</bpt>Binomial Generator<ept id=\"p1\">](https://datamarket.azure.com/dataset/aml_labs/bdg5)</ept>, <bpt id=\"p2\">[</bpt>Probability Calculator<ept id=\"p2\">]( https://datamarket.azure.com/dataset/aml_labs/bdp4)</ept>, <bpt id=\"p3\">[</bpt>Quantile Calculator<ept id=\"p3\">]( https://datamarket.azure.com/dataset/aml_labs/bdq5)</ept>) that help in generating and dealing with binomial distributions. The services allow generating a binomial distribution sequence of any length, calculating quantiles out of given probability and calculating probability from a given quantile. Each of the services emits different outputs based on the selected service (see description below). The Binomial Distribution Suite is based on the R functions qbinom, rbinom, and pbinom, which are included in the R stats package.",
      "nodes": [
        {
          "content": "The Binomial Distribution Suite is a set of sample web services (<bpt id=\"p1\">[</bpt>Binomial Generator<ept id=\"p1\">](https://datamarket.azure.com/dataset/aml_labs/bdg5)</ept>, <bpt id=\"p2\">[</bpt>Probability Calculator<ept id=\"p2\">]( https://datamarket.azure.com/dataset/aml_labs/bdp4)</ept>, <bpt id=\"p3\">[</bpt>Quantile Calculator<ept id=\"p3\">]( https://datamarket.azure.com/dataset/aml_labs/bdq5)</ept>) that help in generating and dealing with binomial distributions.",
          "pos": [
            0,
            472
          ]
        },
        {
          "content": "The services allow generating a binomial distribution sequence of any length, calculating quantiles out of given probability and calculating probability from a given quantile.",
          "pos": [
            473,
            648
          ]
        },
        {
          "content": "Each of the services emits different outputs based on the selected service (see description below).",
          "pos": [
            649,
            748
          ]
        },
        {
          "content": "The Binomial Distribution Suite is based on the R functions qbinom, rbinom, and pbinom, which are included in the R stats package.",
          "pos": [
            749,
            879
          ]
        }
      ]
    },
    {
      "pos": [
        1352,
        2024
      ],
      "content": "These web services could be consumed by users – potentially directly on the marketplace, through a mobile app, through a website, or even on a local computer, for example. But the purpose of the web service is also to serve as an example of how Azure Machine Learning can be used to create web services on top of R code. With just a few lines of R code and clicks of a button within Azure Machine Learning Studio, an experiment can be created with R code and published as a web service. The web service can then be published to the Azure Marketplace and consumed by users and devices across the world – no infrastructure setup by the author of the web service is required.",
      "nodes": [
        {
          "content": "These web services could be consumed by users – potentially directly on the marketplace, through a mobile app, through a website, or even on a local computer, for example.",
          "pos": [
            0,
            171
          ]
        },
        {
          "content": "But the purpose of the web service is also to serve as an example of how Azure Machine Learning can be used to create web services on top of R code.",
          "pos": [
            172,
            320
          ]
        },
        {
          "content": "With just a few lines of R code and clicks of a button within Azure Machine Learning Studio, an experiment can be created with R code and published as a web service.",
          "pos": [
            321,
            486
          ]
        },
        {
          "content": "The web service can then be published to the Azure Marketplace and consumed by users and devices across the world – no infrastructure setup by the author of the web service is required.",
          "pos": [
            487,
            672
          ]
        }
      ]
    },
    {
      "pos": [
        2028,
        2054
      ],
      "content": "Consumption of web service"
    },
    {
      "pos": [
        2055,
        2121
      ],
      "content": "The Binomial Distribution Suite includes the following 3 services."
    },
    {
      "pos": [
        2126,
        2167
      ],
      "content": "Binomial Distribution Quantile Calculator"
    },
    {
      "pos": [
        2168,
        2266
      ],
      "content": "This service accepts 4 arguments of a normal distribution and calculates the associated quantile.\n",
      "nodes": [
        {
          "content": "This service accepts 4 arguments of a normal distribution and calculates the associated quantile.",
          "pos": [
            0,
            97
          ]
        },
        {
          "content": "\n",
          "pos": [
            97,
            98
          ]
        }
      ]
    },
    {
      "pos": [
        2266,
        2290
      ],
      "content": "The input arguments are:"
    },
    {
      "pos": [
        2294,
        2349
      ],
      "content": "p - A single aggregated probability of multiple trials."
    },
    {
      "pos": [
        2354,
        2382
      ],
      "content": "size - The number of trials."
    },
    {
      "pos": [
        2385,
        2430
      ],
      "content": "prob - The probability of success in a trial."
    },
    {
      "pos": [
        2433,
        2523
      ],
      "content": "Side - L for the lower side of the distribution, U for the upper side of the distribution."
    },
    {
      "pos": [
        2526,
        2625
      ],
      "content": "The output of the service is the calculated quantile that is associated with the given probability."
    },
    {
      "pos": [
        2630,
        2674
      ],
      "content": "Binomial Distribution Probability Calculator"
    },
    {
      "pos": [
        2675,
        2778
      ],
      "content": "This service accepts 4 arguments of a binomial distribution and calculates the associated probability.\n",
      "nodes": [
        {
          "content": "This service accepts 4 arguments of a binomial distribution and calculates the associated probability.",
          "pos": [
            0,
            102
          ]
        },
        {
          "content": "\n",
          "pos": [
            102,
            103
          ]
        }
      ]
    },
    {
      "pos": [
        2778,
        2802
      ],
      "content": "The input arguments are:"
    },
    {
      "pos": [
        2806,
        2867
      ],
      "content": "q - A single quantile of an event with binomial distribution."
    },
    {
      "pos": [
        2871,
        2899
      ],
      "content": "size - The number of trials."
    },
    {
      "pos": [
        2902,
        2947
      ],
      "content": "prob - The probability of success in a trial."
    },
    {
      "pos": [
        2950,
        3092
      ],
      "content": "side - L for the lower side of the distribution, U for the upper side of the distribution, or E that is equal to a single number of successes."
    },
    {
      "pos": [
        3094,
        3193
      ],
      "content": "The output of the service is the calculated probability that is associated with the given quantile."
    },
    {
      "pos": [
        3198,
        3229
      ],
      "content": "Binomial Distribution Generator"
    },
    {
      "pos": [
        3230,
        3366
      ],
      "content": "This service accepts 3 arguments of a binomial distribution and generates a random sequence of numbers that are binomially distributed. ",
      "nodes": [
        {
          "content": "This service accepts 3 arguments of a binomial distribution and generates a random sequence of numbers that are binomially distributed.",
          "pos": [
            0,
            135
          ]
        },
        {
          "content": " ",
          "pos": [
            135,
            136
          ]
        }
      ]
    },
    {
      "pos": [
        3367,
        3435
      ],
      "content": "The following arguments should be provided to it within the request:"
    },
    {
      "pos": [
        3439,
        3466
      ],
      "content": "n - Number of observations."
    },
    {
      "pos": [
        3470,
        3494
      ],
      "content": "size - Number of trials."
    },
    {
      "pos": [
        3497,
        3527
      ],
      "content": "prob - Probability of success."
    },
    {
      "pos": [
        3529,
        3647
      ],
      "content": "The output of the service is a sequence of length n with a binomial distribution based on the size and prob arguments."
    },
    {
      "pos": [
        3650,
        3769
      ],
      "content": "This service, as hosted on the Azure Marketplace, is an OData service; these may be called through POST or GET methods."
    },
    {
      "pos": [
        3772,
        4220
      ],
      "content": "There are multiple ways of consuming the service in an automated fashion (example apps are here: <bpt id=\"p4\">[</bpt>Generator<ept id=\"p4\">](http://microsoftazuremachinelearning.azurewebsites.net/BinomialDistributionGenerator.aspx)</ept>,\n<bpt id=\"p5\">[</bpt>Probability Calculator<ept id=\"p5\">](http://microsoftazuremachinelearning.azurewebsites.net/BinomialDistributionProbabilityCalculator.aspx)</ept>,\n<bpt id=\"p6\">[</bpt>Quantile Calculator<ept id=\"p6\">](http://microsoftazuremachinelearning.azurewebsites.net/BinomialDistributionQuantileCalculator)</ept>)."
    },
    {
      "pos": [
        4226,
        4271
      ],
      "content": "Starting C# code for web service consumption:"
    },
    {
      "pos": [
        4276,
        4317
      ],
      "content": "Binomial Distribution Quantile Calculator"
    },
    {
      "pos": [
        4322,
        4340
      ],
      "content": "public class Input"
    },
    {
      "pos": [
        4345,
        4346
      ],
      "content": "{"
    },
    {
      "pos": [
        4359,
        4375
      ],
      "content": "public string p;"
    },
    {
      "pos": [
        4388,
        4407
      ],
      "content": "public string size;"
    },
    {
      "pos": [
        4420,
        4439
      ],
      "content": "public string prob;"
    },
    {
      "pos": [
        4452,
        4471
      ],
      "content": "public string side;"
    },
    {
      "pos": [
        4476,
        4477
      ],
      "content": "}"
    },
    {
      "pos": [
        5583,
        5627
      ],
      "content": "Binomial Distribution Probability Calculator"
    },
    {
      "pos": [
        5632,
        5650
      ],
      "content": "public class Input"
    },
    {
      "pos": [
        5655,
        5656
      ],
      "content": "{"
    },
    {
      "pos": [
        5669,
        5685
      ],
      "content": "public string q;"
    },
    {
      "pos": [
        5698,
        5717
      ],
      "content": "public string size;"
    },
    {
      "pos": [
        5730,
        5749
      ],
      "content": "public string prob;"
    },
    {
      "pos": [
        5762,
        5781
      ],
      "content": "public string side;"
    },
    {
      "pos": [
        5786,
        5787
      ],
      "content": "}"
    },
    {
      "pos": [
        6895,
        6926
      ],
      "content": "Binomial Distribution Generator"
    },
    {
      "pos": [
        6931,
        6949
      ],
      "content": "public class Input"
    },
    {
      "pos": [
        6954,
        6955
      ],
      "content": "{"
    },
    {
      "pos": [
        6968,
        6984
      ],
      "content": "public string n;"
    },
    {
      "pos": [
        6997,
        7016
      ],
      "content": "public string size;"
    },
    {
      "pos": [
        7029,
        7045
      ],
      "content": "public string p;"
    },
    {
      "pos": [
        7050,
        7051
      ],
      "content": "}"
    },
    {
      "pos": [
        8135,
        8158
      ],
      "content": "Creation of web service"
    },
    {
      "pos": [
        8162,
        8565
      ],
      "content": "This web service was created using Azure Machine Learning. For a free trial, as well as introductory videos on creating experiments and <bpt id=\"p7\">[</bpt>publishing web services<ept id=\"p7\">](machine-learning-publish-a-machine-learning-web-service.md)</ept>, please see <bpt id=\"p8\">[</bpt>azure.com/ml<ept id=\"p8\">](http://azure.com/ml)</ept>. Below is a screenshot of the experiment that created the web service and example code for each of the modules within the experiment.",
      "nodes": [
        {
          "content": "This web service was created using Azure Machine Learning.",
          "pos": [
            0,
            58
          ]
        },
        {
          "content": "For a free trial, as well as introductory videos on creating experiments and <bpt id=\"p7\">[</bpt>publishing web services<ept id=\"p7\">](machine-learning-publish-a-machine-learning-web-service.md)</ept>, please see <bpt id=\"p8\">[</bpt>azure.com/ml<ept id=\"p8\">](http://azure.com/ml)</ept>.",
          "pos": [
            59,
            346
          ]
        },
        {
          "content": "Below is a screenshot of the experiment that created the web service and example code for each of the modules within the experiment.",
          "pos": [
            347,
            479
          ]
        }
      ]
    },
    {
      "pos": [
        8570,
        8611
      ],
      "content": "Binomial Distribution Quantile Calculator"
    },
    {
      "pos": [
        8613,
        8635
      ],
      "content": "<ph id=\"ph3\">![</ph>Create workspace<ph id=\"ph4\">][4]</ph>"
    },
    {
      "pos": [
        8641,
        8650
      ],
      "content": "Module 1:"
    },
    {
      "pos": [
        8656,
        8723
      ],
      "content": "data schema with example data (replaced with data from web service)"
    },
    {
      "pos": [
        8728,
        8780
      ],
      "content": "data.set=data.frame(p=0.1,size=10,prob=.5,side='L');"
    },
    {
      "pos": [
        8785,
        8842
      ],
      "content": "maml.mapOutputPort(\"data.set\"); #send data to output port"
    },
    {
      "pos": [
        8847,
        8856
      ],
      "content": "Module 2:"
    },
    {
      "pos": [
        9987,
        10031
      ],
      "content": "Binomial Distribution Probability Calculator"
    },
    {
      "pos": [
        10033,
        10055
      ],
      "content": "<ph id=\"ph5\">![</ph>Create workspace<ph id=\"ph6\">][5]</ph>"
    },
    {
      "pos": [
        10061,
        10070
      ],
      "content": "Module 1:"
    },
    {
      "pos": [
        10268,
        10277
      ],
      "content": "Module 2:"
    },
    {
      "pos": [
        10282,
        10334
      ],
      "content": "dataset1 &lt;- maml.mapInputPort(1) # class: data.frame"
    },
    {
      "pos": [
        10339,
        10355
      ],
      "content": "param = dataset1"
    },
    {
      "pos": [
        10360,
        10414
      ],
      "content": "prob = pbinom(param$q,size=param$size,prob=param$prob)"
    },
    {
      "pos": [
        10419,
        10476
      ],
      "content": "prob.eq = dbinom(param$q,size=param$size,prob=param$prob)"
    },
    {
      "pos": [
        10481,
        10568
      ],
      "content": "df = data.frame(x=1:param$size, prob=dbinom(1:param$size, param$size, prob=param$prob))"
    },
    {
      "pos": [
        10573,
        10577
      ],
      "content": "prob"
    },
    {
      "pos": [
        11015,
        11046
      ],
      "content": "Binomial Distribution Generator"
    },
    {
      "pos": [
        11048,
        11070
      ],
      "content": "<ph id=\"ph7\">![</ph>Create workspace<ph id=\"ph8\">][6]</ph>"
    },
    {
      "pos": [
        11076,
        11085
      ],
      "content": "Module 1:"
    },
    {
      "pos": [
        11271,
        11280
      ],
      "content": "Module 2:"
    },
    {
      "pos": [
        11285,
        11337
      ],
      "content": "dataset1 &lt;- maml.mapInputPort(1) # class: data.frame"
    },
    {
      "pos": [
        11342,
        11358
      ],
      "content": "param = dataset1"
    },
    {
      "pos": [
        11363,
        11404
      ],
      "content": "dist = rbinom(param$n,param$size,param$p)"
    },
    {
      "pos": [
        11546,
        11557
      ],
      "content": "Limitations"
    },
    {
      "pos": [
        11559,
        11710
      ],
      "content": "These are very simple examples surrounding the binomial distribution. As can be seen from the example code above, little error catching is implemented.",
      "nodes": [
        {
          "content": "These are very simple examples surrounding the binomial distribution.",
          "pos": [
            0,
            69
          ]
        },
        {
          "content": "As can be seen from the example code above, little error catching is implemented.",
          "pos": [
            70,
            151
          ]
        }
      ]
    },
    {
      "pos": [
        11714,
        11871
      ],
      "content": "FAQ\nFor frequently asked questions on consumption of the web service or publishing to the Azure Marketplace, see <bpt id=\"p9\">[</bpt>here<ept id=\"p9\">](machine-learning-marketplace-faq.md)</ept>."
    }
  ],
  "content": "<properties \n    pageTitle=\"Binomial Distribution Suite | Microsoft Azure\" \n    description=\"Binomial Distribution Suite\" \n    services=\"machine-learning\" \n    documentationCenter=\"\" \n    authors=\"ireiter\" \n    manager=\"paulettm\" \n    editor=\"cgronlun\"/>\n\n<tags \n    ms.service=\"machine-learning\" \n    ms.workload=\"data-services\" \n    ms.tgt_pltfrm=\"na\" \n    ms.devlang=\"na\" \n    ms.topic=\"article\" \n    ms.date=\"12/01/2015\" \n    ms.author=\"ireiter\"/> \n\n\n#Binomial Distribution Suite\n\n\n\n\nThe Binomial Distribution Suite is a set of sample web services ([Binomial Generator](https://datamarket.azure.com/dataset/aml_labs/bdg5), [Probability Calculator]( https://datamarket.azure.com/dataset/aml_labs/bdp4), [Quantile Calculator]( https://datamarket.azure.com/dataset/aml_labs/bdq5)) that help in generating and dealing with binomial distributions. The services allow generating a binomial distribution sequence of any length, calculating quantiles out of given probability and calculating probability from a given quantile. Each of the services emits different outputs based on the selected service (see description below). The Binomial Distribution Suite is based on the R functions qbinom, rbinom, and pbinom, which are included in the R stats package. \n\n\n[AZURE.INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]\n\n>These web services could be consumed by users – potentially directly on the marketplace, through a mobile app, through a website, or even on a local computer, for example. But the purpose of the web service is also to serve as an example of how Azure Machine Learning can be used to create web services on top of R code. With just a few lines of R code and clicks of a button within Azure Machine Learning Studio, an experiment can be created with R code and published as a web service. The web service can then be published to the Azure Marketplace and consumed by users and devices across the world – no infrastructure setup by the author of the web service is required.\n\n##Consumption of web service\nThe Binomial Distribution Suite includes the following 3 services.\n\n###Binomial Distribution Quantile Calculator\nThis service accepts 4 arguments of a normal distribution and calculates the associated quantile.\nThe input arguments are:\n\n- p - A single aggregated probability of multiple trials.  \n- size - The number of trials.\n- prob - The probability of success in a trial.\n- Side - L for the lower side of the distribution, U for the upper side of the distribution. \n\nThe output of the service is the calculated quantile that is associated with the given probability.\n\n###Binomial Distribution Probability Calculator\nThis service accepts 4 arguments of a binomial distribution and calculates the associated probability.\nThe input arguments are:\n\n- q - A single quantile of an event with binomial distribution. \n- size - The number of trials.\n- prob - The probability of success in a trial.\n- side - L for the lower side of the distribution, U for the upper side of the distribution, or E that is equal to a single number of successes.\n\nThe output of the service is the calculated probability that is associated with the given quantile.\n\n###Binomial Distribution Generator\nThis service accepts 3 arguments of a binomial distribution and generates a random sequence of numbers that are binomially distributed. \nThe following arguments should be provided to it within the request:\n\n- n - Number of observations. \n- size - Number of trials.\n- prob - Probability of success.\n\nThe output of the service is a sequence of length n with a binomial distribution based on the size and prob arguments.\n\n>This service, as hosted on the Azure Marketplace, is an OData service; these may be called through POST or GET methods. \n\nThere are multiple ways of consuming the service in an automated fashion (example apps are here: [Generator](http://microsoftazuremachinelearning.azurewebsites.net/BinomialDistributionGenerator.aspx),\n[Probability Calculator](http://microsoftazuremachinelearning.azurewebsites.net/BinomialDistributionProbabilityCalculator.aspx),\n[Quantile Calculator](http://microsoftazuremachinelearning.azurewebsites.net/BinomialDistributionQuantileCalculator)). \n\n###Starting C# code for web service consumption:\n\n###Binomial Distribution Quantile Calculator\n    public class Input\n    {\n            public string p;\n            public string size;\n            public string prob;\n            public string side;\n    }\n    \n    public AuthenticationHeaderValue CreateBasicHeader(string username, string password)\n    {\n            byte[] byteArray = System.Text.Encoding.UTF8.GetBytes(username + \":\" + password);\n            return new AuthenticationHeaderValue(\"Basic\", Convert.ToBase64String(byteArray));\n    }\n    \n    void main()\n    {\n            var input = new Input() { p = TextBox1.Text, size = TextBox2.Text, prob = TextBox3.Text, side = TextBox4.Text };\n            var json = JsonConvert.SerializeObject(input);\n            var acitionUri = \"PutAPIURLHere,e.g.https://api.datamarket.azure.com/..../v1/Score\";\n            var httpClient = new HttpClient();\n    \n            httpClient.DefaultRequestHeaders.Authorization = CreateBasicHeader(\"PutEmailAddressHere\", \"ChangeToAPIKey\");\n            httpClient.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n    \n            var response = httpClient.PostAsync(acitionUri, new StringContent(json));\n            var result = response.Result.Content;\n            var scoreResult = result.ReadAsStringAsync().Result;\n    }\n\n###Binomial Distribution Probability Calculator\n    public class Input\n    {\n            public string q;\n            public string size;\n            public string prob;\n            public string side;\n    }\n    \n    public AuthenticationHeaderValue CreateBasicHeader(string username, string password)\n    {\n            byte[] byteArray = System.Text.Encoding.UTF8.GetBytes(username + \":\" + password);\n            return new AuthenticationHeaderValue(\"Basic\", Convert.ToBase64String(byteArray));\n    }\n    \n    void Main()\n    {\n            var input = new Input() { q = TextBox1.Text, size = TextBox2.Text, prob = TextBox3.Text, side = TextBox4.Text };\n            var json = JsonConvert.SerializeObject(input);\n            var acitionUri = \" PutAPIURLHere,e.g.https://api.datamarket.azure.com/..../v1/Score\";\n            var httpClient = new HttpClient();\n    \n            httpClient.DefaultRequestHeaders.Authorization = CreateBasicHeader(\"PutEmailAddressHere\", \"ChangeToAPIKey\");\n            httpClient.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n    \n            var response = httpClient.PostAsync(acitionUri, new StringContent(json));\n            var result = response.Result.Content;\n            var scoreResult = result.ReadAsStringAsync().Result;\n    }\n\n\n###Binomial Distribution Generator\n    public class Input\n    {\n            public string n;\n            public string size;\n            public string p;\n    }\n    \n    public AuthenticationHeaderValue CreateBasicHeader(string username, string password)\n    {\n            byte[] byteArray = System.Text.Encoding.UTF8.GetBytes(username + \":\" + password);\n            return new AuthenticationHeaderValue(\"Basic\", Convert.ToBase64String(byteArray));\n    }\n    \n    void Main()\n    {\n            var input = new Input() { n = TextBox1.Text, size = TextBox2.Text, p = TextBox3.Text };\n            var json = JsonConvert.SerializeObject(input);\n            var acitionUri = \"PutAPIURLHere,e.g.https://api.datamarket.azure.com/..../v1/Score\";\n            var httpClient = new HttpClient();\n    \n            httpClient.DefaultRequestHeaders.Authorization = CreateBasicHeader(\"PutEmailAddressHere\", \"ChangeToAPIKey\");\n            httpClient.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n    \n            var response = httpClient.PostAsync(acitionUri, new StringContent(json));\n            var result = response.Result.Content;\n            var scoreResult = result.ReadAsStringAsync().Result;\n    }\n\n\n\n\n\n##Creation of web service \n\n>This web service was created using Azure Machine Learning. For a free trial, as well as introductory videos on creating experiments and [publishing web services](machine-learning-publish-a-machine-learning-web-service.md), please see [azure.com/ml](http://azure.com/ml). Below is a screenshot of the experiment that created the web service and example code for each of the modules within the experiment.\n\n###Binomial Distribution Quantile Calculator\n\n![Create workspace][4]\n\n####Module 1:\n    #data schema with example data (replaced with data from web service)\n    data.set=data.frame(p=0.1,size=10,prob=.5,side='L');\n    maml.mapOutputPort(\"data.set\"); #send data to output port\n####Module 2:\n\n    dataset1 <- maml.mapInputPort(1) # class: data.frame\n    param = dataset1\n    if (param$p < 0 ) {\n    print('Bad input: p must be between 0 and 1')\n    param$p = 0\n    } else if (param$p > 1) {\n    print('Bad input: p must be between 0 and 1')\n    param$p = 1\n    }\n\n    if (param$prob < 0 ) {\n    print('Bad input: prob must be between 0 and 1')\n    param$prob = 0\n    } else if (param$prob > 1) {\n    print('Bad input: prob must be between 0 and 1')\n    param$prob = 1\n    }\n\n    quantile = qbinom(param$p,size=param$size,prob=param$prob)\n    df = data.frame(x=1:param$size, prob=dbinom(1:param$size, param$size, prob=param$prob))\n    quantile\n\n    if (param$side == 'U'){\n    quantile = qbinom(param$p,size=param$size,prob=param$prob,lower.tail = F)\n    band=subset(df,x>quantile)\n    } else if (param$side =='L') {\n    quantile = qbinom(param$p,size=param$size,prob=param$prob,lower.tail = T)\n    band=subset(df,x<=quantile)\n    } else {\n    print(\"Invalid side choice\")\n    }\n\n    output = as.data.frame(quantile)\n    \n    # Select data.frame to be sent to the output Dataset port\n    maml.mapOutputPort(\"output\");\n\n\n###Binomial Distribution Probability Calculator\n\n![Create workspace][5]\n\n####Module 1:\n\n    #data schema with example data (replaced with data from web service)\n    data.set=data.frame(q=5,size=10,prob=.5,side='L');\n    maml.mapOutputPort(\"data.set\"); #send data to output port\n\n\n####Module 2:\n    dataset1 <- maml.mapInputPort(1) # class: data.frame\n    param = dataset1\n    prob = pbinom(param$q,size=param$size,prob=param$prob)\n    prob.eq = dbinom(param$q,size=param$size,prob=param$prob)\n    df = data.frame(x=1:param$size, prob=dbinom(1:param$size, param$size, prob=param$prob))\n    prob\n\n    if (param$side == 'U'){\n    prob = 1 - prob\n    band=subset(df,x>param$q)\n    } else if (param$side =='E') {\n    prob = prob.eq\n    band=subset(df,x==param$q)\n    } else if (param$side =='L') {\n    prob = prob\n    band=subset(df,x<=param$q)\n    } else {\n    print(\"Invalid side choice\")\n    }\n\n    output = as.data.frame(prob)\n    \n    # Select data.frame to be sent to the output Dataset port\n    maml.mapOutputPort(\"output\");\n\n###Binomial Distribution Generator\n\n![Create workspace][6]\n\n####Module 1:\n\n    #data schema with example data (replaced with data from web service)\n    data.set=data.frame(n=50,size=10,p=.5);\n    maml.mapOutputPort(\"data.set\"); #send data to output port\n\n####Module 2:\n    dataset1 <- maml.mapInputPort(1) # class: data.frame\n    param = dataset1\n    dist = rbinom(param$n,param$size,param$p)\n\n    output = as.data.frame(t(dist))\n    \n    # Select data.frame to be sent to the output Dataset port\n    maml.mapOutputPort(\"output\");\n\n##Limitations \nThese are very simple examples surrounding the binomial distribution. As can be seen from the example code above, little error catching is implemented.\n\n##FAQ\nFor frequently asked questions on consumption of the web service or publishing to the Azure Marketplace, see [here](machine-learning-marketplace-faq.md).\n\n\n[1]: ./media/machine-learning-r-csharp-binomial-distribution/binomial_1.png\n\n[2]: ./media/machine-learning-r-csharp-binomial-distribution/binomial_2.png\n\n[3]: ./media/machine-learning-r-csharp-binomial-distribution/binomial_3.png\n\n[4]: ./media/machine-learning-r-csharp-binomial-distribution/binomial_4.png\n\n[5]: ./media/machine-learning-r-csharp-binomial-distribution/binomial_5.png\n\n[6]: ./media/machine-learning-r-csharp-binomial-distribution/binomial_6.png\n \n"
}