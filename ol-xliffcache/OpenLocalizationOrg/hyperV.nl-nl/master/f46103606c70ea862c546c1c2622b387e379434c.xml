{
  "nodes": [
    {
      "content": "Azure Storage Linked Service",
      "pos": [
        3,
        31
      ]
    },
    {
      "content": "The <bpt id=\"p1\">**</bpt>Azure Storage linked service<ept id=\"p1\">**</ept> allows you to link an Azure storage account to an Azure data factory by using the <bpt id=\"p2\">**</bpt>account key<ept id=\"p2\">**</ept>.",
      "pos": [
        33,
        168
      ]
    },
    {
      "content": "This provides the data factory with global access to the Azure Storage.",
      "pos": [
        169,
        240
      ]
    },
    {
      "content": "The following table provides description for JSON elements specific to Azure Storage linked service.",
      "pos": [
        241,
        341
      ]
    },
    {
      "content": "Property",
      "pos": [
        345,
        353
      ]
    },
    {
      "content": "Description",
      "pos": [
        356,
        367
      ]
    },
    {
      "content": "Required",
      "pos": [
        370,
        378
      ]
    },
    {
      "content": "type",
      "pos": [
        424,
        428
      ]
    },
    {
      "pos": [
        431,
        481
      ],
      "content": "The type property must be set to: <bpt id=\"p1\">**</bpt>AzureStorage<ept id=\"p1\">**</ept>"
    },
    {
      "content": "Yes",
      "pos": [
        484,
        487
      ]
    },
    {
      "content": "connectionString",
      "pos": [
        492,
        508
      ]
    },
    {
      "content": "Specify information needed to connect to Azure storage for the connectionString property.",
      "pos": [
        511,
        600
      ]
    },
    {
      "content": "Yes",
      "pos": [
        603,
        606
      ]
    },
    {
      "pos": [
        610,
        837
      ],
      "content": "See the following article for steps to view/copy the account key for an Azure Storage: <bpt id=\"p1\">[</bpt>View, copy, and regenerate storage access keys<ept id=\"p1\">](../storage/storage-create-storage-account.md#view-copy-and-regenerate-storage-access-keys)</ept>."
    },
    {
      "content": "Example:",
      "pos": [
        841,
        849
      ]
    },
    {
      "content": "Azure Storage Sas Linked Service",
      "pos": [
        1167,
        1199
      ]
    },
    {
      "content": "A shared access signature (SAS) provides delegated access to resources in your storage account.",
      "pos": [
        1202,
        1297
      ]
    },
    {
      "content": "This means that you can grant a client limited permissions to objects in your storage account for a specified period of time and with a specified set of permissions, without having to share your account access keys.",
      "pos": [
        1298,
        1513
      ]
    },
    {
      "content": "The SAS is a URI that encompasses in its query parameters all of the information necessary for authenticated access to a storage resource.",
      "pos": [
        1514,
        1652
      ]
    },
    {
      "content": "To access storage resources with the SAS, the client only needs to pass in the SAS to the appropriate constructor or method.",
      "pos": [
        1653,
        1777
      ]
    },
    {
      "content": "For detailed information about SAS, see <bpt id=\"p1\">[</bpt>Shared Access Signatures: Understanding the SAS Model<ept id=\"p1\">](../articles/storage/storage-dotnet-shared-access-signature-part-1.md)</ept>",
      "pos": [
        1778,
        1943
      ]
    },
    {
      "content": "The Azure Storage SAS linked service allows you to link an Azure Storage Account to an Azure data factory by using a Shared Access Signature (SAS).",
      "pos": [
        1947,
        2094
      ]
    },
    {
      "content": "This provides the data factory with restricted/time-bound access to all/specific resources (blob/container) in the storage.",
      "pos": [
        2095,
        2218
      ]
    },
    {
      "content": "The following table provides description for JSON elements specific to Azure Storage SAS linked service.",
      "pos": [
        2219,
        2323
      ]
    },
    {
      "content": "Property",
      "pos": [
        2328,
        2336
      ]
    },
    {
      "content": "Description",
      "pos": [
        2339,
        2350
      ]
    },
    {
      "content": "Required",
      "pos": [
        2353,
        2361
      ]
    },
    {
      "content": "type",
      "pos": [
        2407,
        2411
      ]
    },
    {
      "pos": [
        2414,
        2467
      ],
      "content": "The type property must be set to: <bpt id=\"p1\">**</bpt>AzureStorageSas<ept id=\"p1\">**</ept>"
    },
    {
      "content": "Yes",
      "pos": [
        2471,
        2474
      ]
    },
    {
      "content": "sasUri",
      "pos": [
        2479,
        2485
      ]
    },
    {
      "content": "Specify Shared Access Signature URI to the Azure Storage resources such as blob, container, or table.",
      "pos": [
        2488,
        2589
      ]
    },
    {
      "content": "See the notes below for details.",
      "pos": [
        2590,
        2622
      ]
    },
    {
      "content": "Yes",
      "pos": [
        2625,
        2628
      ]
    },
    {
      "content": "Example:",
      "pos": [
        2636,
        2644
      ]
    },
    {
      "pos": [
        2896,
        2952
      ],
      "content": "When creating an <bpt id=\"p1\">**</bpt>SAS URI<ept id=\"p1\">**</ept>, considering the following:"
    },
    {
      "content": "Azure Data Factory supports only <bpt id=\"p1\">**</bpt>Service SAS<ept id=\"p1\">**</ept>, not Account SAS.",
      "pos": [
        2958,
        3024
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Types of Shared Access Signatures<ept id=\"p1\">](../articles/storage/storage-dotnet-shared-access-signature-part-1.md#types-of-shared-access-signatures)</ept> for details about these two types.",
      "pos": [
        3025,
        3203
      ]
    },
    {
      "pos": [
        3206,
        3363
      ],
      "content": "Appropriate read/write <bpt id=\"p1\">**</bpt>permissions<ept id=\"p1\">**</ept> need to be set on objects based on how the linked service (read, write, read/write) will be used in your data factory."
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Expiry time<ept id=\"p1\">**</ept> needs to be set appropriately.",
      "pos": [
        3366,
        3412
      ]
    },
    {
      "content": "Make sure that the access to Azure Storage objects does not expire within the active period of the pipeline.",
      "pos": [
        3413,
        3521
      ]
    },
    {
      "content": "Uri should be created at the right container/blob or Table level based on the need.",
      "pos": [
        3524,
        3607
      ]
    },
    {
      "content": "A SAS Uri to an Azure blob allows the Data Factory service to access that particular blob.",
      "pos": [
        3608,
        3698
      ]
    },
    {
      "content": "A SAS Uri to an Azure blob container allows the Data Factory service to iterate through blobs in that container.",
      "pos": [
        3699,
        3811
      ]
    },
    {
      "content": "If you need to provide access more/fewer objects later, or update the SAS URI, remember to update the linked service with the new URI.",
      "pos": [
        3812,
        3946
      ]
    }
  ],
  "content": "## Azure Storage Linked Service\n\nThe **Azure Storage linked service** allows you to link an Azure storage account to an Azure data factory by using the **account key**. This provides the data factory with global access to the Azure Storage. The following table provides description for JSON elements specific to Azure Storage linked service.\n\n| Property | Description | Required |\n| :-------- | :----------- | :-------- |\n| type | The type property must be set to: **AzureStorage** | Yes |\n| connectionString | Specify information needed to connect to Azure storage for the connectionString property. | Yes |\n\nSee the following article for steps to view/copy the account key for an Azure Storage: [View, copy, and regenerate storage access keys](../storage/storage-create-storage-account.md#view-copy-and-regenerate-storage-access-keys).\n\n**Example:**  \n  \n    {  \n        \"name\": \"StorageLinkedService\",  \n        \"properties\": {  \n            \"type\": \"AzureStorage\",  \n            \"typeProperties\": {  \n                \"connectionString\": \"DefaultEndpointsProtocol=https;AccountName=<accountname>;AccountKey=<accountkey>\"  \n            }  \n        }  \n    }  \n\n\n## Azure Storage Sas Linked Service  \nA shared access signature (SAS) provides delegated access to resources in your storage account. This means that you can grant a client limited permissions to objects in your storage account for a specified period of time and with a specified set of permissions, without having to share your account access keys. The SAS is a URI that encompasses in its query parameters all of the information necessary for authenticated access to a storage resource. To access storage resources with the SAS, the client only needs to pass in the SAS to the appropriate constructor or method. For detailed information about SAS, see [Shared Access Signatures: Understanding the SAS Model](../articles/storage/storage-dotnet-shared-access-signature-part-1.md)\n  \nThe Azure Storage SAS linked service allows you to link an Azure Storage Account to an Azure data factory by using a Shared Access Signature (SAS). This provides the data factory with restricted/time-bound access to all/specific resources (blob/container) in the storage. The following table provides description for JSON elements specific to Azure Storage SAS linked service. \n\n| Property | Description | Required |\n| :-------- | :----------- | :-------- |\n| type | The type property must be set to: **AzureStorageSas**  | Yes |\n| sasUri | Specify Shared Access Signature URI to the Azure Storage resources such as blob, container, or table. See the notes below for details. | Yes | \n\n\n**Example:**\n  \n    {  \n        \"name\": \"StorageSasLinkedService\",  \n        \"properties\": {  \n            \"type\": \"AzureStorageSas\",  \n            \"typeProperties\": {  \n                \"sasUri\": \"<storageUri>?<sasToken>\"   \n            }  \n        }  \n    }  \n\nWhen creating an **SAS URI**, considering the following:  \n\n- Azure Data Factory supports only **Service SAS**, not Account SAS. See [Types of Shared Access Signatures](../articles/storage/storage-dotnet-shared-access-signature-part-1.md#types-of-shared-access-signatures) for details about these two types.\n- Appropriate read/write **permissions** need to be set on objects based on how the linked service (read, write, read/write) will be used in your data factory.\n- **Expiry time** needs to be set appropriately. Make sure that the access to Azure Storage objects does not expire within the active period of the pipeline.\n- Uri should be created at the right container/blob or Table level based on the need. A SAS Uri to an Azure blob allows the Data Factory service to access that particular blob. A SAS Uri to an Azure blob container allows the Data Factory service to iterate through blobs in that container. If you need to provide access more/fewer objects later, or update the SAS URI, remember to update the linked service with the new URI.   \n"
}