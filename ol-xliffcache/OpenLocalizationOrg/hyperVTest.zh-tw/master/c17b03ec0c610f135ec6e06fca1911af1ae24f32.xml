{
  "nodes": [
    {
      "pos": [
        27,
        92
      ],
      "content": "Analyzing Customer Churn using Machine Learning | Microsoft Azure"
    },
    {
      "pos": [
        111,
        196
      ],
      "content": "Case study of developing an integrated model for analyzing and scoring customer churn"
    },
    {
      "pos": [
        518,
        574
      ],
      "content": "Analyzing Customer Churn by using Azure Machine Learning"
    },
    {
      "pos": [
        578,
        586
      ],
      "content": "Overview"
    },
    {
      "pos": [
        587,
        961
      ],
      "content": "This topic presents a reference implementation of a customer churn analysis project that is built by using Azure Machine Learning Studio. It discusses associated generic models for holistically solving the problem of industrial customer churn. We also measure the accuracy of models that are built by using Machine Learning, and we assess directions for further development.",
      "nodes": [
        {
          "content": "This topic presents a reference implementation of a customer churn analysis project that is built by using Azure Machine Learning Studio.",
          "pos": [
            0,
            137
          ]
        },
        {
          "content": "It discusses associated generic models for holistically solving the problem of industrial customer churn.",
          "pos": [
            138,
            243
          ]
        },
        {
          "content": "We also measure the accuracy of models that are built by using Machine Learning, and we assess directions for further development.",
          "pos": [
            244,
            374
          ]
        }
      ]
    },
    {
      "pos": [
        969,
        985
      ],
      "content": "Acknowledgements"
    },
    {
      "pos": [
        986,
        1259
      ],
      "content": "This experiment was developed and tested by Serge Berger, Princial Data Scientist at Microsoft, and Roger Barga, formerly Product Manager for Microsoft Azure Machine Learning. The Azure documentation team is grateful to them for sharing their learnings in this white paper.",
      "nodes": [
        {
          "content": "This experiment was developed and tested by Serge Berger, Princial Data Scientist at Microsoft, and Roger Barga, formerly Product Manager for Microsoft Azure Machine Learning.",
          "pos": [
            0,
            175
          ]
        },
        {
          "content": "The Azure documentation team is grateful to them for sharing their learnings in this white paper.",
          "pos": [
            176,
            273
          ]
        }
      ]
    },
    {
      "pos": [
        1357,
        1386
      ],
      "content": "The problem of customer churn"
    },
    {
      "pos": [
        1387,
        1871
      ],
      "content": "Businesses in the consumer market and in all enterprise sectors have to deal with churn. Sometimes churn is excessive and influences policy decisions. The traditional solution is to predict high-propensity churners and address their needs via a concierge service, marketing campaigns, or by applying special dispensations. These approaches can vary from industry to industry and even from a particular consumer cluster to another within one industry (for example, telecommunications).",
      "nodes": [
        {
          "content": "Businesses in the consumer market and in all enterprise sectors have to deal with churn.",
          "pos": [
            0,
            88
          ]
        },
        {
          "content": "Sometimes churn is excessive and influences policy decisions.",
          "pos": [
            89,
            150
          ]
        },
        {
          "content": "The traditional solution is to predict high-propensity churners and address their needs via a concierge service, marketing campaigns, or by applying special dispensations.",
          "pos": [
            151,
            322
          ]
        },
        {
          "content": "These approaches can vary from industry to industry and even from a particular consumer cluster to another within one industry (for example, telecommunications).",
          "pos": [
            323,
            484
          ]
        }
      ]
    },
    {
      "pos": [
        1873,
        2529
      ],
      "content": "The common factor is that businesses need to minimize these special customer retention efforts. Thus, a natural methodology would be to score every customer with the probability of churn and address the top N ones. The top customers might be the most profitable ones; for example, in more sophisticated scenarios, a profit function is employed during the selection of candidates for special dispensation. However, these considerations are only a part of the holistic strategy for dealing with churn. Businesses also have to take into account risk (and associated risk tolerance), the level and cost of the intervention, and plausible customer segmentation.",
      "nodes": [
        {
          "content": "The common factor is that businesses need to minimize these special customer retention efforts.",
          "pos": [
            0,
            95
          ]
        },
        {
          "content": "Thus, a natural methodology would be to score every customer with the probability of churn and address the top N ones.",
          "pos": [
            96,
            214
          ]
        },
        {
          "content": "The top customers might be the most profitable ones; for example, in more sophisticated scenarios, a profit function is employed during the selection of candidates for special dispensation.",
          "pos": [
            215,
            404
          ]
        },
        {
          "content": "However, these considerations are only a part of the holistic strategy for dealing with churn.",
          "pos": [
            405,
            499
          ]
        },
        {
          "content": "Businesses also have to take into account risk (and associated risk tolerance), the level and cost of the intervention, and plausible customer segmentation.",
          "pos": [
            500,
            656
          ]
        }
      ]
    },
    {
      "pos": [
        2533,
        2941
      ],
      "content": "##Industry outlook and approaches\nSophisticated handling of churn is a sign of a mature industry. The classic example is the telecommunications industry where subscribers are known to frequently switch from one provider to another. This voluntary churn is a prime concern. Moreover, providers have accumulated significant knowledge about <bpt id=\"p1\">*</bpt>churn drivers<ept id=\"p1\">*</ept>, which are the factors that drive customers to switch.",
      "nodes": [
        {
          "content": "Industry outlook and approaches\nSophisticated handling of churn is a sign of a mature industry.",
          "pos": [
            2,
            97
          ]
        },
        {
          "content": "The classic example is the telecommunications industry where subscribers are known to frequently switch from one provider to another.",
          "pos": [
            98,
            231
          ]
        },
        {
          "content": "This voluntary churn is a prime concern.",
          "pos": [
            232,
            272
          ]
        },
        {
          "content": "Moreover, providers have accumulated significant knowledge about <bpt id=\"p1\">*</bpt>churn drivers<ept id=\"p1\">*</ept>, which are the factors that drive customers to switch.",
          "pos": [
            273,
            446
          ]
        }
      ]
    },
    {
      "pos": [
        2943,
        3369
      ],
      "content": "For instance, handset or device choice is a well-known driver of churn in the mobile phone business. As a result, a popular policy is to subsidize the price of a handset for new subscribers and charging a full price to existing customers for an upgrade. Historically, this policy has led to customers hopping from one provider to another to get a new discount, which in turn, has prompted providers to refine their strategies.",
      "nodes": [
        {
          "content": "For instance, handset or device choice is a well-known driver of churn in the mobile phone business.",
          "pos": [
            0,
            100
          ]
        },
        {
          "content": "As a result, a popular policy is to subsidize the price of a handset for new subscribers and charging a full price to existing customers for an upgrade.",
          "pos": [
            101,
            253
          ]
        },
        {
          "content": "Historically, this policy has led to customers hopping from one provider to another to get a new discount, which in turn, has prompted providers to refine their strategies.",
          "pos": [
            254,
            426
          ]
        }
      ]
    },
    {
      "pos": [
        3371,
        3722
      ],
      "content": "High volatility in handset offerings is a factor that very quickly invalidates models of churn that are based on current handset models. Additionally, mobile phones are not only telecommunication devices; they are also fashion statements (consider the iPhone), and these social predictors are outside the scope of regular telecommunications data sets.",
      "nodes": [
        {
          "content": "High volatility in handset offerings is a factor that very quickly invalidates models of churn that are based on current handset models.",
          "pos": [
            0,
            136
          ]
        },
        {
          "content": "Additionally, mobile phones are not only telecommunication devices; they are also fashion statements (consider the iPhone), and these social predictors are outside the scope of regular telecommunications data sets.",
          "pos": [
            137,
            351
          ]
        }
      ]
    },
    {
      "pos": [
        3724,
        3985
      ],
      "content": "The net result for modeling is that you cannot devise a sound policy simply by eliminating known reasons for churn. In fact, a continuous modeling strategy, including classic models that quantify categorical variables (such as decision trees), is <bpt id=\"p2\">**</bpt>mandatory<ept id=\"p2\">**</ept>.",
      "nodes": [
        {
          "content": "The net result for modeling is that you cannot devise a sound policy simply by eliminating known reasons for churn.",
          "pos": [
            0,
            115
          ]
        },
        {
          "content": "In fact, a continuous modeling strategy, including classic models that quantify categorical variables (such as decision trees), is <bpt id=\"p2\">**</bpt>mandatory<ept id=\"p2\">**</ept>.",
          "pos": [
            116,
            299
          ]
        }
      ]
    },
    {
      "pos": [
        3987,
        4275
      ],
      "content": "Using big data sets on their customers, organizations are performing big data analytics (in particular, churn detection based on big data) as an effective approach to the problem. You can find more about the big data approach to the problem of churn in the Recommendations on ETL section.",
      "nodes": [
        {
          "content": "Using big data sets on their customers, organizations are performing big data analytics (in particular, churn detection based on big data) as an effective approach to the problem.",
          "pos": [
            0,
            179
          ]
        },
        {
          "content": "You can find more about the big data approach to the problem of churn in the Recommendations on ETL section.",
          "pos": [
            180,
            288
          ]
        }
      ]
    },
    {
      "pos": [
        4281,
        4316
      ],
      "content": "Methodology to model customer churn"
    },
    {
      "pos": [
        4317,
        4401
      ],
      "content": "A common problem-solving process to solve customer churn is depicted in Figures 1-3:"
    },
    {
      "pos": [
        4409,
        4485
      ],
      "content": "A risk model allows you to consider how actions affect probability and risk."
    },
    {
      "pos": [
        4490,
        4651
      ],
      "content": "An intervention model allows you to consider how the level of intervention could affect the probability of churn and the amount of customer lifetime value (CLV)."
    },
    {
      "pos": [
        4656,
        4821
      ],
      "content": "This analysis lends itself to a qualitative analysis that is escalated to a proactive marketing campaign that targets customer segments to deliver the optimal offer."
    },
    {
      "pos": [
        4833,
        5094
      ],
      "content": "This forward looking approach is the best way to treat churn, but it comes with complexity: we have to develop a multi-model archetype and trace dependencies between the models. The interaction among models can be encapsulated as shown in the following diagram:",
      "nodes": [
        {
          "content": "This forward looking approach is the best way to treat churn, but it comes with complexity: we have to develop a multi-model archetype and trace dependencies between the models.",
          "pos": [
            0,
            177
          ]
        },
        {
          "content": "The interaction among models can be encapsulated as shown in the following diagram:",
          "pos": [
            178,
            261
          ]
        }
      ]
    },
    {
      "pos": [
        5106,
        5147
      ],
      "content": "<bpt id=\"p3\">*</bpt>Figure 4: Unified multi-model archetype<ept id=\"p3\">*</ept>"
    },
    {
      "pos": [
        5151,
        5423
      ],
      "content": "Interaction between the models is key if we are to deliver a holistic approach to customer retention. Each model necessarily degrades over time; therefore, the architecture is an implicit loop (similar to the archetype set by the CRISP-DM data mining standard, [<bpt id=\"p4\">***</bpt><bpt id=\"p5\"/>3<ept id=\"p5\">***</ept><ept id=\"p4\"/>]).",
      "nodes": [
        {
          "content": "Interaction between the models is key if we are to deliver a holistic approach to customer retention.",
          "pos": [
            0,
            101
          ]
        },
        {
          "content": "Each model necessarily degrades over time; therefore, the architecture is an implicit loop (similar to the archetype set by the CRISP-DM data mining standard, [<bpt id=\"p4\">***</bpt><bpt id=\"p5\"/>3<ept id=\"p5\">***</ept><ept id=\"p4\"/>]).",
          "pos": [
            102,
            338
          ]
        }
      ]
    },
    {
      "pos": [
        5427,
        5972
      ],
      "content": "The overall cycle of risk-decision-marketing segmentation/decomposition is still a generalized structure, which is applicable to many business problems. Churn analysis is simply a strong representative of this group of problems because it exhibits all the traits of a complex business problem that does not allow a simplified predictive solution. The social aspects of the modern approach to churn are not particularly highlighted in the approach, but the social aspects are encapsulated in the modeling archetype, as they would be in any model.",
      "nodes": [
        {
          "content": "The overall cycle of risk-decision-marketing segmentation/decomposition is still a generalized structure, which is applicable to many business problems.",
          "pos": [
            0,
            152
          ]
        },
        {
          "content": "Churn analysis is simply a strong representative of this group of problems because it exhibits all the traits of a complex business problem that does not allow a simplified predictive solution.",
          "pos": [
            153,
            346
          ]
        },
        {
          "content": "The social aspects of the modern approach to churn are not particularly highlighted in the approach, but the social aspects are encapsulated in the modeling archetype, as they would be in any model.",
          "pos": [
            347,
            545
          ]
        }
      ]
    },
    {
      "pos": [
        5976,
        6363
      ],
      "content": "An interesting addition here is big data analytics. Today's telecommunication and retail businesses collect exhaustive data about their customers, and we can easily foresee that the need for multi-model connectivity will become a common trend, given emerging trends such as the Internet of Things and ubiquitous devices, which allow business to employ smart solutions at multiple layers.",
      "nodes": [
        {
          "content": "An interesting addition here is big data analytics.",
          "pos": [
            0,
            51
          ]
        },
        {
          "content": "Today's telecommunication and retail businesses collect exhaustive data about their customers, and we can easily foresee that the need for multi-model connectivity will become a common trend, given emerging trends such as the Internet of Things and ubiquitous devices, which allow business to employ smart solutions at multiple layers.",
          "pos": [
            52,
            387
          ]
        }
      ]
    },
    {
      "pos": [
        6369,
        6648
      ],
      "content": "##Implementing the modeling archetype in Machine Learning Studio\nGiven the problem just described, what is the best way to implement an integrated modeling and scoring approach? In this section, we will demonstrate how we accomplished this by using Azure Machine Learning Studio.",
      "nodes": [
        {
          "content": "Implementing the modeling archetype in Machine Learning Studio\nGiven the problem just described, what is the best way to implement an integrated modeling and scoring approach?",
          "pos": [
            2,
            177
          ]
        },
        {
          "content": "In this section, we will demonstrate how we accomplished this by using Azure Machine Learning Studio.",
          "pos": [
            178,
            279
          ]
        }
      ]
    },
    {
      "pos": [
        6652,
        6805
      ],
      "content": "The multi-model approach is a must when designing a global archetype for churn. Even the scoring (predictive) part of the approach should be multi-model.",
      "nodes": [
        {
          "content": "The multi-model approach is a must when designing a global archetype for churn.",
          "pos": [
            0,
            79
          ]
        },
        {
          "content": "Even the scoring (predictive) part of the approach should be multi-model.",
          "pos": [
            80,
            153
          ]
        }
      ]
    },
    {
      "pos": [
        6809,
        7144
      ],
      "content": "The following diagram shows the prototype we created, which employs four scoring algorithms in Machine Learning Studio to predict churn. The reason for using a multi-model approach is not only to create an ensemble classifier to increase accuracy, but also to protect against over-fitting and to improve prescriptive feature selection.",
      "nodes": [
        {
          "content": "The following diagram shows the prototype we created, which employs four scoring algorithms in Machine Learning Studio to predict churn.",
          "pos": [
            0,
            136
          ]
        },
        {
          "content": "The reason for using a multi-model approach is not only to create an ensemble classifier to increase accuracy, but also to protect against over-fitting and to improve prescriptive feature selection.",
          "pos": [
            137,
            335
          ]
        }
      ]
    },
    {
      "pos": [
        7156,
        7206
      ],
      "content": "<bpt id=\"p6\">*</bpt>Figure 5: Prototype of a churn modeling approach<ept id=\"p6\">*</ept>"
    },
    {
      "pos": [
        7210,
        7341
      ],
      "content": "The following sections provide more details about the prototype scoring model that we implemented by using Machine Learning Studio."
    },
    {
      "pos": [
        7348,
        7378
      ],
      "content": "Data selection and preparation"
    },
    {
      "pos": [
        7379,
        7884
      ],
      "content": "The data used to build the models and score customers was obtained from a CRM vertical solution, with the data obfuscated to protect customer privacy. The data contains information about 8,000 subscriptions in the U.S., and it combines three sources: provisioning data (subscription metadata), activity data (usage of the system), and customer support data. The data does not include any business related information about the customers; for example, it does not include loyalty metadata or credit scores.",
      "nodes": [
        {
          "content": "The data used to build the models and score customers was obtained from a CRM vertical solution, with the data obfuscated to protect customer privacy.",
          "pos": [
            0,
            150
          ]
        },
        {
          "content": "The data contains information about 8,000 subscriptions in the U.S., and it combines three sources: provisioning data (subscription metadata), activity data (usage of the system), and customer support data.",
          "pos": [
            151,
            357
          ]
        },
        {
          "content": "The data does not include any business related information about the customers; for example, it does not include loyalty metadata or credit scores.",
          "pos": [
            358,
            505
          ]
        }
      ]
    },
    {
      "pos": [
        7888,
        8026
      ],
      "content": "For simplicity, ETL and data cleansing processes are out of scope because we assume that data preparation has already been done elsewhere."
    },
    {
      "pos": [
        8031,
        8428
      ],
      "content": "Feature selection for modeling is based on preliminary significance scoring of the set of predictors, included in the process that uses the random forest module. For the implementation in Machine Learning Studio, we calculated the mean, median, and ranges for representative features. For example, we added aggregates for the qualitative data, such as minimum and maximum values for user activity.",
      "nodes": [
        {
          "content": "Feature selection for modeling is based on preliminary significance scoring of the set of predictors, included in the process that uses the random forest module.",
          "pos": [
            0,
            161
          ]
        },
        {
          "content": "For the implementation in Machine Learning Studio, we calculated the mean, median, and ranges for representative features.",
          "pos": [
            162,
            284
          ]
        },
        {
          "content": "For example, we added aggregates for the qualitative data, such as minimum and maximum values for user activity.",
          "pos": [
            285,
            397
          ]
        }
      ]
    },
    {
      "pos": [
        8434,
        8670
      ],
      "content": "We also captured temporal information for the most recent six months. We analyzed data for one year and we established that even if there were statistically significant trends, the effect on churn is greatly diminished after six months.",
      "nodes": [
        {
          "content": "We also captured temporal information for the most recent six months.",
          "pos": [
            0,
            69
          ]
        },
        {
          "content": "We analyzed data for one year and we established that even if there were statistically significant trends, the effect on churn is greatly diminished after six months.",
          "pos": [
            70,
            236
          ]
        }
      ]
    },
    {
      "pos": [
        8674,
        8856
      ],
      "content": "The most important point is that the entire process, including ETL, feature selection, and modeling was implemented in Machine Learning Studio, using data sources in Microsoft Azure."
    },
    {
      "pos": [
        8861,
        8918
      ],
      "content": "The following diagrams illustrate the data that was used."
    },
    {
      "pos": [
        8930,
        8977
      ],
      "content": "<bpt id=\"p7\">*</bpt>Figure 6: Excerpt of data source (obfuscated)<ept id=\"p7\">*</ept>"
    },
    {
      "pos": [
        8990,
        9037
      ],
      "content": "<bpt id=\"p8\">*</bpt>Figure 7: Features extracted from data source<ept id=\"p8\">*</ept>"
    },
    {
      "pos": [
        9042,
        9375
      ],
      "leadings": [
        "",
        "> ",
        "> "
      ],
      "content": "Note that this data is private and therefore the model and data cannot be shared.\nHowever, for a similar model using publicly available data, see this sample experiment in the <bpt id=\"p9\">[</bpt>Cortana Analytics Gallery<ept id=\"p9\">](http://gallery.azureml.net/)</ept>:\n<bpt id=\"p10\">[</bpt>Telco Customer Churn<ept id=\"p10\">](http://gallery.azureml.net/Experiment/31c19425ee874f628c847f7e2d93e383)</ept>.",
      "nodes": [
        {
          "content": "Note that this data is private and therefore the model and data cannot be shared.",
          "pos": [
            0,
            81
          ]
        },
        {
          "content": "However, for a similar model using publicly available data, see this sample experiment in the <bpt id=\"p9\">[</bpt>Cortana Analytics Gallery<ept id=\"p9\">](http://gallery.azureml.net/)</ept>:\n<bpt id=\"p10\">[</bpt>Telco Customer Churn<ept id=\"p10\">](http://gallery.azureml.net/Experiment/31c19425ee874f628c847f7e2d93e383)</ept>.",
          "pos": [
            82,
            407
          ]
        }
      ]
    },
    {
      "pos": [
        9381,
        9629
      ],
      "content": "To learn more about how you can implement a churn analysis model using Cortana Analytics Suite, we also recommend <bpt id=\"p11\">[</bpt>this video<ept id=\"p11\">](https://info.microsoft.com/Webinar-Harness-Predictive-Customer-Churn-Model.html)</ept><ph id=\"ph8\"/> by Senior Program Manager Wee Hyong Tok."
    },
    {
      "pos": [
        9638,
        9670
      ],
      "content": "Algorithms used in the prototype"
    },
    {
      "pos": [
        9672,
        9769
      ],
      "content": "We used the following four machine learning algorithms to build the prototype (no customization):"
    },
    {
      "pos": [
        9777,
        9801
      ],
      "content": "Logistic regression (LR)"
    },
    {
      "pos": [
        9806,
        9832
      ],
      "content": "Boosted decision tree (BT)"
    },
    {
      "pos": [
        9837,
        9861
      ],
      "content": "Averaged perceptron (AP)"
    },
    {
      "pos": [
        9866,
        9894
      ],
      "content": "Support vector machine (SVM)"
    },
    {
      "pos": [
        9899,
        10039
      ],
      "content": "The following diagram illustrates a portion of the experiment design surface, which indicates the sequence in which the models were created:"
    },
    {
      "pos": [
        10054,
        10108
      ],
      "content": "<bpt id=\"p12\">*</bpt>Figure 8: Creating models in Machine Learning Studio<ept id=\"p12\">*</ept>"
    },
    {
      "pos": [
        10115,
        10130
      ],
      "content": "Scoring methods"
    },
    {
      "pos": [
        10131,
        10193
      ],
      "content": "We scored the four models by using a labeled training dataset."
    },
    {
      "pos": [
        10197,
        10406
      ],
      "content": "We also submitted the scoring dataset to a comparable model built by using the desktop edition of SAS Enterprise Miner 12. We measured the accuracy of the SAS model and all four Machine Learning Studio models.",
      "nodes": [
        {
          "content": "We also submitted the scoring dataset to a comparable model built by using the desktop edition of SAS Enterprise Miner 12.",
          "pos": [
            0,
            122
          ]
        },
        {
          "content": "We measured the accuracy of the SAS model and all four Machine Learning Studio models.",
          "pos": [
            123,
            209
          ]
        }
      ]
    },
    {
      "pos": [
        10412,
        10419
      ],
      "content": "Results"
    },
    {
      "pos": [
        10420,
        10524
      ],
      "content": "In this section, we present our findings about the accuracy of the models, based on the scoring dataset."
    },
    {
      "pos": [
        10531,
        10564
      ],
      "content": "Accuracy and precision of scoring"
    },
    {
      "pos": [
        10565,
        10689
      ],
      "content": "Generally, the implementation in Azure Machine Learning is behind SAS in accuracy by about 10-15% (Area Under Curve or AUC)."
    },
    {
      "pos": [
        10693,
        10987
      ],
      "content": "However, the most important metric in churn is the misclassification rate: that is, of the top N churners as predicted by the classifier, which of them actually did <bpt id=\"p13\">**</bpt>not<ept id=\"p13\">**</ept><ph id=\"ph10\"/> churn, and yet received special treatment? The following diagram compares this misclassification rate for all the models:",
      "nodes": [
        {
          "content": "However, the most important metric in churn is the misclassification rate: that is, of the top N churners as predicted by the classifier, which of them actually did <bpt id=\"p13\">**</bpt>not<ept id=\"p13\">**</ept><ph id=\"ph10\"/> churn, and yet received special treatment?",
          "pos": [
            0,
            270
          ]
        },
        {
          "content": "The following diagram compares this misclassification rate for all the models:",
          "pos": [
            271,
            349
          ]
        }
      ]
    },
    {
      "pos": [
        11000,
        11045
      ],
      "content": "<bpt id=\"p14\">*</bpt>Figure 9: Passau prototype area under curve<ept id=\"p14\">*</ept>"
    },
    {
      "pos": [
        11047,
        11663
      ],
      "content": "###Using AUC to compare results\nArea Under Curve (AUC) is a metric that represents a global measure of <bpt id=\"p15\">*</bpt>separability<ept id=\"p15\">*</ept><ph id=\"ph12\"/> between the distributions of scores for positive and negative populations. It is similar to the traditional Receiver Operator Characteristic (ROC) graph, but one important difference is that the AUC metric does not require you to choose a threshold value. Instead, it summarizes the results over <bpt id=\"p16\">**</bpt>all<ept id=\"p16\">**</ept><ph id=\"ph13\"/> possible choices. In contrast, the traditional ROC graph shows the positive rate on the vertical axis and the false positive rate on the horizontal axis, and the classification threshold varies.",
      "nodes": [
        {
          "content": "Using AUC to compare results\nArea Under Curve (AUC) is a metric that represents a global measure of <bpt id=\"p15\">*</bpt>separability<ept id=\"p15\">*</ept><ph id=\"ph12\"/> between the distributions of scores for positive and negative populations.",
          "pos": [
            3,
            247
          ]
        },
        {
          "content": "It is similar to the traditional Receiver Operator Characteristic (ROC) graph, but one important difference is that the AUC metric does not require you to choose a threshold value.",
          "pos": [
            248,
            428
          ]
        },
        {
          "content": "Instead, it summarizes the results over <bpt id=\"p16\">**</bpt>all<ept id=\"p16\">**</ept><ph id=\"ph13\"/> possible choices.",
          "pos": [
            429,
            549
          ]
        },
        {
          "content": "In contrast, the traditional ROC graph shows the positive rate on the vertical axis and the false positive rate on the horizontal axis, and the classification threshold varies.",
          "pos": [
            550,
            726
          ]
        }
      ]
    },
    {
      "pos": [
        11668,
        11981
      ],
      "content": "AUC is generally used as a measure of worth for different algorithms (or different systems) because it allows models to be compared by means of their AUC values. This is a popular approach in industries such as meteorology and biosciences. Thus, AUC represents a popular tool for assessing classifier performance.",
      "nodes": [
        {
          "content": "AUC is generally used as a measure of worth for different algorithms (or different systems) because it allows models to be compared by means of their AUC values.",
          "pos": [
            0,
            161
          ]
        },
        {
          "content": "This is a popular approach in industries such as meteorology and biosciences.",
          "pos": [
            162,
            239
          ]
        },
        {
          "content": "Thus, AUC represents a popular tool for assessing classifier performance.",
          "pos": [
            240,
            313
          ]
        }
      ]
    },
    {
      "pos": [
        11988,
        12021
      ],
      "content": "Comparing misclassification rates"
    },
    {
      "pos": [
        12022,
        12148
      ],
      "content": "We compared the misclassification rates on the dataset in question by using the CRM data of approximately 8,000 subscriptions."
    },
    {
      "pos": [
        12156,
        12198
      ],
      "content": "The SAS misclassification rate was 10-15%."
    },
    {
      "pos": [
        12203,
        12294
      ],
      "content": "The Machine Learning Studio misclassification rate was 15-20% for the top 200-300 churners."
    },
    {
      "pos": [
        12298,
        12585
      ],
      "content": "In the telecommunications industry, it is important to address only those customers who have the highest risk to churn by offering them a concierge service or other special treatment. In that respect, the Machine Learning Studio implementation achieves results on par with the SAS model.",
      "nodes": [
        {
          "content": "In the telecommunications industry, it is important to address only those customers who have the highest risk to churn by offering them a concierge service or other special treatment.",
          "pos": [
            0,
            183
          ]
        },
        {
          "content": "In that respect, the Machine Learning Studio implementation achieves results on par with the SAS model.",
          "pos": [
            184,
            287
          ]
        }
      ]
    },
    {
      "pos": [
        12589,
        12727
      ],
      "content": "By the same token, accuracy is more important than precision because we are mostly interested in correctly classifying potential churners."
    },
    {
      "pos": [
        12731,
        12833
      ],
      "content": "The following diagram from Wikipedia depicts the relationship in a lively, easy-to-understand graphic:"
    },
    {
      "pos": [
        12845,
        12897
      ],
      "content": "<bpt id=\"p17\">*</bpt>Figure 10: Tradeoff between accuracy and precision<ept id=\"p17\">*</ept>"
    },
    {
      "pos": [
        12902,
        12964
      ],
      "content": "Accuracy and precision results for boosted decision tree model"
    },
    {
      "pos": [
        12968,
        13160
      ],
      "content": "The following chart displays the raw results from scoring using the Machine Learning prototype for the boosted decision tree model, which happens to be the most accurate among the four models:"
    },
    {
      "pos": [
        13172,
        13228
      ],
      "content": "<bpt id=\"p18\">*</bpt>Figure 11: Boosted decision tree model characteristics<ept id=\"p18\">*</ept>"
    },
    {
      "pos": [
        13232,
        13254
      ],
      "content": "Performance comparison"
    },
    {
      "pos": [
        13255,
        13432
      ],
      "content": "We compared the speed at which data was scored using the Machine Learning Studio models and a comparable model created by using the desktop edition of SAS Enterprise Miner 12.1."
    },
    {
      "pos": [
        13436,
        13501
      ],
      "content": "The following table summarizes the performance of the algorithms:"
    },
    {
      "pos": [
        13505,
        13564
      ],
      "content": "<bpt id=\"p19\">*</bpt>Table 1. General performance (accuracy) of the algorithms<ept id=\"p19\">*</ept>"
    },
    {
      "pos": [
        13566,
        13572
      ],
      "content": "<bpt id=\"p20\">**</bpt>LR<ept id=\"p20\">**</ept>"
    },
    {
      "pos": [
        13574,
        13580
      ],
      "content": "<bpt id=\"p21\">**</bpt>BT<ept id=\"p21\">**</ept>"
    },
    {
      "pos": [
        13582,
        13588
      ],
      "content": "<bpt id=\"p22\">**</bpt>AP<ept id=\"p22\">**</ept>"
    },
    {
      "pos": [
        13590,
        13597
      ],
      "content": "<bpt id=\"p23\">**</bpt>SVM<ept id=\"p23\">**</ept>"
    },
    {
      "pos": [
        13612,
        13625
      ],
      "content": "Average Model"
    },
    {
      "pos": [
        13628,
        13642
      ],
      "content": "The Best Model"
    },
    {
      "pos": [
        13644,
        13659
      ],
      "content": "Underperforming"
    },
    {
      "pos": [
        13664,
        13677
      ],
      "content": "Average Model"
    },
    {
      "pos": [
        13679,
        13807
      ],
      "content": "The models hosted in Machine Learning Studio outperformed SAS by 15-25% for speed of execution, but accuracy was largely on par."
    },
    {
      "pos": [
        13813,
        13843
      ],
      "content": "Discussion and recommendations"
    },
    {
      "pos": [
        13844,
        13939
      ],
      "content": "In the telecommunications industry, several practices have emerged to analyze churn, including:"
    },
    {
      "pos": [
        13947,
        13994
      ],
      "content": "Derive metrics for four fundamental categories:"
    },
    {
      "pos": [
        14003,
        14141
      ],
      "content": "<bpt id=\"p24\">**</bpt>Entity (for example, a subscription)<ept id=\"p24\">**</ept>. Provision basic information about the subscription and/or customer that is the subject of churn.",
      "nodes": [
        {
          "content": "<bpt id=\"p24\">**</bpt>Entity (for example, a subscription)<ept id=\"p24\">**</ept>.",
          "pos": [
            0,
            81
          ]
        },
        {
          "content": "Provision basic information about the subscription and/or customer that is the subject of churn.",
          "pos": [
            82,
            178
          ]
        }
      ]
    },
    {
      "pos": [
        14150,
        14267
      ],
      "content": "<bpt id=\"p25\">**</bpt>Activity<ept id=\"p25\">**</ept>. Obtain all possible usage information that is related to the entity, for example, the number of logins.",
      "nodes": [
        {
          "content": "<bpt id=\"p25\">**</bpt>Activity<ept id=\"p25\">**</ept>.",
          "pos": [
            0,
            53
          ]
        },
        {
          "content": "Obtain all possible usage information that is related to the entity, for example, the number of logins.",
          "pos": [
            54,
            157
          ]
        }
      ]
    },
    {
      "pos": [
        14276,
        14431
      ],
      "content": "<bpt id=\"p26\">**</bpt>Customer support<ept id=\"p26\">**</ept>. Harvest information from customer support logs to indicate whether the subscription had issues or interactions with customer support.",
      "nodes": [
        {
          "content": "<bpt id=\"p26\">**</bpt>Customer support<ept id=\"p26\">**</ept>.",
          "pos": [
            0,
            61
          ]
        },
        {
          "content": "Harvest information from customer support logs to indicate whether the subscription had issues or interactions with customer support.",
          "pos": [
            62,
            195
          ]
        }
      ]
    },
    {
      "pos": [
        14440,
        14577
      ],
      "content": "<bpt id=\"p27\">**</bpt>Competitive and business data<ept id=\"p27\">**</ept>. Obtain any information possible about the customer (for example, can be unavailable or hard to track).",
      "nodes": [
        {
          "content": "<bpt id=\"p27\">**</bpt>Competitive and business data<ept id=\"p27\">**</ept>.",
          "pos": [
            0,
            74
          ]
        },
        {
          "content": "Obtain any information possible about the customer (for example, can be unavailable or hard to track).",
          "pos": [
            75,
            177
          ]
        }
      ]
    },
    {
      "pos": [
        14582,
        14706
      ],
      "content": "Use importance to drive feature selection. This implies that the boosted decision tree model is always a promising approach.",
      "nodes": [
        {
          "content": "Use importance to drive feature selection.",
          "pos": [
            0,
            42
          ]
        },
        {
          "content": "This implies that the boosted decision tree model is always a promising approach.",
          "pos": [
            43,
            124
          ]
        }
      ]
    },
    {
      "pos": [
        14710,
        15302
      ],
      "content": "The use of these four categories creates the illusion that a simple <bpt id=\"p28\">*</bpt>deterministic<ept id=\"p28\">*</ept><ph id=\"ph16\"/> approach, based on indexes formed on reasonable factors per category, should suffice to identify customers at risk for churn. Unfortunately, although this notion seems plausible, it is a false understanding. The reason is that churn is a temporal effect and the factors contributing to churn are usually in transient states. What leads a customer to consider leaving today might be different tomorrow, and it certainly will be different six months from now. Therefore, a <bpt id=\"p29\">*</bpt>probabilistic<ept id=\"p29\">*</ept><ph id=\"ph17\"/> model is a necessity.",
      "nodes": [
        {
          "content": "The use of these four categories creates the illusion that a simple <bpt id=\"p28\">*</bpt>deterministic<ept id=\"p28\">*</ept><ph id=\"ph16\"/> approach, based on indexes formed on reasonable factors per category, should suffice to identify customers at risk for churn.",
          "pos": [
            0,
            264
          ]
        },
        {
          "content": "Unfortunately, although this notion seems plausible, it is a false understanding.",
          "pos": [
            265,
            346
          ]
        },
        {
          "content": "The reason is that churn is a temporal effect and the factors contributing to churn are usually in transient states.",
          "pos": [
            347,
            463
          ]
        },
        {
          "content": "What leads a customer to consider leaving today might be different tomorrow, and it certainly will be different six months from now.",
          "pos": [
            464,
            596
          ]
        },
        {
          "content": "Therefore, a <bpt id=\"p29\">*</bpt>probabilistic<ept id=\"p29\">*</ept><ph id=\"ph17\"/> model is a necessity.",
          "pos": [
            597,
            702
          ]
        }
      ]
    },
    {
      "pos": [
        15306,
        15520
      ],
      "content": "This important observation is often overlooked in business, which generally prefers a business intelligence-oriented approach to analytics, mostly because it is an easier sell and admits straightforward automation."
    },
    {
      "pos": [
        15524,
        15740
      ],
      "content": "However, the promise of self-service analytics by using Machine Learning Studio is that the four categories of information, graded by division or department, become a valuable source for machine learning about churn."
    },
    {
      "pos": [
        15744,
        16107
      ],
      "content": "Another exciting capability coming in Azure Machine Learning is the ability to add a custom module to the repository of predefined modules that are already available. This capability, essentially, creates an opportunity to select libraries and create templates for vertical markets. It is an important differentiator of Azure Machine Learning in the market place.",
      "nodes": [
        {
          "content": "Another exciting capability coming in Azure Machine Learning is the ability to add a custom module to the repository of predefined modules that are already available.",
          "pos": [
            0,
            166
          ]
        },
        {
          "content": "This capability, essentially, creates an opportunity to select libraries and create templates for vertical markets.",
          "pos": [
            167,
            282
          ]
        },
        {
          "content": "It is an important differentiator of Azure Machine Learning in the market place.",
          "pos": [
            283,
            363
          ]
        }
      ]
    },
    {
      "pos": [
        16111,
        16199
      ],
      "content": "We hope to continue this topic in the future, especially related to big data analytics.\n",
      "nodes": [
        {
          "content": "We hope to continue this topic in the future, especially related to big data analytics.",
          "pos": [
            0,
            87
          ]
        },
        {
          "content": "\n",
          "pos": [
            87,
            88
          ]
        }
      ]
    },
    {
      "pos": [
        16198,
        16199
      ],
      "content": "\n"
    },
    {
      "pos": [
        16204,
        16214
      ],
      "content": "Conclusion"
    },
    {
      "pos": [
        16215,
        16552
      ],
      "content": "This paper describes a sensible approach to tackling the common problem of customer churn by using a generic framework. We considered a prototype for scoring models and implemented it by using Azure Machine Learning. Finally, we assessed the accuracy and performance of the prototype solution with regard to comparable algorithms in SAS.",
      "nodes": [
        {
          "content": "This paper describes a sensible approach to tackling the common problem of customer churn by using a generic framework.",
          "pos": [
            0,
            119
          ]
        },
        {
          "content": "We considered a prototype for scoring models and implemented it by using Azure Machine Learning.",
          "pos": [
            120,
            216
          ]
        },
        {
          "content": "Finally, we assessed the accuracy and performance of the prototype solution with regard to comparable algorithms in SAS.",
          "pos": [
            217,
            337
          ]
        }
      ]
    },
    {
      "pos": [
        16556,
        16581
      ],
      "content": "<bpt id=\"p30\">**</bpt>For more information:<ept id=\"p30\">**</ept>"
    },
    {
      "pos": [
        16585,
        16770
      ],
      "content": "Did this paper help you? Please give us your feedback. Tell us on a scale of 1 (poor) to 5 (excellent), how would you rate this paper and why have you given it this rating? For example:",
      "nodes": [
        {
          "content": "Did this paper help you?",
          "pos": [
            0,
            24
          ]
        },
        {
          "content": "Please give us your feedback.",
          "pos": [
            25,
            54
          ]
        },
        {
          "content": "Tell us on a scale of 1 (poor) to 5 (excellent), how would you rate this paper and why have you given it this rating?",
          "pos": [
            55,
            172
          ]
        },
        {
          "content": "For example:",
          "pos": [
            173,
            185
          ]
        }
      ]
    },
    {
      "pos": [
        16778,
        16887
      ],
      "content": "Are you rating it high due to having good examples, excellent screen shots, clear writing, or another reason?"
    },
    {
      "pos": [
        16892,
        16975
      ],
      "content": "Are you rating it low due to poor examples, fuzzy screen shots, or unclear writing?"
    },
    {
      "pos": [
        16979,
        17053
      ],
      "content": "This feedback will help us improve the quality of white papers we release."
    },
    {
      "pos": [
        17058,
        17234
      ],
      "content": "<bpt id=\"p31\">[</bpt>Send feedback<ept id=\"p31\">](mailto:sqlfback@microsoft.com)</ept>.\n\n<ph id=\"ph18\"> </ph>\n##References\n<bpt id=\"p32\">[</bpt><ept id=\"p32\">1]</ept> Predictive Analytics: Beyond the Predictions, W. McKnight, Information Management, July/August 2011, p.18-20.",
      "nodes": [
        {
          "content": "<bpt id=\"p31\">[</bpt>Send feedback<ept id=\"p31\">](mailto:sqlfback@microsoft.com)</ept>.",
          "pos": [
            0,
            87
          ]
        },
        {
          "content": "<ph id=\"ph18\"> </ph>\n##References\n<bpt id=\"p32\">[</bpt><ept id=\"p32\">1]</ept> Predictive Analytics: Beyond the Predictions, W. McKnight, Information Management, July/August 2011, p.18-20.",
          "pos": [
            89,
            276
          ]
        }
      ]
    },
    {
      "pos": [
        17238,
        17338
      ],
      "content": "<bpt id=\"p33\">[</bpt><ept id=\"p33\">2]</ept> Wikipedia article: <bpt id=\"p34\">[</bpt>Accuracy and precision<ept id=\"p34\">](http://en.wikipedia.org/wiki/Accuracy_and_precision)</ept>"
    },
    {
      "pos": [
        17340,
        17439
      ],
      "content": "[3] <bpt id=\"p35\">[</bpt>CRISP-DM 1.0: Step-by-Step Data Mining Guide<ept id=\"p35\">](http://www.the-modeling-agency.com/crisp-dm.pdf)</ept>"
    },
    {
      "pos": [
        17444,
        17669
      ],
      "content": "[4] <bpt id=\"p36\">[</bpt>Big Data Marketing: Engage Your Customers More Effectively and Drive Value<ept id=\"p36\">](http://www.amazon.com/Big-Data-Marketing-Customers-Effectively/dp/1118733894/ref=sr_1_12?ie=UTF8&amp;qid=1387541531&amp;sr=8-12&amp;keywords=customer+churn)</ept>"
    },
    {
      "pos": [
        17671,
        17798
      ],
      "content": "[5] <bpt id=\"p37\">[</bpt>Telco churn model template<ept id=\"p37\">](https://caqs.azure.net/#gallery/telcocustomerchurn)</ept><ph id=\"ph19\"/> in Cortana Analytics Gallery \n<ph id=\"ph20\"> </ph>\n##Appendix"
    },
    {
      "pos": [
        17809,
        17867
      ],
      "content": "<bpt id=\"p38\">*</bpt>Figure 12: Snapshot of a presentation on churn prototype<ept id=\"p38\">*</ept>"
    }
  ],
  "content": "<properties\n    pageTitle=\"Analyzing Customer Churn using Machine Learning | Microsoft Azure\"\n    description=\"Case study of developing an integrated model for analyzing and scoring customer churn\"\n    services=\"machine-learning\"\n    documentationCenter=\"\"\n    authors=\"jeannt\"\n    manager=\"paulettm\"\n    editor=\"cgronlun\"/>\n\n<tags\n    ms.service=\"machine-learning\"\n    ms.workload=\"data-services\"\n    ms.tgt_pltfrm=\"na\"\n    ms.devlang=\"na\"\n    ms.topic=\"article\"\n    ms.date=\"02/09/2016\" \n    ms.author=\"jeannt\"/>\n\n# Analyzing Customer Churn by using Azure Machine Learning\n\n##Overview\nThis topic presents a reference implementation of a customer churn analysis project that is built by using Azure Machine Learning Studio. It discusses associated generic models for holistically solving the problem of industrial customer churn. We also measure the accuracy of models that are built by using Machine Learning, and we assess directions for further development.  \n\n### Acknowledgements\nThis experiment was developed and tested by Serge Berger, Princial Data Scientist at Microsoft, and Roger Barga, formerly Product Manager for Microsoft Azure Machine Learning. The Azure documentation team is grateful to them for sharing their learnings in this white paper.\n\n[AZURE.INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]\n\n##The problem of customer churn\nBusinesses in the consumer market and in all enterprise sectors have to deal with churn. Sometimes churn is excessive and influences policy decisions. The traditional solution is to predict high-propensity churners and address their needs via a concierge service, marketing campaigns, or by applying special dispensations. These approaches can vary from industry to industry and even from a particular consumer cluster to another within one industry (for example, telecommunications).\n\nThe common factor is that businesses need to minimize these special customer retention efforts. Thus, a natural methodology would be to score every customer with the probability of churn and address the top N ones. The top customers might be the most profitable ones; for example, in more sophisticated scenarios, a profit function is employed during the selection of candidates for special dispensation. However, these considerations are only a part of the holistic strategy for dealing with churn. Businesses also have to take into account risk (and associated risk tolerance), the level and cost of the intervention, and plausible customer segmentation.  \n\n##Industry outlook and approaches\nSophisticated handling of churn is a sign of a mature industry. The classic example is the telecommunications industry where subscribers are known to frequently switch from one provider to another. This voluntary churn is a prime concern. Moreover, providers have accumulated significant knowledge about *churn drivers*, which are the factors that drive customers to switch.\n\nFor instance, handset or device choice is a well-known driver of churn in the mobile phone business. As a result, a popular policy is to subsidize the price of a handset for new subscribers and charging a full price to existing customers for an upgrade. Historically, this policy has led to customers hopping from one provider to another to get a new discount, which in turn, has prompted providers to refine their strategies.\n\nHigh volatility in handset offerings is a factor that very quickly invalidates models of churn that are based on current handset models. Additionally, mobile phones are not only telecommunication devices; they are also fashion statements (consider the iPhone), and these social predictors are outside the scope of regular telecommunications data sets.\n\nThe net result for modeling is that you cannot devise a sound policy simply by eliminating known reasons for churn. In fact, a continuous modeling strategy, including classic models that quantify categorical variables (such as decision trees), is **mandatory**.\n\nUsing big data sets on their customers, organizations are performing big data analytics (in particular, churn detection based on big data) as an effective approach to the problem. You can find more about the big data approach to the problem of churn in the Recommendations on ETL section.  \n\n##Methodology to model customer churn\nA common problem-solving process to solve customer churn is depicted in Figures 1-3:  \n\n1.  A risk model allows you to consider how actions affect probability and risk.\n2.  An intervention model allows you to consider how the level of intervention could affect the probability of churn and the amount of customer lifetime value (CLV).\n3.  This analysis lends itself to a qualitative analysis that is escalated to a proactive marketing campaign that targets customer segments to deliver the optimal offer.  \n\n![][1]\n\nThis forward looking approach is the best way to treat churn, but it comes with complexity: we have to develop a multi-model archetype and trace dependencies between the models. The interaction among models can be encapsulated as shown in the following diagram:  \n\n![][2]\n\n*Figure 4: Unified multi-model archetype*  \n\nInteraction between the models is key if we are to deliver a holistic approach to customer retention. Each model necessarily degrades over time; therefore, the architecture is an implicit loop (similar to the archetype set by the CRISP-DM data mining standard, [***3***]).  \n\nThe overall cycle of risk-decision-marketing segmentation/decomposition is still a generalized structure, which is applicable to many business problems. Churn analysis is simply a strong representative of this group of problems because it exhibits all the traits of a complex business problem that does not allow a simplified predictive solution. The social aspects of the modern approach to churn are not particularly highlighted in the approach, but the social aspects are encapsulated in the modeling archetype, as they would be in any model.  \n\nAn interesting addition here is big data analytics. Today's telecommunication and retail businesses collect exhaustive data about their customers, and we can easily foresee that the need for multi-model connectivity will become a common trend, given emerging trends such as the Internet of Things and ubiquitous devices, which allow business to employ smart solutions at multiple layers.  \n\n \n##Implementing the modeling archetype in Machine Learning Studio\nGiven the problem just described, what is the best way to implement an integrated modeling and scoring approach? In this section, we will demonstrate how we accomplished this by using Azure Machine Learning Studio.  \n\nThe multi-model approach is a must when designing a global archetype for churn. Even the scoring (predictive) part of the approach should be multi-model.  \n\nThe following diagram shows the prototype we created, which employs four scoring algorithms in Machine Learning Studio to predict churn. The reason for using a multi-model approach is not only to create an ensemble classifier to increase accuracy, but also to protect against over-fitting and to improve prescriptive feature selection.  \n\n![][3]\n\n*Figure 5: Prototype of a churn modeling approach*  \n\nThe following sections provide more details about the prototype scoring model that we implemented by using Machine Learning Studio.  \n\n###Data selection and preparation\nThe data used to build the models and score customers was obtained from a CRM vertical solution, with the data obfuscated to protect customer privacy. The data contains information about 8,000 subscriptions in the U.S., and it combines three sources: provisioning data (subscription metadata), activity data (usage of the system), and customer support data. The data does not include any business related information about the customers; for example, it does not include loyalty metadata or credit scores.  \n\nFor simplicity, ETL and data cleansing processes are out of scope because we assume that data preparation has already been done elsewhere.   \n\nFeature selection for modeling is based on preliminary significance scoring of the set of predictors, included in the process that uses the random forest module. For the implementation in Machine Learning Studio, we calculated the mean, median, and ranges for representative features. For example, we added aggregates for the qualitative data, such as minimum and maximum values for user activity.    \n\nWe also captured temporal information for the most recent six months. We analyzed data for one year and we established that even if there were statistically significant trends, the effect on churn is greatly diminished after six months.  \n\nThe most important point is that the entire process, including ETL, feature selection, and modeling was implemented in Machine Learning Studio, using data sources in Microsoft Azure.   \n\nThe following diagrams illustrate the data that was used.  \n\n![][4]\n\n*Figure 6: Excerpt of data source (obfuscated)*  \n\n![][5]\n\n\n*Figure 7: Features extracted from data source*\n \n> Note that this data is private and therefore the model and data cannot be shared.\n> However, for a similar model using publicly available data, see this sample experiment in the [Cortana Analytics Gallery](http://gallery.azureml.net/):\n> [Telco Customer Churn](http://gallery.azureml.net/Experiment/31c19425ee874f628c847f7e2d93e383).\n> \n> To learn more about how you can implement a churn analysis model using Cortana Analytics Suite, we also recommend [this video](https://info.microsoft.com/Webinar-Harness-Predictive-Customer-Churn-Model.html) by Senior Program Manager Wee Hyong Tok. \n> \n\n###Algorithms used in the prototype\n\nWe used the following four machine learning algorithms to build the prototype (no customization):  \n\n1.  Logistic regression (LR)\n2.  Boosted decision tree (BT)\n3.  Averaged perceptron (AP)\n4.  Support vector machine (SVM)  \n\n\nThe following diagram illustrates a portion of the experiment design surface, which indicates the sequence in which the models were created:  \n\n![][6]  \n\n\n*Figure 8: Creating models in Machine Learning Studio*  \n\n###Scoring methods\nWe scored the four models by using a labeled training dataset.  \n\nWe also submitted the scoring dataset to a comparable model built by using the desktop edition of SAS Enterprise Miner 12. We measured the accuracy of the SAS model and all four Machine Learning Studio models.  \n\n##Results\nIn this section, we present our findings about the accuracy of the models, based on the scoring dataset.  \n\n###Accuracy and precision of scoring\nGenerally, the implementation in Azure Machine Learning is behind SAS in accuracy by about 10-15% (Area Under Curve or AUC).  \n\nHowever, the most important metric in churn is the misclassification rate: that is, of the top N churners as predicted by the classifier, which of them actually did **not** churn, and yet received special treatment? The following diagram compares this misclassification rate for all the models:  \n\n![][7]\n\n\n*Figure 9: Passau prototype area under curve*\n\n###Using AUC to compare results\nArea Under Curve (AUC) is a metric that represents a global measure of *separability* between the distributions of scores for positive and negative populations. It is similar to the traditional Receiver Operator Characteristic (ROC) graph, but one important difference is that the AUC metric does not require you to choose a threshold value. Instead, it summarizes the results over **all** possible choices. In contrast, the traditional ROC graph shows the positive rate on the vertical axis and the false positive rate on the horizontal axis, and the classification threshold varies.   \n\nAUC is generally used as a measure of worth for different algorithms (or different systems) because it allows models to be compared by means of their AUC values. This is a popular approach in industries such as meteorology and biosciences. Thus, AUC represents a popular tool for assessing classifier performance.  \n\n###Comparing misclassification rates\nWe compared the misclassification rates on the dataset in question by using the CRM data of approximately 8,000 subscriptions.  \n\n-   The SAS misclassification rate was 10-15%.\n-   The Machine Learning Studio misclassification rate was 15-20% for the top 200-300 churners.  \n\nIn the telecommunications industry, it is important to address only those customers who have the highest risk to churn by offering them a concierge service or other special treatment. In that respect, the Machine Learning Studio implementation achieves results on par with the SAS model.  \n\nBy the same token, accuracy is more important than precision because we are mostly interested in correctly classifying potential churners.  \n\nThe following diagram from Wikipedia depicts the relationship in a lively, easy-to-understand graphic:  \n\n![][8]\n\n*Figure 10: Tradeoff between accuracy and precision*\n\n###Accuracy and precision results for boosted decision tree model  \n\nThe following chart displays the raw results from scoring using the Machine Learning prototype for the boosted decision tree model, which happens to be the most accurate among the four models:  \n\n![][9]\n\n*Figure 11: Boosted decision tree model characteristics*\n\n##Performance comparison\nWe compared the speed at which data was scored using the Machine Learning Studio models and a comparable model created by using the desktop edition of SAS Enterprise Miner 12.1.  \n\nThe following table summarizes the performance of the algorithms:  \n\n*Table 1. General performance (accuracy) of the algorithms*\n\n**LR**| **BT**| **AP**| **SVM**|\n--|--|--|--|\nAverage Model|  The Best Model| Underperforming|    Average Model\n\nThe models hosted in Machine Learning Studio outperformed SAS by 15-25% for speed of execution, but accuracy was largely on par.  \n\n##Discussion and recommendations\nIn the telecommunications industry, several practices have emerged to analyze churn, including:  \n\n-   Derive metrics for four fundamental categories:\n    -   **Entity (for example, a subscription)**. Provision basic information about the subscription and/or customer that is the subject of churn.\n    -   **Activity**. Obtain all possible usage information that is related to the entity, for example, the number of logins.\n    -   **Customer support**. Harvest information from customer support logs to indicate whether the subscription had issues or interactions with customer support.\n    -   **Competitive and business data**. Obtain any information possible about the customer (for example, can be unavailable or hard to track).\n-   Use importance to drive feature selection. This implies that the boosted decision tree model is always a promising approach.  \n\nThe use of these four categories creates the illusion that a simple *deterministic* approach, based on indexes formed on reasonable factors per category, should suffice to identify customers at risk for churn. Unfortunately, although this notion seems plausible, it is a false understanding. The reason is that churn is a temporal effect and the factors contributing to churn are usually in transient states. What leads a customer to consider leaving today might be different tomorrow, and it certainly will be different six months from now. Therefore, a *probabilistic* model is a necessity.  \n\nThis important observation is often overlooked in business, which generally prefers a business intelligence-oriented approach to analytics, mostly because it is an easier sell and admits straightforward automation.  \n\nHowever, the promise of self-service analytics by using Machine Learning Studio is that the four categories of information, graded by division or department, become a valuable source for machine learning about churn.  \n\nAnother exciting capability coming in Azure Machine Learning is the ability to add a custom module to the repository of predefined modules that are already available. This capability, essentially, creates an opportunity to select libraries and create templates for vertical markets. It is an important differentiator of Azure Machine Learning in the market place.  \n\nWe hope to continue this topic in the future, especially related to big data analytics.\n  \n##Conclusion\nThis paper describes a sensible approach to tackling the common problem of customer churn by using a generic framework. We considered a prototype for scoring models and implemented it by using Azure Machine Learning. Finally, we assessed the accuracy and performance of the prototype solution with regard to comparable algorithms in SAS.  \n\n**For more information:**  \n\nDid this paper help you? Please give us your feedback. Tell us on a scale of 1 (poor) to 5 (excellent), how would you rate this paper and why have you given it this rating? For example:  \n\n-   Are you rating it high due to having good examples, excellent screen shots, clear writing, or another reason?\n-   Are you rating it low due to poor examples, fuzzy screen shots, or unclear writing?  \n\nThis feedback will help us improve the quality of white papers we release.   \n\n[Send feedback](mailto:sqlfback@microsoft.com).\n \n##References\n[1] Predictive Analytics: Beyond the Predictions, W. McKnight, Information Management, July/August 2011, p.18-20.  \n\n[2] Wikipedia article: [Accuracy and precision](http://en.wikipedia.org/wiki/Accuracy_and_precision)\n\n[3] [CRISP-DM 1.0: Step-by-Step Data Mining Guide](http://www.the-modeling-agency.com/crisp-dm.pdf)   \n\n[4] [Big Data Marketing: Engage Your Customers More Effectively and Drive Value](http://www.amazon.com/Big-Data-Marketing-Customers-Effectively/dp/1118733894/ref=sr_1_12?ie=UTF8&qid=1387541531&sr=8-12&keywords=customer+churn)\n\n[5] [Telco churn model template](https://caqs.azure.net/#gallery/telcocustomerchurn) in Cortana Analytics Gallery \n \n##Appendix\n\n![][10]\n\n*Figure 12: Snapshot of a presentation on churn prototype*\n\n\n[1]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-1.png\n[2]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-2.png\n[3]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-3.png\n[4]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-4.png\n[5]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-5.png\n[6]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-6.png\n[7]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-7.png\n[8]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-8.png\n[9]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-9.png\n[10]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-10.png\n"
}