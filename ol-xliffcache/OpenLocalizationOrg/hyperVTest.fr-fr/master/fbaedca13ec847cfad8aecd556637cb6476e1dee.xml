{
  "nodes": [
    {
      "pos": [
        27,
        115
      ],
      "content": "Apache Storm tutorial: Get started with Linux-based Storm on HDInsight | Microsoft Azure"
    },
    {
      "pos": [
        134,
        294
      ],
      "content": "Get started with big data analytics using Apache Storm and the Storm Starter samples on Linux-based HDInsight. Learn how to use Storm to process data real-time.",
      "nodes": [
        {
          "content": "Get started with big data analytics using Apache Storm and the Storm Starter samples on Linux-based HDInsight.",
          "pos": [
            0,
            110
          ]
        },
        {
          "content": "Learn how to use Storm to process data real-time.",
          "pos": [
            111,
            160
          ]
        }
      ]
    },
    {
      "pos": [
        691,
        792
      ],
      "content": "Apache Storm tutorial: Get started with the Storm Starter samples for big data analytics on HDInsight"
    },
    {
      "pos": [
        794,
        1032
      ],
      "content": "Apache Storm is a scalable, fault-tolerant, distributed, real-time computation system for processing streams of data. With Storm on Azure HDInsight, you can create a cloud-based Storm cluster that performs big data analytics in real time.",
      "nodes": [
        {
          "content": "Apache Storm is a scalable, fault-tolerant, distributed, real-time computation system for processing streams of data.",
          "pos": [
            0,
            117
          ]
        },
        {
          "content": "With Storm on Azure HDInsight, you can create a cloud-based Storm cluster that performs big data analytics in real time.",
          "pos": [
            118,
            238
          ]
        }
      ]
    },
    {
      "pos": [
        1036,
        1331
      ],
      "content": "<ph id=\"ph2\">[AZURE.NOTE]</ph><ph id=\"ph3\"/> The steps in this article create a Linux-based HDInsight cluster. For steps to create a Windows-based Storm on HDInsight cluster, see <bpt id=\"p1\">[</bpt>Apache Storm tutorial: Get started with the Storm Starter sample using data analytics on HDInsight<ept id=\"p1\">](hdinsight-apache-storm-tutorial-get-started.md)</ept>",
      "nodes": [
        {
          "content": "<ph id=\"ph2\">[AZURE.NOTE]</ph><ph id=\"ph3\"/> The steps in this article create a Linux-based HDInsight cluster.",
          "pos": [
            0,
            110
          ]
        },
        {
          "content": "For steps to create a Windows-based Storm on HDInsight cluster, see <bpt id=\"p1\">[</bpt>Apache Storm tutorial: Get started with the Storm Starter sample using data analytics on HDInsight<ept id=\"p1\">](hdinsight-apache-storm-tutorial-get-started.md)</ept>",
          "pos": [
            111,
            365
          ]
        }
      ]
    },
    {
      "pos": [
        1336,
        1352
      ],
      "content": "Before you begin"
    },
    {
      "pos": [
        1354,
        1434
      ],
      "content": "You must have the following to successfully complete this Apache Storm tutorial:"
    },
    {
      "pos": [
        1438,
        1596
      ],
      "content": "<bpt id=\"p2\">**</bpt>An Azure subscription<ept id=\"p2\">**</ept>. See <bpt id=\"p3\">[</bpt>Get Azure free trial<ept id=\"p3\">](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/)</ept>.",
      "nodes": [
        {
          "content": "<bpt id=\"p2\">**</bpt>An Azure subscription<ept id=\"p2\">**</ept>.",
          "pos": [
            0,
            64
          ]
        },
        {
          "content": "See <bpt id=\"p3\">[</bpt>Get Azure free trial<ept id=\"p3\">](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/)</ept>.",
          "pos": [
            65,
            234
          ]
        }
      ]
    },
    {
      "pos": [
        1600,
        1710
      ],
      "content": "<bpt id=\"p4\">**</bpt>Familiarity with SSH and SCP<ept id=\"p4\">**</ept>. For more information on using SSH and SCP with HDInsight, see the following:",
      "nodes": [
        {
          "content": "<bpt id=\"p4\">**</bpt>Familiarity with SSH and SCP<ept id=\"p4\">**</ept>.",
          "pos": [
            0,
            71
          ]
        },
        {
          "content": "For more information on using SSH and SCP with HDInsight, see the following:",
          "pos": [
            72,
            148
          ]
        }
      ]
    },
    {
      "pos": [
        1718,
        1866
      ],
      "content": "<bpt id=\"p5\">**</bpt>Linux, Unix or OS X clients<ept id=\"p5\">**</ept>: See <bpt id=\"p6\">[</bpt>Use SSH with Linux-based Hadoop on HDInsight from Linux, OS X or Unix<ept id=\"p6\">](hdinsight-hadoop-linux-use-ssh-unix.md)</ept>"
    },
    {
      "pos": [
        1874,
        2001
      ],
      "content": "<bpt id=\"p7\">**</bpt>Windows clients<ept id=\"p7\">**</ept>: See <bpt id=\"p8\">[</bpt>Use SSH with Linux-based Hadoop on HDInsight from Windows<ept id=\"p8\">](hdinsight-hadoop-linux-use-ssh-windows.md)</ept>"
    },
    {
      "pos": [
        2006,
        2028
      ],
      "content": "Create a Storm cluster"
    },
    {
      "pos": [
        2030,
        2221
      ],
      "content": "Storm on HDInsight uses Azure Blob storage for storing log files and topologies submitted to the cluster. Use the following steps to create an Azure Storage account for use with your cluster:",
      "nodes": [
        {
          "content": "Storm on HDInsight uses Azure Blob storage for storing log files and topologies submitted to the cluster.",
          "pos": [
            0,
            105
          ]
        },
        {
          "content": "Use the following steps to create an Azure Storage account for use with your cluster:",
          "pos": [
            106,
            191
          ]
        }
      ]
    },
    {
      "pos": [
        2226,
        2272
      ],
      "content": "Sign in to the <bpt id=\"p9\">[</bpt>Azure Portal<ept id=\"p9\">][preview-portal]</ept>."
    },
    {
      "pos": [
        2277,
        2349
      ],
      "content": "Select <bpt id=\"p10\">**</bpt>NEW<ept id=\"p10\">**</ept>, select <bpt id=\"p11\">__</bpt>Data Analytics<ept id=\"p11\">__</ept>, and then select <bpt id=\"p12\">__</bpt>HDInsight<ept id=\"p12\">__</ept>"
    },
    {
      "pos": [
        2355,
        2475
      ],
      "content": "<ph id=\"ph4\">![</ph>Creating a new cluster in the Azure Portal<ph id=\"ph5\">](./media/hdinsight-apache-storm-tutorial-get-started-linux/new-cluster.png)</ph>"
    },
    {
      "pos": [
        2480,
        2627
      ],
      "content": "Enter a <bpt id=\"p13\">__</bpt>Cluster Name<ept id=\"p13\">__</ept>, then select <bpt id=\"p14\">__</bpt>Storm<ept id=\"p14\">__</ept><ph id=\"ph6\"/> for the <bpt id=\"p15\">__</bpt>Cluster Type<ept id=\"p15\">__</ept>. A green check will appear beside the <bpt id=\"p16\">__</bpt>Cluster Name<ept id=\"p16\">__</ept><ph id=\"ph7\"/> if it is available.",
      "nodes": [
        {
          "content": "Enter a <bpt id=\"p13\">__</bpt>Cluster Name<ept id=\"p13\">__</ept>, then select <bpt id=\"p14\">__</bpt>Storm<ept id=\"p14\">__</ept><ph id=\"ph6\"/> for the <bpt id=\"p15\">__</bpt>Cluster Type<ept id=\"p15\">__</ept>.",
          "pos": [
            0,
            207
          ]
        },
        {
          "content": "A green check will appear beside the <bpt id=\"p16\">__</bpt>Cluster Name<ept id=\"p16\">__</ept><ph id=\"ph7\"/> if it is available.",
          "pos": [
            208,
            335
          ]
        }
      ]
    },
    {
      "pos": [
        2633,
        2750
      ],
      "content": "<ph id=\"ph8\">![</ph>Cluster name, cluster type, and OS Type<ph id=\"ph9\">](./media/hdinsight-apache-storm-tutorial-get-started-linux/clustername.png)</ph>"
    },
    {
      "pos": [
        2756,
        2816
      ],
      "content": "Select <bpt id=\"p17\">__</bpt>Ubuntu<ept id=\"p17\">__</ept><ph id=\"ph10\"/> to create a Linux-based HDInsight cluster."
    },
    {
      "pos": [
        2828,
        2921
      ],
      "content": "<ph id=\"ph11\">[AZURE.NOTE]</ph><ph id=\"ph12\"/> Leave the <bpt id=\"p18\">__</bpt>Version<ept id=\"p18\">__</ept><ph id=\"ph13\"/> field at the default value for the steps in this document."
    },
    {
      "pos": [
        2930,
        3071
      ],
      "content": "If you have more than one subscription, select the <bpt id=\"p19\">__</bpt>Subscription<ept id=\"p19\">__</ept><ph id=\"ph14\"/> entry to select the Azure subscription that will be used for the cluster."
    },
    {
      "pos": [
        3076,
        3374
      ],
      "content": "For <bpt id=\"p20\">__</bpt>Resource Group<ept id=\"p20\">__</ept>, you can select the entry to see a list of existing resource groups and then select the one to create the cluster in. Or you can select <bpt id=\"p21\">__</bpt>Create New<ept id=\"p21\">__</ept><ph id=\"ph15\"/> and then enter the name of the new resource group. A green check will appear to indicate if the new group name is available.",
      "nodes": [
        {
          "content": "For <bpt id=\"p20\">__</bpt>Resource Group<ept id=\"p20\">__</ept>, you can select the entry to see a list of existing resource groups and then select the one to create the cluster in.",
          "pos": [
            0,
            180
          ]
        },
        {
          "content": "Or you can select <bpt id=\"p21\">__</bpt>Create New<ept id=\"p21\">__</ept><ph id=\"ph15\"/> and then enter the name of the new resource group.",
          "pos": [
            181,
            319
          ]
        },
        {
          "content": "A green check will appear to indicate if the new group name is available.",
          "pos": [
            320,
            393
          ]
        }
      ]
    },
    {
      "pos": [
        3382,
        3481
      ],
      "content": "<ph id=\"ph16\">[AZURE.NOTE]</ph><ph id=\"ph17\"/> This entry will default to one of your existing resource groups, if any are available."
    },
    {
      "pos": [
        3486,
        3778
      ],
      "content": "Select <bpt id=\"p22\">__</bpt>Credentials<ept id=\"p22\">__</ept>, then enter a <bpt id=\"p23\">__</bpt>Cluster Login Password<ept id=\"p23\">__</ept><ph id=\"ph18\"/> for the <bpt id=\"p24\">__</bpt>Cluster Login Username<ept id=\"p24\">__</ept>. You must also enter an <bpt id=\"p25\">__</bpt>SSH Username<ept id=\"p25\">__</ept><ph id=\"ph19\"/> and either a <bpt id=\"p26\">__</bpt>PASSWORD<ept id=\"p26\">__</ept><ph id=\"ph20\"/> or <bpt id=\"p27\">__</bpt>PUBLIC KEY<ept id=\"p27\">__</ept>, which will be used to authenticate the SSH user. Finally, use the <bpt id=\"p28\">__</bpt>Select<ept id=\"p28\">__</ept><ph id=\"ph21\"/> button to set the credentials.",
      "nodes": [
        {
          "content": "Select <bpt id=\"p22\">__</bpt>Credentials<ept id=\"p22\">__</ept>, then enter a <bpt id=\"p23\">__</bpt>Cluster Login Password<ept id=\"p23\">__</ept><ph id=\"ph18\"/> for the <bpt id=\"p24\">__</bpt>Cluster Login Username<ept id=\"p24\">__</ept>.",
          "pos": [
            0,
            234
          ]
        },
        {
          "content": "You must also enter an <bpt id=\"p25\">__</bpt>SSH Username<ept id=\"p25\">__</ept><ph id=\"ph19\"/> and either a <bpt id=\"p26\">__</bpt>PASSWORD<ept id=\"p26\">__</ept><ph id=\"ph20\"/> or <bpt id=\"p27\">__</bpt>PUBLIC KEY<ept id=\"p27\">__</ept>, which will be used to authenticate the SSH user.",
          "pos": [
            235,
            518
          ]
        },
        {
          "content": "Finally, use the <bpt id=\"p28\">__</bpt>Select<ept id=\"p28\">__</ept><ph id=\"ph21\"/> button to set the credentials.",
          "pos": [
            519,
            632
          ]
        }
      ]
    },
    {
      "pos": [
        3784,
        3882
      ],
      "content": "<ph id=\"ph22\">![</ph>Cluster credentials blade<ph id=\"ph23\">](./media/hdinsight-administer-use-portal-linux/clustercredentials.png)</ph>"
    },
    {
      "pos": [
        3888,
        3972
      ],
      "content": "For more information on using SSH with HDInsight, see one of the following articles:"
    },
    {
      "pos": [
        3980,
        4092
      ],
      "content": "<bpt id=\"p29\">[</bpt>Use SSH with Linux-based Hadoop on HDInsight from Linux, Unix, or OS X<ept id=\"p29\">](hdinsight-hadoop-linux-use-ssh-unix.md)</ept>"
    },
    {
      "pos": [
        4100,
        4202
      ],
      "content": "<bpt id=\"p30\">[</bpt>Use SSH with Linux-based Hadoop on HDInsight from Windows<ept id=\"p30\">](hdinsight-hadoop-linux-use-ssh-windows.md)</ept>"
    },
    {
      "pos": [
        4208,
        4309
      ],
      "content": "For <bpt id=\"p31\">__</bpt>Data Source<ept id=\"p31\">__</ept>, you can select the entry to choose an existing data source, or create a new one."
    },
    {
      "pos": [
        4315,
        4409
      ],
      "content": "<ph id=\"ph24\">![</ph>Data source blade<ph id=\"ph25\">](./media/hdinsight-apache-storm-tutorial-get-started-linux/datasource.png)</ph>"
    },
    {
      "pos": [
        4419,
        4587
      ],
      "content": "Currently you can select an Azure Storage Account as the data source for an HDInsight cluster. Use the following to understand the entries on the <bpt id=\"p32\">__</bpt>Data Source<ept id=\"p32\">__</ept><ph id=\"ph26\"/> blade.",
      "nodes": [
        {
          "content": "Currently you can select an Azure Storage Account as the data source for an HDInsight cluster.",
          "pos": [
            0,
            94
          ]
        },
        {
          "content": "Use the following to understand the entries on the <bpt id=\"p32\">__</bpt>Data Source<ept id=\"p32\">__</ept><ph id=\"ph26\"/> blade.",
          "pos": [
            95,
            223
          ]
        }
      ]
    },
    {
      "pos": [
        4599,
        4836
      ],
      "content": "<bpt id=\"p33\">__</bpt>Selection Method<ept id=\"p33\">__</ept>: Set this to <bpt id=\"p34\">__</bpt>From all subscriptions<ept id=\"p34\">__</ept><ph id=\"ph27\"/> to enable browsing of storage accounts on your subscriptions. Set to <bpt id=\"p35\">__</bpt>Access Key<ept id=\"p35\">__</ept><ph id=\"ph28\"/> if you want to enter the <bpt id=\"p36\">__</bpt>Storage Name<ept id=\"p36\">__</ept><ph id=\"ph29\"/> and <bpt id=\"p37\">__</bpt>Access Key<ept id=\"p37\">__</ept><ph id=\"ph30\"/> of an existing storage account.",
      "nodes": [
        {
          "content": "<bpt id=\"p33\">__</bpt>Selection Method<ept id=\"p33\">__</ept>: Set this to <bpt id=\"p34\">__</bpt>From all subscriptions<ept id=\"p34\">__</ept><ph id=\"ph27\"/> to enable browsing of storage accounts on your subscriptions.",
          "pos": [
            0,
            217
          ]
        },
        {
          "content": "Set to <bpt id=\"p35\">__</bpt>Access Key<ept id=\"p35\">__</ept><ph id=\"ph28\"/> if you want to enter the <bpt id=\"p36\">__</bpt>Storage Name<ept id=\"p36\">__</ept><ph id=\"ph29\"/> and <bpt id=\"p37\">__</bpt>Access Key<ept id=\"p37\">__</ept><ph id=\"ph30\"/> of an existing storage account.",
          "pos": [
            218,
            497
          ]
        }
      ]
    },
    {
      "pos": [
        4848,
        4989
      ],
      "content": "<bpt id=\"p38\">__</bpt>Select storage account<ept id=\"p38\">__</ept>: If a storage account already exists for your subscription, use this to select the account to use for the cluster."
    },
    {
      "pos": [
        5001,
        5179
      ],
      "content": "<bpt id=\"p39\">__</bpt>Create New<ept id=\"p39\">__</ept>: Use this to create a new storage account. Use the field that appears to enter the name of the storage account. A green check will appear if the name is available.",
      "nodes": [
        {
          "content": "<bpt id=\"p39\">__</bpt>Create New<ept id=\"p39\">__</ept>: Use this to create a new storage account.",
          "pos": [
            0,
            97
          ]
        },
        {
          "content": "Use the field that appears to enter the name of the storage account.",
          "pos": [
            98,
            166
          ]
        },
        {
          "content": "A green check will appear if the name is available.",
          "pos": [
            167,
            218
          ]
        }
      ]
    },
    {
      "pos": [
        5191,
        5466
      ],
      "content": "<bpt id=\"p40\">__</bpt>Choose Default Container<ept id=\"p40\">__</ept>: Use this to enter the name of the default container to use for the cluster. While you can enter any name here, we recommend using the same name as the cluster so that you can easily recognize that the container is used for this specific cluster.",
      "nodes": [
        {
          "content": "<bpt id=\"p40\">__</bpt>Choose Default Container<ept id=\"p40\">__</ept>: Use this to enter the name of the default container to use for the cluster.",
          "pos": [
            0,
            145
          ]
        },
        {
          "content": "While you can enter any name here, we recommend using the same name as the cluster so that you can easily recognize that the container is used for this specific cluster.",
          "pos": [
            146,
            315
          ]
        }
      ]
    },
    {
      "pos": [
        5478,
        5576
      ],
      "content": "<bpt id=\"p41\">__</bpt>Location<ept id=\"p41\">__</ept>: The geographic region that the storage account will be is in, or will be created in."
    },
    {
      "pos": [
        5592,
        5785
      ],
      "content": "<ph id=\"ph31\">[AZURE.IMPORTANT]</ph><ph id=\"ph32\"/> Selecting the location for the default data source will also set the location of the HDInsight cluster. The cluster and default data source must be located in the same region.",
      "nodes": [
        {
          "content": "<ph id=\"ph31\">[AZURE.IMPORTANT]</ph><ph id=\"ph32\"/> Selecting the location for the default data source will also set the location of the HDInsight cluster.",
          "pos": [
            0,
            155
          ]
        },
        {
          "content": "The cluster and default data source must be located in the same region.",
          "pos": [
            156,
            227
          ]
        }
      ]
    },
    {
      "pos": [
        5797,
        5942
      ],
      "content": "<bpt id=\"p42\">__</bpt>Cluster AAD Identity<ept id=\"p42\">__</ept>: Use this to select an Azure Active Directory identity that will be used by the cluster to access Azure Data Lake Store."
    },
    {
      "pos": [
        5958,
        6240
      ],
      "content": "<ph id=\"ph33\">[AZURE.NOTE]</ph><ph id=\"ph34\"/> This is not used in this document, and can be left at the default setting. For information on using this entry, and Azure Data Lake Store, with HDInsight, see <bpt id=\"p43\">[</bpt>Create an HDInsight cluster that uses Azure Data Lake Store<ept id=\"p43\">](data-lake-store-hdinsight-hadoop-use-portal.md)</ept>.",
      "nodes": [
        {
          "content": "<ph id=\"ph33\">[AZURE.NOTE]</ph><ph id=\"ph34\"/> This is not used in this document, and can be left at the default setting.",
          "pos": [
            0,
            121
          ]
        },
        {
          "content": "For information on using this entry, and Azure Data Lake Store, with HDInsight, see <bpt id=\"p43\">[</bpt>Create an HDInsight cluster that uses Azure Data Lake Store<ept id=\"p43\">](data-lake-store-hdinsight-hadoop-use-portal.md)</ept>.",
          "pos": [
            122,
            356
          ]
        }
      ]
    },
    {
      "pos": [
        6256,
        6315
      ],
      "content": "<bpt id=\"p44\">__</bpt>Select<ept id=\"p44\">__</ept>: Use this to save the data source configuration."
    },
    {
      "pos": [
        6324,
        6569
      ],
      "content": "Select <bpt id=\"p45\">__</bpt>Node Pricing Tiers<ept id=\"p45\">__</ept><ph id=\"ph35\"/> to display information about the nodes that will be created for this cluster. By default, the number of worker nodes will be set to <bpt id=\"p46\">__</bpt>4<ept id=\"p46\">__</ept>. The estimated cost of the cluster will be shown at the bottom of this blade.",
      "nodes": [
        {
          "content": "Select <bpt id=\"p45\">__</bpt>Node Pricing Tiers<ept id=\"p45\">__</ept><ph id=\"ph35\"/> to display information about the nodes that will be created for this cluster.",
          "pos": [
            0,
            162
          ]
        },
        {
          "content": "By default, the number of worker nodes will be set to <bpt id=\"p46\">__</bpt>4<ept id=\"p46\">__</ept>.",
          "pos": [
            163,
            263
          ]
        },
        {
          "content": "The estimated cost of the cluster will be shown at the bottom of this blade.",
          "pos": [
            264,
            340
          ]
        }
      ]
    },
    {
      "pos": [
        6575,
        6682
      ],
      "content": "<ph id=\"ph36\">![</ph>Node pricing tiers blade<ph id=\"ph37\">](./media/hdinsight-apache-storm-tutorial-get-started-linux/nodepricingtiers.png)</ph>"
    },
    {
      "pos": [
        6692,
        6851
      ],
      "content": "You can select each node type to change the VM type used for these node(s) in your cluster. Leave these at the default settings for the steps in this document.",
      "nodes": [
        {
          "content": "You can select each node type to change the VM type used for these node(s) in your cluster.",
          "pos": [
            0,
            91
          ]
        },
        {
          "content": "Leave these at the default settings for the steps in this document.",
          "pos": [
            92,
            159
          ]
        }
      ]
    },
    {
      "pos": [
        6861,
        6934
      ],
      "content": "Use the <bpt id=\"p47\">__</bpt>Select<ept id=\"p47\">__</ept><ph id=\"ph38\"/> button to save the <bpt id=\"p48\">__</bpt>Node Pricing Tiers<ept id=\"p48\">__</ept><ph id=\"ph39\"/> information."
    },
    {
      "pos": [
        6939,
        7153
      ],
      "content": "Select <bpt id=\"p49\">__</bpt>Optional Configuration<ept id=\"p49\">__</ept>. This blade allows you to join the cluster to a <bpt id=\"p50\">__</bpt>Virtual Network<ept id=\"p50\">__</ept>, use <bpt id=\"p51\">__</bpt>Script Actions<ept id=\"p51\">__</ept><ph id=\"ph40\"/> to customize the cluster, or use a <bpt id=\"p52\">__</bpt>Custom Metastore<ept id=\"p52\">__</ept><ph id=\"ph41\"/> to hold data for Hive and Oozie.",
      "nodes": [
        {
          "content": "Select <bpt id=\"p49\">__</bpt>Optional Configuration<ept id=\"p49\">__</ept>.",
          "pos": [
            0,
            74
          ]
        },
        {
          "content": "This blade allows you to join the cluster to a <bpt id=\"p50\">__</bpt>Virtual Network<ept id=\"p50\">__</ept>, use <bpt id=\"p51\">__</bpt>Script Actions<ept id=\"p51\">__</ept><ph id=\"ph40\"/> to customize the cluster, or use a <bpt id=\"p52\">__</bpt>Custom Metastore<ept id=\"p52\">__</ept><ph id=\"ph41\"/> to hold data for Hive and Oozie.",
          "pos": [
            75,
            404
          ]
        }
      ]
    },
    {
      "pos": [
        7159,
        7275
      ],
      "content": "<ph id=\"ph42\">![</ph>Optional configuration blade<ph id=\"ph43\">](./media/hdinsight-apache-storm-tutorial-get-started-linux/optionalconfiguration.png)</ph>"
    },
    {
      "pos": [
        7285,
        7359
      ],
      "content": "Leave these settings as <bpt id=\"p53\">__</bpt>Not Configured<ept id=\"p53\">__</ept><ph id=\"ph44\"/> for the steps in this document."
    },
    {
      "pos": [
        7364,
        7665
      ],
      "content": "Ensure that <bpt id=\"p54\">__</bpt>Pin to Startboard<ept id=\"p54\">__</ept><ph id=\"ph45\"/> is selected, and then select <bpt id=\"p55\">__</bpt>Create<ept id=\"p55\">__</ept>. This will create the cluster and add a tile for it to the Startboard of your Azure Portal. The icon will indicate that the cluster is provisioning, and will change to display the HDInsight icon once provisioning has completed.",
      "nodes": [
        {
          "content": "Ensure that <bpt id=\"p54\">__</bpt>Pin to Startboard<ept id=\"p54\">__</ept><ph id=\"ph45\"/> is selected, and then select <bpt id=\"p55\">__</bpt>Create<ept id=\"p55\">__</ept>.",
          "pos": [
            0,
            169
          ]
        },
        {
          "content": "This will create the cluster and add a tile for it to the Startboard of your Azure Portal.",
          "pos": [
            170,
            260
          ]
        },
        {
          "content": "The icon will indicate that the cluster is provisioning, and will change to display the HDInsight icon once provisioning has completed.",
          "pos": [
            261,
            396
          ]
        }
      ]
    },
    {
      "pos": [
        7673,
        7691
      ],
      "content": "While provisioning"
    },
    {
      "pos": [
        7694,
        7715
      ],
      "content": "Provisioning complete"
    },
    {
      "pos": [
        7775,
        7890
      ],
      "content": "<ph id=\"ph46\">![</ph>Provisioning indicator on startboard<ph id=\"ph47\">](./media/hdinsight-apache-storm-tutorial-get-started-linux/provisioning.png)</ph>"
    },
    {
      "pos": [
        7893,
        7995
      ],
      "content": "<ph id=\"ph48\">![</ph>Provisioned cluster tile<ph id=\"ph49\">](./media/hdinsight-apache-storm-tutorial-get-started-linux/provisioned.png)</ph>"
    },
    {
      "pos": [
        8005,
        8223
      ],
      "content": "<ph id=\"ph50\">[AZURE.NOTE]</ph><ph id=\"ph51\"/> It will take some time for the cluster to be created, usually around 15 minutes. Use the tile on the Startboard, or the <bpt id=\"p56\">__</bpt>Notifications<ept id=\"p56\">__</ept><ph id=\"ph52\"/> entry on the left of the page to check on the provisioning process.",
      "nodes": [
        {
          "content": "<ph id=\"ph50\">[AZURE.NOTE]</ph><ph id=\"ph51\"/> It will take some time for the cluster to be created, usually around 15 minutes.",
          "pos": [
            0,
            127
          ]
        },
        {
          "content": "Use the tile on the Startboard, or the <bpt id=\"p56\">__</bpt>Notifications<ept id=\"p56\">__</ept><ph id=\"ph52\"/> entry on the left of the page to check on the provisioning process.",
          "pos": [
            128,
            307
          ]
        }
      ]
    },
    {
      "pos": [
        8227,
        8266
      ],
      "content": "Run a Storm Starter sample on HDInsight"
    },
    {
      "pos": [
        8268,
        8463
      ],
      "content": "The <bpt id=\"p57\">[</bpt>storm-starter<ept id=\"p57\">](https://github.com/apache/storm/tree/master/examples/storm-starter)</ept><ph id=\"ph53\"/> examples are included on the HDInsight cluster. In the following steps, you will run the WordCount example.",
      "nodes": [
        {
          "content": "The <bpt id=\"p57\">[</bpt>storm-starter<ept id=\"p57\">](https://github.com/apache/storm/tree/master/examples/storm-starter)</ept><ph id=\"ph53\"/> examples are included on the HDInsight cluster.",
          "pos": [
            0,
            190
          ]
        },
        {
          "content": "In the following steps, you will run the WordCount example.",
          "pos": [
            191,
            250
          ]
        }
      ]
    },
    {
      "pos": [
        8468,
        8511
      ],
      "content": "Connect to the HDInsight cluster using SSH:"
    },
    {
      "pos": [
        8582,
        8854
      ],
      "content": "If you used a password to secure your SSH user account, you will be prompted to enter it. If you used a public key, you may have to use the <ph id=\"ph54\">`-i`</ph><ph id=\"ph55\"/> parameter to specify the matching private key. For example, <ph id=\"ph56\">`ssh -i ~/.ssh/id_rsa USERNAME@CLUSTERNAME-ssh.azurehdinsight.net`</ph>.",
      "nodes": [
        {
          "content": "If you used a password to secure your SSH user account, you will be prompted to enter it.",
          "pos": [
            0,
            89
          ]
        },
        {
          "content": "If you used a public key, you may have to use the <ph id=\"ph54\">`-i`</ph><ph id=\"ph55\"/> parameter to specify the matching private key.",
          "pos": [
            90,
            225
          ]
        },
        {
          "content": "For example, <ph id=\"ph56\">`ssh -i ~/.ssh/id_rsa USERNAME@CLUSTERNAME-ssh.azurehdinsight.net`</ph>.",
          "pos": [
            226,
            325
          ]
        }
      ]
    },
    {
      "pos": [
        8868,
        8957
      ],
      "content": "For more information on using SSH with Linux-based HDInsight, see the following articles:"
    },
    {
      "pos": [
        8969,
        9081
      ],
      "content": "<bpt id=\"p58\">[</bpt>Use SSH with Linux-based Hadoop on HDInsight from Linux, Unix, or OS X<ept id=\"p58\">](hdinsight-hadoop-linux-use-ssh-unix.md)</ept>"
    },
    {
      "pos": [
        9089,
        9188
      ],
      "content": "<bpt id=\"p59\">[</bpt>Use SSH with Linux-based Hadoop on HDInsight from Windows<ept id=\"p59\">](hdinsight-hadoop-linux-use-ssh-windows)</ept>"
    },
    {
      "pos": [
        9193,
        9248
      ],
      "content": "Use the following command to start an example topology:"
    },
    {
      "pos": [
        9422,
        9546
      ],
      "content": "<ph id=\"ph57\">[AZURE.NOTE]</ph><ph id=\"ph58\"/> The <ph id=\"ph59\">`0.9.3.2.2.4.9-1`</ph><ph id=\"ph60\"/> portion of the file name may change as HDinsight is updated with newer versions of Storm."
    },
    {
      "pos": [
        9552,
        9743
      ],
      "content": "This will start the example WordCount topology on the cluster, with a friendly name of 'wordcount'. It will randomly generate sentences and count the occurrance of each word in the sentences.",
      "nodes": [
        {
          "content": "This will start the example WordCount topology on the cluster, with a friendly name of 'wordcount'.",
          "pos": [
            0,
            99
          ]
        },
        {
          "content": "It will randomly generate sentences and count the occurrance of each word in the sentences.",
          "pos": [
            100,
            191
          ]
        }
      ]
    },
    {
      "pos": [
        9751,
        10071
      ],
      "content": "<ph id=\"ph61\">[AZURE.NOTE]</ph><ph id=\"ph62\"/> When submitting topology to the cluster, you must first copy the jar file containing the cluster before using the <ph id=\"ph63\">`storm`</ph><ph id=\"ph64\"/> command. This can be accomplished using the <ph id=\"ph65\">`scp`</ph><ph id=\"ph66\"/> command from the client where the file exists. For example, <ph id=\"ph67\">`scp FILENAME.jar USERNAME@CLUSTERNAME-ssh.azurehdinsight.net:FILENAME.jar`</ph>",
      "nodes": [
        {
          "content": "<ph id=\"ph61\">[AZURE.NOTE]</ph><ph id=\"ph62\"/> When submitting topology to the cluster, you must first copy the jar file containing the cluster before using the <ph id=\"ph63\">`storm`</ph><ph id=\"ph64\"/> command.",
          "pos": [
            0,
            211
          ]
        },
        {
          "content": "This can be accomplished using the <ph id=\"ph65\">`scp`</ph><ph id=\"ph66\"/> command from the client where the file exists.",
          "pos": [
            212,
            333
          ]
        },
        {
          "content": "For example, <ph id=\"ph67\">`scp FILENAME.jar USERNAME@CLUSTERNAME-ssh.azurehdinsight.net:FILENAME.jar`</ph>",
          "pos": [
            334,
            441
          ]
        }
      ]
    },
    {
      "pos": [
        10084,
        10236
      ],
      "content": "The WordCount example, and other storm starter examples, are already included on your cluster at <ph id=\"ph68\">`/usr/hdp/current/storm-client/contrib/storm-starter/`</ph>."
    },
    {
      "pos": [
        10240,
        10260
      ],
      "content": "Monitor the topology"
    },
    {
      "pos": [
        10262,
        10379
      ],
      "content": "The Storm UI provides a web interface for working with running topologies, and is included on your HDInsight cluster."
    },
    {
      "pos": [
        10381,
        10448
      ],
      "content": "Use the following steps to monitor the topology using the Storm UI:"
    },
    {
      "pos": [
        10453,
        10602
      ],
      "content": "Open a web browser to https://CLUSTERNAME.azurehdinsight.net/stormui, where <bpt id=\"p60\">__</bpt>CLUSTERNAME<ept id=\"p60\">__</ept><ph id=\"ph69\"/> is the name of your cluster. This will open the Storm UI.",
      "nodes": [
        {
          "content": "Open a web browser to https://CLUSTERNAME.azurehdinsight.net/stormui, where <bpt id=\"p60\">__</bpt>CLUSTERNAME<ept id=\"p60\">__</ept><ph id=\"ph69\"/> is the name of your cluster.",
          "pos": [
            0,
            175
          ]
        },
        {
          "content": "This will open the Storm UI.",
          "pos": [
            176,
            204
          ]
        }
      ]
    },
    {
      "pos": [
        10610,
        10762
      ],
      "content": "<ph id=\"ph70\">[AZURE.NOTE]</ph><ph id=\"ph71\"/> If asked to provide a user name and password, enter the cluster administrator (admin) and password that you used when creating the cluster."
    },
    {
      "pos": [
        10767,
        10904
      ],
      "content": "Under <bpt id=\"p61\">**</bpt>Topology summary<ept id=\"p61\">**</ept>, select the <bpt id=\"p62\">**</bpt>wordcount<ept id=\"p62\">**</ept><ph id=\"ph72\"/> entry in the <bpt id=\"p63\">**</bpt>Name<ept id=\"p63\">**</ept><ph id=\"ph73\"/> column. This will display more information about the topology.",
      "nodes": [
        {
          "content": "Under <bpt id=\"p61\">**</bpt>Topology summary<ept id=\"p61\">**</ept>, select the <bpt id=\"p62\">**</bpt>wordcount<ept id=\"p62\">**</ept><ph id=\"ph72\"/> entry in the <bpt id=\"p63\">**</bpt>Name<ept id=\"p63\">**</ept><ph id=\"ph73\"/> column.",
          "pos": [
            0,
            232
          ]
        },
        {
          "content": "This will display more information about the topology.",
          "pos": [
            233,
            287
          ]
        }
      ]
    },
    {
      "pos": [
        10910,
        11059
      ],
      "content": "<ph id=\"ph74\">![</ph>Storm Dashboard with Storm Starter WordCount topology information.<ph id=\"ph75\">](./media/hdinsight-apache-storm-tutorial-get-started-linux/topology-summary.png)</ph>"
    },
    {
      "pos": [
        11065,
        11110
      ],
      "content": "This page provides the following information:"
    },
    {
      "pos": [
        11118,
        11214
      ],
      "content": "<bpt id=\"p64\">**</bpt>Topology stats<ept id=\"p64\">**</ept><ph id=\"ph76\"/> - Basic information on the topology performance, organized into time windows."
    },
    {
      "pos": [
        11226,
        11352
      ],
      "content": "<ph id=\"ph77\">[AZURE.NOTE]</ph><ph id=\"ph78\"/> Selecting a specific time window changes the time window for information displayed in other sections of the page."
    },
    {
      "pos": [
        11360,
        11453
      ],
      "content": "<bpt id=\"p65\">**</bpt>Spouts<ept id=\"p65\">**</ept><ph id=\"ph79\"/> - Basic information about spouts, including the last error returned by each spout."
    },
    {
      "pos": [
        11461,
        11503
      ],
      "content": "<bpt id=\"p66\">**</bpt>Bolts<ept id=\"p66\">**</ept><ph id=\"ph80\"/> - Basic information about bolts."
    },
    {
      "pos": [
        11511,
        11594
      ],
      "content": "<bpt id=\"p67\">**</bpt>Topology configuration<ept id=\"p67\">**</ept><ph id=\"ph81\"/> - Detailed information about the topology configuration."
    },
    {
      "pos": [
        11600,
        11666
      ],
      "content": "This page also provides actions that can be taken on the topology:"
    },
    {
      "pos": [
        11674,
        11734
      ],
      "content": "<bpt id=\"p68\">**</bpt>Activate<ept id=\"p68\">**</ept><ph id=\"ph82\"/> - Resumes processing of a deactivated topology."
    },
    {
      "pos": [
        11742,
        11785
      ],
      "content": "<bpt id=\"p69\">**</bpt>Deactivate<ept id=\"p69\">**</ept><ph id=\"ph83\"/> - Pauses a running topology."
    },
    {
      "pos": [
        11793,
        12242
      ],
      "content": "<bpt id=\"p70\">**</bpt>Rebalance<ept id=\"p70\">**</ept><ph id=\"ph84\"/> - Adjusts the parallelism of the topology. You should rebalance running topologies after you have changed the number of nodes in the cluster. This allows the topology to adjust parallelism to compensate for the increased/decreased number of nodes in the cluster. For more information, see <bpt id=\"p71\">[</bpt>Understanding the parallelism of a Storm topology<ept id=\"p71\">](http://storm.apache.org/documentation/Understanding-the-parallelism-of-a-Storm-topology.html)</ept>.",
      "nodes": [
        {
          "content": "<bpt id=\"p70\">**</bpt>Rebalance<ept id=\"p70\">**</ept><ph id=\"ph84\"/> - Adjusts the parallelism of the topology.",
          "pos": [
            0,
            111
          ]
        },
        {
          "content": "You should rebalance running topologies after you have changed the number of nodes in the cluster.",
          "pos": [
            112,
            210
          ]
        },
        {
          "content": "This allows the topology to adjust parallelism to compensate for the increased/decreased number of nodes in the cluster.",
          "pos": [
            211,
            331
          ]
        },
        {
          "content": "For more information, see <bpt id=\"p71\">[</bpt>Understanding the parallelism of a Storm topology<ept id=\"p71\">](http://storm.apache.org/documentation/Understanding-the-parallelism-of-a-Storm-topology.html)</ept>.",
          "pos": [
            332,
            544
          ]
        }
      ]
    },
    {
      "pos": [
        12250,
        12317
      ],
      "content": "<bpt id=\"p72\">**</bpt>Kill<ept id=\"p72\">**</ept><ph id=\"ph85\"/> - Terminates a Storm topology after the specified timeout."
    },
    {
      "pos": [
        12322,
        12455
      ],
      "content": "From this page, select an entry from the <bpt id=\"p73\">**</bpt>Spouts<ept id=\"p73\">**</ept><ph id=\"ph86\"/> or <bpt id=\"p74\">**</bpt>Bolts<ept id=\"p74\">**</ept><ph id=\"ph87\"/> section. This will display information about the selected component.",
      "nodes": [
        {
          "content": "From this page, select an entry from the <bpt id=\"p73\">**</bpt>Spouts<ept id=\"p73\">**</ept><ph id=\"ph86\"/> or <bpt id=\"p74\">**</bpt>Bolts<ept id=\"p74\">**</ept><ph id=\"ph87\"/> section.",
          "pos": [
            0,
            183
          ]
        },
        {
          "content": "This will display information about the selected component.",
          "pos": [
            184,
            243
          ]
        }
      ]
    },
    {
      "pos": [
        12461,
        12604
      ],
      "content": "<ph id=\"ph88\">![</ph>Storm Dachborad with information about selected components.<ph id=\"ph89\">](./media/hdinsight-apache-storm-tutorial-get-started-linux/component-summary.png)</ph>"
    },
    {
      "pos": [
        12610,
        12655
      ],
      "content": "This page displays the following information:"
    },
    {
      "pos": [
        12663,
        12762
      ],
      "content": "<bpt id=\"p75\">**</bpt>Spout/Bolt stats<ept id=\"p75\">**</ept><ph id=\"ph90\"/> - Basic information on the component performance, organized into time windows."
    },
    {
      "pos": [
        12774,
        12900
      ],
      "content": "<ph id=\"ph91\">[AZURE.NOTE]</ph><ph id=\"ph92\"/> Selecting a specific time window changes the time window for information displayed in other sections of the page."
    },
    {
      "pos": [
        12908,
        13003
      ],
      "content": "<bpt id=\"p76\">**</bpt>Input stats<ept id=\"p76\">**</ept><ph id=\"ph93\"/> (bolt only) - Information on components that produce data consumed by the bolt."
    },
    {
      "pos": [
        13011,
        13071
      ],
      "content": "<bpt id=\"p77\">**</bpt>Output stats<ept id=\"p77\">**</ept><ph id=\"ph94\"/> - Information on data emitted by this bolt."
    },
    {
      "pos": [
        13079,
        13138
      ],
      "content": "<bpt id=\"p78\">**</bpt>Executors<ept id=\"p78\">**</ept><ph id=\"ph95\"/> - Information on instances of this component."
    },
    {
      "pos": [
        13146,
        13193
      ],
      "content": "<bpt id=\"p79\">**</bpt>Errors<ept id=\"p79\">**</ept><ph id=\"ph96\"/> - Errors produced by this component."
    },
    {
      "pos": [
        13198,
        13370
      ],
      "content": "When viewing the details of a spout or bolt, select an entry from the <bpt id=\"p80\">**</bpt>Port<ept id=\"p80\">**</ept><ph id=\"ph97\"/> column in the <bpt id=\"p81\">**</bpt>Executors<ept id=\"p81\">**</ept><ph id=\"ph98\"/> section to view details for a specific instance of the component."
    },
    {
      "pos": [
        14181,
        14339
      ],
      "content": "From this data you can see that the word <bpt id=\"p82\">**</bpt>seven<ept id=\"p82\">**</ept><ph id=\"ph99\"/> has occurred 1493957 times. That is how many times it has been encountered since this topology was started.",
      "nodes": [
        {
          "content": "From this data you can see that the word <bpt id=\"p82\">**</bpt>seven<ept id=\"p82\">**</ept><ph id=\"ph99\"/> has occurred 1493957 times.",
          "pos": [
            0,
            133
          ]
        },
        {
          "content": "That is how many times it has been encountered since this topology was started.",
          "pos": [
            134,
            213
          ]
        }
      ]
    },
    {
      "pos": [
        14343,
        14360
      ],
      "content": "Stop the topology"
    },
    {
      "pos": [
        14362,
        14702
      ],
      "content": "Return to the <bpt id=\"p83\">**</bpt>Topology summary<ept id=\"p83\">**</ept><ph id=\"ph100\"/> page for the word-count topology, and then select the <bpt id=\"p84\">**</bpt>Kill<ept id=\"p84\">**</ept><ph id=\"ph101\"/> button from the <bpt id=\"p85\">**</bpt>Topology actions<ept id=\"p85\">**</ept><ph id=\"ph102\"/> section. When prompted, enter 10 for the seconds to wait before stopping the topology. After the timeout period, the topology will no longer appear when you visit the <bpt id=\"p86\">**</bpt>Storm UI<ept id=\"p86\">**</ept><ph id=\"ph103\"/> section of the dashboard.",
      "nodes": [
        {
          "content": "Return to the <bpt id=\"p83\">**</bpt>Topology summary<ept id=\"p83\">**</ept><ph id=\"ph100\"/> page for the word-count topology, and then select the <bpt id=\"p84\">**</bpt>Kill<ept id=\"p84\">**</ept><ph id=\"ph101\"/> button from the <bpt id=\"p85\">**</bpt>Topology actions<ept id=\"p85\">**</ept><ph id=\"ph102\"/> section.",
          "pos": [
            0,
            311
          ]
        },
        {
          "content": "When prompted, enter 10 for the seconds to wait before stopping the topology.",
          "pos": [
            312,
            389
          ]
        },
        {
          "content": "After the timeout period, the topology will no longer appear when you visit the <bpt id=\"p86\">**</bpt>Storm UI<ept id=\"p86\">**</ept><ph id=\"ph103\"/> section of the dashboard.",
          "pos": [
            390,
            564
          ]
        }
      ]
    },
    {
      "pos": [
        14706,
        14713
      ],
      "content": "Summary"
    },
    {
      "pos": [
        14715,
        14901
      ],
      "content": "In this Apache Storm tutorial, you used the Storm Starter to learn how to create a Storm on HDInsight cluster and use the Storm Dashboard to deploy, monitor, and manage Storm topologies."
    },
    {
      "pos": [
        14903,
        14905
      ],
      "content": "##"
    },
    {
      "pos": [
        14922,
        14932
      ],
      "content": "Next steps"
    },
    {
      "pos": [
        14936,
        15034
      ],
      "content": "The following document contains a list of other examples that can be used with Storm on HDInsight:"
    },
    {
      "pos": [
        15042,
        15122
      ],
      "content": "<bpt id=\"p87\">[</bpt>Example topologies for Storm on HDInsight<ept id=\"p87\">](hdinsight-storm-example-topology.md)</ept>"
    }
  ],
  "content": "<properties\n    pageTitle=\"Apache Storm tutorial: Get started with Linux-based Storm on HDInsight | Microsoft Azure\"\n    description=\"Get started with big data analytics using Apache Storm and the Storm Starter samples on Linux-based HDInsight. Learn how to use Storm to process data real-time.\"\n    keywords=\"apache storm,apache storm tutorial,big data analytics,storm starter\"\n    services=\"hdinsight\"\n    documentationCenter=\"\"\n    authors=\"Blackmist\"\n    manager=\"paulettm\"\n    editor=\"cgronlun\"/>\n\n<tags\n   ms.service=\"hdinsight\"\n   ms.devlang=\"java\"\n   ms.topic=\"get-started-article\"\n   ms.tgt_pltfrm=\"na\"\n   ms.workload=\"big-data\"\n   ms.date=\"01/12/2016\"\n   ms.author=\"larryfr\"/>\n\n\n# Apache Storm tutorial: Get started with the Storm Starter samples for big data analytics on HDInsight\n\nApache Storm is a scalable, fault-tolerant, distributed, real-time computation system for processing streams of data. With Storm on Azure HDInsight, you can create a cloud-based Storm cluster that performs big data analytics in real time.\n\n> [AZURE.NOTE] The steps in this article create a Linux-based HDInsight cluster. For steps to create a Windows-based Storm on HDInsight cluster, see [Apache Storm tutorial: Get started with the Storm Starter sample using data analytics on HDInsight](hdinsight-apache-storm-tutorial-get-started.md)\n\n## Before you begin\n\nYou must have the following to successfully complete this Apache Storm tutorial:\n\n- **An Azure subscription**. See [Get Azure free trial](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).\n\n- **Familiarity with SSH and SCP**. For more information on using SSH and SCP with HDInsight, see the following:\n\n    - **Linux, Unix or OS X clients**: See [Use SSH with Linux-based Hadoop on HDInsight from Linux, OS X or Unix](hdinsight-hadoop-linux-use-ssh-unix.md)\n\n    - **Windows clients**: See [Use SSH with Linux-based Hadoop on HDInsight from Windows](hdinsight-hadoop-linux-use-ssh-windows.md)\n\n## Create a Storm cluster\n\nStorm on HDInsight uses Azure Blob storage for storing log files and topologies submitted to the cluster. Use the following steps to create an Azure Storage account for use with your cluster:\n\n1. Sign in to the [Azure Portal][preview-portal].\n\n2. Select **NEW**, select __Data Analytics__, and then select __HDInsight__\n\n    ![Creating a new cluster in the Azure Portal](./media/hdinsight-apache-storm-tutorial-get-started-linux/new-cluster.png)\n\n3. Enter a __Cluster Name__, then select __Storm__ for the __Cluster Type__. A green check will appear beside the __Cluster Name__ if it is available.\n\n    ![Cluster name, cluster type, and OS Type](./media/hdinsight-apache-storm-tutorial-get-started-linux/clustername.png)\n\n    Select __Ubuntu__ to create a Linux-based HDInsight cluster.\n    \n    > [AZURE.NOTE] Leave the __Version__ field at the default value for the steps in this document.\n    \n4. If you have more than one subscription, select the __Subscription__ entry to select the Azure subscription that will be used for the cluster.\n\n5. For __Resource Group__, you can select the entry to see a list of existing resource groups and then select the one to create the cluster in. Or you can select __Create New__ and then enter the name of the new resource group. A green check will appear to indicate if the new group name is available.\n\n    > [AZURE.NOTE] This entry will default to one of your existing resource groups, if any are available.\n\n6. Select __Credentials__, then enter a __Cluster Login Password__ for the __Cluster Login Username__. You must also enter an __SSH Username__ and either a __PASSWORD__ or __PUBLIC KEY__, which will be used to authenticate the SSH user. Finally, use the __Select__ button to set the credentials.\n\n    ![Cluster credentials blade](./media/hdinsight-administer-use-portal-linux/clustercredentials.png)\n\n    For more information on using SSH with HDInsight, see one of the following articles:\n\n    * [Use SSH with Linux-based Hadoop on HDInsight from Linux, Unix, or OS X](hdinsight-hadoop-linux-use-ssh-unix.md)\n\n    * [Use SSH with Linux-based Hadoop on HDInsight from Windows](hdinsight-hadoop-linux-use-ssh-windows.md) \n\n6. For __Data Source__, you can select the entry to choose an existing data source, or create a new one.\n\n    ![Data source blade](./media/hdinsight-apache-storm-tutorial-get-started-linux/datasource.png)\n    \n    Currently you can select an Azure Storage Account as the data source for an HDInsight cluster. Use the following to understand the entries on the __Data Source__ blade.\n    \n    - __Selection Method__: Set this to __From all subscriptions__ to enable browsing of storage accounts on your subscriptions. Set to __Access Key__ if you want to enter the __Storage Name__ and __Access Key__ of an existing storage account.\n    \n    - __Select storage account__: If a storage account already exists for your subscription, use this to select the account to use for the cluster.\n    \n    - __Create New__: Use this to create a new storage account. Use the field that appears to enter the name of the storage account. A green check will appear if the name is available.\n    \n    - __Choose Default Container__: Use this to enter the name of the default container to use for the cluster. While you can enter any name here, we recommend using the same name as the cluster so that you can easily recognize that the container is used for this specific cluster.\n    \n    - __Location__: The geographic region that the storage account will be is in, or will be created in.\n    \n        > [AZURE.IMPORTANT] Selecting the location for the default data source will also set the location of the HDInsight cluster. The cluster and default data source must be located in the same region.\n    \n    - __Cluster AAD Identity__: Use this to select an Azure Active Directory identity that will be used by the cluster to access Azure Data Lake Store.\n    \n        > [AZURE.NOTE] This is not used in this document, and can be left at the default setting. For information on using this entry, and Azure Data Lake Store, with HDInsight, see [Create an HDInsight cluster that uses Azure Data Lake Store](data-lake-store-hdinsight-hadoop-use-portal.md).\n        \n    - __Select__: Use this to save the data source configuration.\n    \n7. Select __Node Pricing Tiers__ to display information about the nodes that will be created for this cluster. By default, the number of worker nodes will be set to __4__. The estimated cost of the cluster will be shown at the bottom of this blade.\n\n    ![Node pricing tiers blade](./media/hdinsight-apache-storm-tutorial-get-started-linux/nodepricingtiers.png)\n    \n    You can select each node type to change the VM type used for these node(s) in your cluster. Leave these at the default settings for the steps in this document.\n    \n    Use the __Select__ button to save the __Node Pricing Tiers__ information.\n\n8. Select __Optional Configuration__. This blade allows you to join the cluster to a __Virtual Network__, use __Script Actions__ to customize the cluster, or use a __Custom Metastore__ to hold data for Hive and Oozie.\n\n    ![Optional configuration blade](./media/hdinsight-apache-storm-tutorial-get-started-linux/optionalconfiguration.png)\n    \n    Leave these settings as __Not Configured__ for the steps in this document.\n\n9. Ensure that __Pin to Startboard__ is selected, and then select __Create__. This will create the cluster and add a tile for it to the Startboard of your Azure Portal. The icon will indicate that the cluster is provisioning, and will change to display the HDInsight icon once provisioning has completed.\n\n    | While provisioning | Provisioning complete |\n    | ------------------ | --------------------- |\n    | ![Provisioning indicator on startboard](./media/hdinsight-apache-storm-tutorial-get-started-linux/provisioning.png) | ![Provisioned cluster tile](./media/hdinsight-apache-storm-tutorial-get-started-linux/provisioned.png) |\n\n    > [AZURE.NOTE] It will take some time for the cluster to be created, usually around 15 minutes. Use the tile on the Startboard, or the __Notifications__ entry on the left of the page to check on the provisioning process.\n\n##Run a Storm Starter sample on HDInsight\n\nThe [storm-starter](https://github.com/apache/storm/tree/master/examples/storm-starter) examples are included on the HDInsight cluster. In the following steps, you will run the WordCount example.\n\n1. Connect to the HDInsight cluster using SSH:\n\n        ssh USERNAME@CLUSTERNAME-ssh.azurehdinsight.net\n        \n    If you used a password to secure your SSH user account, you will be prompted to enter it. If you used a public key, you may have to use the `-i` parameter to specify the matching private key. For example, `ssh -i ~/.ssh/id_rsa USERNAME@CLUSTERNAME-ssh.azurehdinsight.net`.\n        \n    For more information on using SSH with Linux-based HDInsight, see the following articles:\n    \n    * [Use SSH with Linux-based Hadoop on HDInsight from Linux, Unix, or OS X](hdinsight-hadoop-linux-use-ssh-unix.md)\n\n    * [Use SSH with Linux-based Hadoop on HDInsight from Windows](hdinsight-hadoop-linux-use-ssh-windows)\n\n2. Use the following command to start an example topology:\n\n        storm jar /usr/hdp/current/storm-client/contrib/storm-starter/storm-starter-topologies-0.9.3.2.2.4.9-1.jar storm.starter.WordCountTopology wordcount\n        \n    > [AZURE.NOTE] The `0.9.3.2.2.4.9-1` portion of the file name may change as HDinsight is updated with newer versions of Storm.\n\n    This will start the example WordCount topology on the cluster, with a friendly name of 'wordcount'. It will randomly generate sentences and count the occurrance of each word in the sentences.\n\n    > [AZURE.NOTE] When submitting topology to the cluster, you must first copy the jar file containing the cluster before using the `storm` command. This can be accomplished using the `scp` command from the client where the file exists. For example, `scp FILENAME.jar USERNAME@CLUSTERNAME-ssh.azurehdinsight.net:FILENAME.jar`\n    >\n    > The WordCount example, and other storm starter examples, are already included on your cluster at `/usr/hdp/current/storm-client/contrib/storm-starter/`.\n\n##Monitor the topology\n\nThe Storm UI provides a web interface for working with running topologies, and is included on your HDInsight cluster.\n\nUse the following steps to monitor the topology using the Storm UI:\n\n1. Open a web browser to https://CLUSTERNAME.azurehdinsight.net/stormui, where __CLUSTERNAME__ is the name of your cluster. This will open the Storm UI.\n\n    > [AZURE.NOTE] If asked to provide a user name and password, enter the cluster administrator (admin) and password that you used when creating the cluster.\n\n2. Under **Topology summary**, select the **wordcount** entry in the **Name** column. This will display more information about the topology.\n\n    ![Storm Dashboard with Storm Starter WordCount topology information.](./media/hdinsight-apache-storm-tutorial-get-started-linux/topology-summary.png)\n\n    This page provides the following information:\n\n    * **Topology stats** - Basic information on the topology performance, organized into time windows.\n\n        > [AZURE.NOTE] Selecting a specific time window changes the time window for information displayed in other sections of the page.\n\n    * **Spouts** - Basic information about spouts, including the last error returned by each spout.\n\n    * **Bolts** - Basic information about bolts.\n\n    * **Topology configuration** - Detailed information about the topology configuration.\n\n    This page also provides actions that can be taken on the topology:\n\n    * **Activate** - Resumes processing of a deactivated topology.\n\n    * **Deactivate** - Pauses a running topology.\n\n    * **Rebalance** - Adjusts the parallelism of the topology. You should rebalance running topologies after you have changed the number of nodes in the cluster. This allows the topology to adjust parallelism to compensate for the increased/decreased number of nodes in the cluster. For more information, see [Understanding the parallelism of a Storm topology](http://storm.apache.org/documentation/Understanding-the-parallelism-of-a-Storm-topology.html).\n\n    * **Kill** - Terminates a Storm topology after the specified timeout.\n\n3. From this page, select an entry from the **Spouts** or **Bolts** section. This will display information about the selected component.\n\n    ![Storm Dachborad with information about selected components.](./media/hdinsight-apache-storm-tutorial-get-started-linux/component-summary.png)\n\n    This page displays the following information:\n\n    * **Spout/Bolt stats** - Basic information on the component performance, organized into time windows.\n\n        > [AZURE.NOTE] Selecting a specific time window changes the time window for information displayed in other sections of the page.\n\n    * **Input stats** (bolt only) - Information on components that produce data consumed by the bolt.\n\n    * **Output stats** - Information on data emitted by this bolt.\n\n    * **Executors** - Information on instances of this component.\n\n    * **Errors** - Errors produced by this component.\n\n4. When viewing the details of a spout or bolt, select an entry from the **Port** column in the **Executors** section to view details for a specific instance of the component.\n\n        2015-01-27 14:18:02 b.s.d.task [INFO] Emitting: split default [\"with\"]\n        2015-01-27 14:18:02 b.s.d.task [INFO] Emitting: split default [\"nature\"]\n        2015-01-27 14:18:02 b.s.d.executor [INFO] Processing received message source: split:21, stream: default, id: {}, [snow]\n        2015-01-27 14:18:02 b.s.d.task [INFO] Emitting: count default [snow, 747293]\n        2015-01-27 14:18:02 b.s.d.executor [INFO] Processing received message source: split:21, stream: default, id: {}, [white]\n        2015-01-27 14:18:02 b.s.d.task [INFO] Emitting: count default [white, 747293]\n        2015-01-27 14:18:02 b.s.d.executor [INFO] Processing received message source: split:21, stream: default, id: {}, [seven]\n        2015-01-27 14:18:02 b.s.d.task [INFO] Emitting: count default [seven, 1493957]\n\n    From this data you can see that the word **seven** has occurred 1493957 times. That is how many times it has been encountered since this topology was started.\n\n##Stop the topology\n\nReturn to the **Topology summary** page for the word-count topology, and then select the **Kill** button from the **Topology actions** section. When prompted, enter 10 for the seconds to wait before stopping the topology. After the timeout period, the topology will no longer appear when you visit the **Storm UI** section of the dashboard.\n\n##Summary\n\nIn this Apache Storm tutorial, you used the Storm Starter to learn how to create a Storm on HDInsight cluster and use the Storm Dashboard to deploy, monitor, and manage Storm topologies.\n\n##<a id=\"next\"></a>Next steps\n\n* The following document contains a list of other examples that can be used with Storm on HDInsight:\n\n    * [Example topologies for Storm on HDInsight](hdinsight-storm-example-topology.md)\n\n[apachestorm]: https://storm.incubator.apache.org\n[stormdocs]: http://storm.incubator.apache.org/documentation/Documentation.html\n[stormstarter]: https://github.com/apache/storm/tree/master/examples/storm-starter\n[stormjavadocs]: https://storm.incubator.apache.org/apidocs/\n[azureportal]: https://manage.windowsazure.com/\n[hdinsight-provision]: hdinsight-provision-clusters.md\n[preview-portal]: https://portal.azure.com/"
}