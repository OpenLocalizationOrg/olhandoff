{
  "nodes": [
    {
      "pos": [
        27,
        93
      ],
      "content": "HBase tutorial: Get started with HBase in Hadoop | Microsoft Azure"
    },
    {
      "pos": [
        112,
        260
      ],
      "content": "Follow this HBase tutorial to get started using Apache HBase with Hadoop in HDInsight. Create tables from the HBase shell and query them using Hive.",
      "nodes": [
        {
          "content": "Follow this HBase tutorial to get started using Apache HBase with Hadoop in HDInsight.",
          "pos": [
            0,
            86
          ]
        },
        {
          "content": "Create tables from the HBase shell and query them using Hive.",
          "pos": [
            87,
            148
          ]
        }
      ]
    },
    {
      "pos": [
        635,
        720
      ],
      "content": "HBase tutorial: Get started using Apache HBase with Windows-based Hadoop in HDInsight"
    },
    {
      "pos": [
        800,
        1001
      ],
      "content": "Learn how to create HBase clusters in HDInsight, create HBase tables, and query the tables by using Apache Hive. For general HBase information, see <bpt id=\"p1\">[</bpt>HDInsight HBase overview<ept id=\"p1\">][hdinsight-hbase-overview]</ept>.",
      "nodes": [
        {
          "content": "Learn how to create HBase clusters in HDInsight, create HBase tables, and query the tables by using Apache Hive.",
          "pos": [
            0,
            112
          ]
        },
        {
          "content": "For general HBase information, see <bpt id=\"p1\">[</bpt>HDInsight HBase overview<ept id=\"p1\">][hdinsight-hbase-overview]</ept>.",
          "pos": [
            113,
            239
          ]
        }
      ]
    },
    {
      "pos": [
        1003,
        1182
      ],
      "content": "The information in this document is specific to Windows-based HDInsight clusters. For information on Windows-based clusters, use the tab selector on the top of the page to switch.",
      "nodes": [
        {
          "content": "The information in this document is specific to Windows-based HDInsight clusters.",
          "pos": [
            0,
            81
          ]
        },
        {
          "content": "For information on Windows-based clusters, use the tab selector on the top of the page to switch.",
          "pos": [
            82,
            179
          ]
        }
      ]
    },
    {
      "pos": [
        1186,
        1459
      ],
      "content": "<ph id=\"ph3\">[AZURE.NOTE]</ph><ph id=\"ph4\"/> HBase (version 0.98.0) on Windows-based HDInsight is only available for use with HDInsight 3.1 clusters (based on Apache Hadoop and YARN 2.4.0). For version information, see <bpt id=\"p2\">[</bpt>What's new in the Hadoop cluster versions provided by HDInsight?<ept id=\"p2\">][hdinsight-versions]</ept>",
      "nodes": [
        {
          "content": "<ph id=\"ph3\">[AZURE.NOTE]</ph><ph id=\"ph4\"/> HBase (version 0.98.0) on Windows-based HDInsight is only available for use with HDInsight 3.1 clusters (based on Apache Hadoop and YARN 2.4.0).",
          "pos": [
            0,
            189
          ]
        },
        {
          "content": "For version information, see <bpt id=\"p2\">[</bpt>What's new in the Hadoop cluster versions provided by HDInsight?<ept id=\"p2\">][hdinsight-versions]</ept>",
          "pos": [
            190,
            343
          ]
        }
      ]
    },
    {
      "pos": [
        1464,
        1477
      ],
      "content": "Prerequisites"
    },
    {
      "pos": [
        1479,
        1545
      ],
      "content": "Before you begin this HBase tutorial, you must have the following:"
    },
    {
      "pos": [
        1549,
        1716
      ],
      "content": "<bpt id=\"p3\">**</bpt>A Microsoft Azure subscription<ept id=\"p3\">**</ept>. See <bpt id=\"p4\">[</bpt>Get Azure free trial<ept id=\"p4\">](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/)</ept>.",
      "nodes": [
        {
          "content": "<bpt id=\"p3\">**</bpt>A Microsoft Azure subscription<ept id=\"p3\">**</ept>.",
          "pos": [
            0,
            73
          ]
        },
        {
          "content": "See <bpt id=\"p4\">[</bpt>Get Azure free trial<ept id=\"p4\">](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/)</ept>.",
          "pos": [
            74,
            243
          ]
        }
      ]
    },
    {
      "pos": [
        1719,
        1868
      ],
      "content": "<bpt id=\"p5\">**</bpt>A workstation<ept id=\"p5\">**</ept><ph id=\"ph5\"/> with Visual Studio 2013 or greater: For instructions, see <bpt id=\"p6\">[</bpt>Install Visual Studio<ept id=\"p6\">](http://msdn.microsoft.com/library/e2h7fzkw.aspx)</ept>."
    },
    {
      "pos": [
        1873,
        1893
      ],
      "content": "Create HBase cluster"
    },
    {
      "pos": [
        1973,
        2029
      ],
      "content": "<bpt id=\"p7\">**</bpt>To create an HBase cluster by using the Azure portal<ept id=\"p7\">**</ept>"
    },
    {
      "pos": [
        2034,
        2089
      ],
      "content": "Sign in to the <bpt id=\"p8\">[</bpt>Azure portal<ept id=\"p8\">][azure-management-portal]</ept>."
    },
    {
      "pos": [
        2093,
        2193
      ],
      "content": "Click <bpt id=\"p9\">**</bpt>New<ept id=\"p9\">**</ept><ph id=\"ph7\"/> or <bpt id=\"p10\">**</bpt>+<ept id=\"p10\">**</ept><ph id=\"ph8\"/> in the upper left corner, and then click <bpt id=\"p11\">**</bpt>Data + Analytics<ept id=\"p11\">**</ept>, <bpt id=\"p12\">**</bpt>HDInsight<ept id=\"p12\">**</ept>."
    },
    {
      "pos": [
        2197,
        2224
      ],
      "content": "Enter the following values:"
    },
    {
      "pos": [
        2232,
        2289
      ],
      "content": "<bpt id=\"p13\">**</bpt>Cluster Name<ept id=\"p13\">**</ept><ph id=\"ph9\"/> - Enter a name to identify this cluster."
    },
    {
      "pos": [
        2296,
        2332
      ],
      "content": "<bpt id=\"p14\">**</bpt>Cluster Type<ept id=\"p14\">**</ept><ph id=\"ph10\"/> - Select <bpt id=\"p15\">**</bpt>HBase<ept id=\"p15\">**</ept>."
    },
    {
      "pos": [
        2339,
        2565
      ],
      "content": "<bpt id=\"p16\">**</bpt>Cluster Operating System<ept id=\"p16\">**</ept><ph id=\"ph11\"/> - Select <bpt id=\"p17\">**</bpt>Windows<ept id=\"p17\">**</ept>.  For creating Linux-based HBase cluster, see  <bpt id=\"p18\">[</bpt>HBase tutorial: Get started using Apache HBase with Hadoop in HDInsight (Linux)<ept id=\"p18\">](hdinsight-hbase-tutorial-get-started-linux.md)</ept>.",
      "nodes": [
        {
          "content": "<bpt id=\"p16\">**</bpt>Cluster Operating System<ept id=\"p16\">**</ept><ph id=\"ph11\"/> - Select <bpt id=\"p17\">**</bpt>Windows<ept id=\"p17\">**</ept>.",
          "pos": [
            0,
            145
          ]
        },
        {
          "content": "For creating Linux-based HBase cluster, see  <bpt id=\"p18\">[</bpt>HBase tutorial: Get started using Apache HBase with Hadoop in HDInsight (Linux)<ept id=\"p18\">](hdinsight-hbase-tutorial-get-started-linux.md)</ept>.",
          "pos": [
            147,
            361
          ]
        }
      ]
    },
    {
      "pos": [
        2572,
        2610
      ],
      "content": "<bpt id=\"p19\">**</bpt>Version<ept id=\"p19\">**</ept><ph id=\"ph12\"/> - Select an HBase version."
    },
    {
      "pos": [
        2617,
        2698
      ],
      "content": "<bpt id=\"p20\">**</bpt>Subscription<ept id=\"p20\">**</ept><ph id=\"ph13\"/> - Select your Azure subscription used for creating this cluster."
    },
    {
      "pos": [
        2705,
        2875
      ],
      "content": "<bpt id=\"p21\">**</bpt>Resource Group<ept id=\"p21\">**</ept><ph id=\"ph14\"/> -  Create a new Azure resource group or select an existing one. For more information, see <bpt id=\"p22\">[</bpt>Azure Resource Manager Overview<ept id=\"p22\">](resource-group-overview.md)</ept>",
      "nodes": [
        {
          "content": "<bpt id=\"p21\">**</bpt>Resource Group<ept id=\"p21\">**</ept><ph id=\"ph14\"/> -  Create a new Azure resource group or select an existing one.",
          "pos": [
            0,
            137
          ]
        },
        {
          "content": "For more information, see <bpt id=\"p22\">[</bpt>Azure Resource Manager Overview<ept id=\"p22\">](resource-group-overview.md)</ept>",
          "pos": [
            138,
            265
          ]
        }
      ]
    },
    {
      "pos": [
        2882,
        3131
      ],
      "content": "<bpt id=\"p23\">**</bpt>Credentials<ept id=\"p23\">**</ept><ph id=\"ph15\"/> - For Windows based cluster, you can create a cluster user (a.k.a HTTP user, HTTP web service user) and a Remote Desktop user. Click <bpt id=\"p24\">**</bpt>Enable Remote Desktop<ept id=\"p24\">**</ept><ph id=\"ph16\"/> to add the remote desktop user credentials. The next section requires RDP.",
      "nodes": [
        {
          "content": "<bpt id=\"p23\">**</bpt>Credentials<ept id=\"p23\">**</ept><ph id=\"ph15\"/> - For Windows based cluster, you can create a cluster user (a.k.a HTTP user, HTTP web service user) and a Remote Desktop user.",
          "pos": [
            0,
            197
          ]
        },
        {
          "content": "Click <bpt id=\"p24\">**</bpt>Enable Remote Desktop<ept id=\"p24\">**</ept><ph id=\"ph16\"/> to add the remote desktop user credentials.",
          "pos": [
            198,
            328
          ]
        },
        {
          "content": "The next section requires RDP.",
          "pos": [
            329,
            359
          ]
        }
      ]
    },
    {
      "pos": [
        3138,
        3459
      ],
      "content": "<bpt id=\"p25\">**</bpt>Data Source<ept id=\"p25\">**</ept><ph id=\"ph17\"/> - create a new Azure storage account or select an existing Azure storage account to be used as the default file system for the cluster. The default storage account location determines the location of the cluster location. The default storage account and the cluster must co-locate in the same data center.",
      "nodes": [
        {
          "content": "<bpt id=\"p25\">**</bpt>Data Source<ept id=\"p25\">**</ept><ph id=\"ph17\"/> - create a new Azure storage account or select an existing Azure storage account to be used as the default file system for the cluster.",
          "pos": [
            0,
            206
          ]
        },
        {
          "content": "The default storage account location determines the location of the cluster location.",
          "pos": [
            207,
            292
          ]
        },
        {
          "content": "The default storage account and the cluster must co-locate in the same data center.",
          "pos": [
            293,
            376
          ]
        }
      ]
    },
    {
      "pos": [
        3466,
        3548
      ],
      "content": "<bpt id=\"p26\">**</bpt>Node Pricing Tiers<ept id=\"p26\">**</ept><ph id=\"ph18\"/> - Select the number of region servers for the HBase cluster"
    },
    {
      "pos": [
        3560,
        3777
      ],
      "content": "<ph id=\"ph19\">[AZURE.WARNING]</ph><ph id=\"ph20\"/> For high availability of HBase services, you must create a cluster that contains at least <bpt id=\"p27\">**</bpt>three<ept id=\"p27\">**</ept><ph id=\"ph21\"/> nodes. This ensures that, if one node goes down, the HBase data regions are available on other nodes.",
      "nodes": [
        {
          "content": "<ph id=\"ph19\">[AZURE.WARNING]</ph><ph id=\"ph20\"/> For high availability of HBase services, you must create a cluster that contains at least <bpt id=\"p27\">**</bpt>three<ept id=\"p27\">**</ept><ph id=\"ph21\"/> nodes.",
          "pos": [
            0,
            211
          ]
        },
        {
          "content": "This ensures that, if one node goes down, the HBase data regions are available on other nodes.",
          "pos": [
            212,
            306
          ]
        }
      ]
    },
    {
      "pos": [
        3789,
        3911
      ],
      "content": "If you are learning HBase, always choose 1 for the cluster size, and delete the cluster after each use to reduce the cost."
    },
    {
      "pos": [
        3919,
        4043
      ],
      "content": "<bpt id=\"p28\">**</bpt>Optional Configuration<ept id=\"p28\">**</ept><ph id=\"ph22\"/> - Configure Azure virtual network, configure Script actions, and add additional storage accounts."
    },
    {
      "pos": [
        4048,
        4065
      ],
      "content": "Click <bpt id=\"p29\">**</bpt>Create<ept id=\"p29\">**</ept>."
    },
    {
      "pos": [
        4068,
        4309
      ],
      "content": "<ph id=\"ph23\">[AZURE.NOTE]</ph><ph id=\"ph24\"/> After an HBase cluster is deleted, you can create another HBase cluster by using the same default storage account and the default blob container. The new cluster will pick up the HBase tables you created in the original cluster.",
      "nodes": [
        {
          "content": "<ph id=\"ph23\">[AZURE.NOTE]</ph><ph id=\"ph24\"/> After an HBase cluster is deleted, you can create another HBase cluster by using the same default storage account and the default blob container.",
          "pos": [
            0,
            192
          ]
        },
        {
          "content": "The new cluster will pick up the HBase tables you created in the original cluster.",
          "pos": [
            193,
            275
          ]
        }
      ]
    },
    {
      "pos": [
        4314,
        4343
      ],
      "content": "Create tables and insert data"
    },
    {
      "pos": [
        4345,
        4477
      ],
      "content": "Currently, there are two way to access HBase. This section covers using the HBase shell. The next section covers using the .NET SDK.",
      "nodes": [
        {
          "content": "Currently, there are two way to access HBase.",
          "pos": [
            0,
            45
          ]
        },
        {
          "content": "This section covers using the HBase shell.",
          "pos": [
            46,
            88
          ]
        },
        {
          "content": "The next section covers using the .NET SDK.",
          "pos": [
            89,
            132
          ]
        }
      ]
    },
    {
      "pos": [
        4479,
        4531
      ],
      "content": "For most people, data appears in the tabular format:"
    },
    {
      "pos": [
        4533,
        4595
      ],
      "content": "<ph id=\"ph25\">![</ph>hdinsight hbase tabular data<ph id=\"ph26\">][img-hbase-sample-data-tabular]</ph>"
    },
    {
      "pos": [
        4597,
        4671
      ],
      "content": "In HBase which is an implementation of BigTable, the same data looks like:"
    },
    {
      "pos": [
        4673,
        4737
      ],
      "content": "<ph id=\"ph27\">![</ph>hdinsight hbase bigtable data<ph id=\"ph28\">][img-hbase-sample-data-bigtable]</ph>"
    },
    {
      "pos": [
        4739,
        4797
      ],
      "content": "It'll make more sense after you finish the next procedure."
    },
    {
      "pos": [
        4801,
        4827
      ],
      "content": "<bpt id=\"p30\">**</bpt>To use the HBase shell<ept id=\"p30\">**</ept>"
    },
    {
      "pos": [
        4832,
        5003
      ],
      "content": "Use RDP to connect to your HBase cluster in HDInsight. For the RDP instructions, see <bpt id=\"p31\">[</bpt>Manage Hadoop clusters in HDInsight using the Azure Portal<ept id=\"p31\">][hdinsight-manage-portal]</ept>.",
      "nodes": [
        {
          "content": "Use RDP to connect to your HBase cluster in HDInsight.",
          "pos": [
            0,
            54
          ]
        },
        {
          "content": "For the RDP instructions, see <bpt id=\"p31\">[</bpt>Manage Hadoop clusters in HDInsight using the Azure Portal<ept id=\"p31\">][hdinsight-manage-portal]</ept>.",
          "pos": [
            55,
            211
          ]
        }
      ]
    },
    {
      "pos": [
        5007,
        5098
      ],
      "content": "Within your RDP session, click the <bpt id=\"p32\">**</bpt>Hadoop Command Line<ept id=\"p32\">**</ept><ph id=\"ph29\"/> shortcut located on the desktop."
    },
    {
      "pos": [
        5102,
        5123
      ],
      "content": "Open the HBase shell:"
    },
    {
      "pos": [
        5177,
        5218
      ],
      "content": "Create an HBase with two column families:"
    },
    {
      "pos": [
        5284,
        5301
      ],
      "content": "Insert some data:"
    },
    {
      "pos": [
        5598,
        5646
      ],
      "content": "<ph id=\"ph30\">![</ph>hdinsight hadoop hbase shell<ph id=\"ph31\">][img-hbase-shell]</ph>"
    },
    {
      "pos": [
        5651,
        5667
      ],
      "content": "Get a single row"
    },
    {
      "pos": [
        5705,
        5789
      ],
      "content": "You'll see the same results as using the scan command because there is only one row."
    },
    {
      "pos": [
        5795,
        5982
      ],
      "content": "For more information about the Hbase table schema, see <bpt id=\"p33\">[</bpt>Introduction to HBase Schema Design<ept id=\"p33\">][hbase-schema]</ept>. For more HBase commands, see <bpt id=\"p34\">[</bpt>Apache HBase reference guide<ept id=\"p34\">][hbase-quick-start]</ept>.",
      "nodes": [
        {
          "content": "For more information about the Hbase table schema, see <bpt id=\"p33\">[</bpt>Introduction to HBase Schema Design<ept id=\"p33\">][hbase-schema]</ept>.",
          "pos": [
            0,
            147
          ]
        },
        {
          "content": "For more HBase commands, see <bpt id=\"p34\">[</bpt>Apache HBase reference guide<ept id=\"p34\">][hbase-quick-start]</ept>.",
          "pos": [
            148,
            267
          ]
        }
      ]
    },
    {
      "pos": [
        5988,
        6002
      ],
      "content": "Exit the shell"
    },
    {
      "pos": [
        6018,
        6069
      ],
      "content": "<bpt id=\"p35\">**</bpt>To bulk load data into the contacts HBase table<ept id=\"p35\">**</ept>"
    },
    {
      "pos": [
        6071,
        6222
      ],
      "content": "HBase includes several methods of loading data into tables. For more information, see <bpt id=\"p36\">[</bpt>Bulk loading<ept id=\"p36\">](http://hbase.apache.org/book.html#arch.bulk.load)</ept>.",
      "nodes": [
        {
          "content": "HBase includes several methods of loading data into tables.",
          "pos": [
            0,
            59
          ]
        },
        {
          "content": "For more information, see <bpt id=\"p36\">[</bpt>Bulk loading<ept id=\"p36\">](http://hbase.apache.org/book.html#arch.bulk.load)</ept>.",
          "pos": [
            60,
            191
          ]
        }
      ]
    },
    {
      "pos": [
        6225,
        6395
      ],
      "content": "A sample data file has been uploaded to a public blob container, wasb://hbasecontacts@hditutorialdata.blob.core.windows.net/contacts.txt. The content of the data file is:",
      "nodes": [
        {
          "content": "A sample data file has been uploaded to a public blob container, wasb://hbasecontacts@hditutorialdata.blob.core.windows.net/contacts.txt.",
          "pos": [
            0,
            137
          ]
        },
        {
          "content": "The content of the data file is:",
          "pos": [
            138,
            170
          ]
        }
      ]
    },
    {
      "pos": [
        7170,
        7350
      ],
      "content": "You can create a text file and upload the file to your own storage account if you want. For the instructions, see <bpt id=\"p37\">[</bpt>Upload data for Hadoop jobs in HDInsight<ept id=\"p37\">][hdinsight-upload-data]</ept>.",
      "nodes": [
        {
          "content": "You can create a text file and upload the file to your own storage account if you want.",
          "pos": [
            0,
            87
          ]
        },
        {
          "content": "For the instructions, see <bpt id=\"p37\">[</bpt>Upload data for Hadoop jobs in HDInsight<ept id=\"p37\">][hdinsight-upload-data]</ept>.",
          "pos": [
            88,
            220
          ]
        }
      ]
    },
    {
      "pos": [
        7354,
        7446
      ],
      "content": "<ph id=\"ph32\">[AZURE.NOTE]</ph><ph id=\"ph33\"/> This procedure uses the Contacts HBase table you created in the last procedure."
    },
    {
      "pos": [
        7451,
        7542
      ],
      "content": "Within your RDP session, click the <bpt id=\"p38\">**</bpt>Hadoop Command Line<ept id=\"p38\">**</ept><ph id=\"ph34\"/> shortcut located on the desktop."
    },
    {
      "pos": [
        7546,
        7563
      ],
      "content": "Change directory:"
    },
    {
      "pos": [
        7597,
        7729
      ],
      "content": "Run the following command to transform the data file to StoreFiles and store at a relative path specified by Dimporttsv.bulk.output:"
    },
    {
      "pos": [
        8030,
        8133
      ],
      "content": "Run the following command to upload the data from /example/data/storeDataFileOutput to the HBase table:"
    },
    {
      "pos": [
        8252,
        8333
      ],
      "content": "You can open the HBase shell, and use the scan command to list the table content."
    },
    {
      "pos": [
        8340,
        8370
      ],
      "content": "Use Hive to query HBase tables"
    },
    {
      "pos": [
        8372,
        8535
      ],
      "content": "You can query data stored in HBase by using Hive. This section creates a Hive table that maps to the HBase table and uses it to query the data in your HBase table.",
      "nodes": [
        {
          "content": "You can query data stored in HBase by using Hive.",
          "pos": [
            0,
            49
          ]
        },
        {
          "content": "This section creates a Hive table that maps to the HBase table and uses it to query the data in your HBase table.",
          "pos": [
            50,
            163
          ]
        }
      ]
    },
    {
      "pos": [
        8537,
        8570
      ],
      "content": "<bpt id=\"p39\">**</bpt>To open the cluster dashboard<ept id=\"p39\">**</ept>"
    },
    {
      "pos": [
        8575,
        8642
      ],
      "content": "Browse to <bpt id=\"p40\">**</bpt>https://<ph id=\"ph35\">&lt;HDInsight Cluster Name&gt;</ph>.azurehdinsight.net/<ept id=\"p40\">**</ept>."
    },
    {
      "pos": [
        8646,
        8825
      ],
      "content": "Enter the Hadoop user account user name and password. The default user name is <bpt id=\"p41\">**</bpt>admin<ept id=\"p41\">**</ept><ph id=\"ph36\"/> and the password is what you entered during the creation process. A new browser tab opens.",
      "nodes": [
        {
          "content": "Enter the Hadoop user account user name and password.",
          "pos": [
            0,
            53
          ]
        },
        {
          "content": "The default user name is <bpt id=\"p41\">**</bpt>admin<ept id=\"p41\">**</ept><ph id=\"ph36\"/> and the password is what you entered during the creation process.",
          "pos": [
            54,
            209
          ]
        },
        {
          "content": "A new browser tab opens.",
          "pos": [
            210,
            234
          ]
        }
      ]
    },
    {
      "pos": [
        8829,
        8907
      ],
      "content": "Click <bpt id=\"p42\">**</bpt>Hive Editor<ept id=\"p42\">**</ept><ph id=\"ph37\"/> at the top of the page. The Hive Editor looks like this:",
      "nodes": [
        {
          "content": "Click <bpt id=\"p42\">**</bpt>Hive Editor<ept id=\"p42\">**</ept><ph id=\"ph37\"/> at the top of the page.",
          "pos": [
            0,
            100
          ]
        },
        {
          "content": "The Hive Editor looks like this:",
          "pos": [
            101,
            133
          ]
        }
      ]
    },
    {
      "pos": [
        8913,
        8977
      ],
      "content": "<ph id=\"ph38\">![</ph>HDInsight cluster dashboard.<ph id=\"ph39\">][img-hdinsight-hbase-hive-editor]</ph>"
    },
    {
      "pos": [
        8979,
        9002
      ],
      "content": "<bpt id=\"p43\">**</bpt>To run Hive queries<ept id=\"p43\">**</ept>"
    },
    {
      "pos": [
        9007,
        9267
      ],
      "content": "Enter the following HiveQL script into Hive Editor and click <bpt id=\"p44\">**</bpt>Submit<ept id=\"p44\">**</ept><ph id=\"ph40\"/> to create a Hive Table that maps to the HBase table. Make sure that you created the sample table referenced earlier in this tutorial by using the HBase shell before you run this statement.",
      "nodes": [
        {
          "content": "Enter the following HiveQL script into Hive Editor and click <bpt id=\"p44\">**</bpt>Submit<ept id=\"p44\">**</ept><ph id=\"ph40\"/> to create a Hive Table that maps to the HBase table.",
          "pos": [
            0,
            179
          ]
        },
        {
          "content": "Make sure that you created the sample table referenced earlier in this tutorial by using the HBase shell before you run this statement.",
          "pos": [
            180,
            315
          ]
        }
      ]
    },
    {
      "pos": [
        9653,
        9704
      ],
      "content": "Wait until the <bpt id=\"p45\">**</bpt>Status<ept id=\"p45\">**</ept><ph id=\"ph41\"/> updates to <bpt id=\"p46\">**</bpt>Completed<ept id=\"p46\">**</ept>."
    },
    {
      "pos": [
        9709,
        9839
      ],
      "content": "Enter the following HiveQL script into Hive Editor, and then click <bpt id=\"p47\">**</bpt>Submit<ept id=\"p47\">**</ept>. The Hive query queries the data in the HBase table:",
      "nodes": [
        {
          "content": "Enter the following HiveQL script into Hive Editor, and then click <bpt id=\"p47\">**</bpt>Submit<ept id=\"p47\">**</ept>.",
          "pos": [
            0,
            118
          ]
        },
        {
          "content": "The Hive query queries the data in the HBase table:",
          "pos": [
            119,
            170
          ]
        }
      ]
    },
    {
      "pos": [
        9889,
        10112
      ],
      "content": "To retrieve the results of the Hive query, click the <bpt id=\"p48\">**</bpt>View Details<ept id=\"p48\">**</ept><ph id=\"ph42\"/> link in the <bpt id=\"p49\">**</bpt>Job Session<ept id=\"p49\">**</ept><ph id=\"ph43\"/> window when the job finishes running. There will be only one job output file because you put one record into the HBase table.",
      "nodes": [
        {
          "content": "To retrieve the results of the Hive query, click the <bpt id=\"p48\">**</bpt>View Details<ept id=\"p48\">**</ept><ph id=\"ph42\"/> link in the <bpt id=\"p49\">**</bpt>Job Session<ept id=\"p49\">**</ept><ph id=\"ph43\"/> window when the job finishes running.",
          "pos": [
            0,
            245
          ]
        },
        {
          "content": "There will be only one job output file because you put one record into the HBase table.",
          "pos": [
            246,
            333
          ]
        }
      ]
    },
    {
      "pos": [
        10117,
        10146
      ],
      "content": "<bpt id=\"p50\">**</bpt>To browse the output file<ept id=\"p50\">**</ept>"
    },
    {
      "pos": [
        10151,
        10196
      ],
      "content": "In the Query Console, click <bpt id=\"p51\">**</bpt>File Browser<ept id=\"p51\">**</ept>."
    },
    {
      "pos": [
        10200,
        10294
      ],
      "content": "Click the Azure storage account that is used as the default file system for the HBase cluster."
    },
    {
      "pos": [
        10298,
        10394
      ],
      "content": "Click the HBase cluster name. The default Azure storage account container uses the cluster name.",
      "nodes": [
        {
          "content": "Click the HBase cluster name.",
          "pos": [
            0,
            29
          ]
        },
        {
          "content": "The default Azure storage account container uses the cluster name.",
          "pos": [
            30,
            96
          ]
        }
      ]
    },
    {
      "pos": [
        10398,
        10471
      ],
      "content": "Click <bpt id=\"p52\">**</bpt>User<ept id=\"p52\">**</ept>, and then click <bpt id=\"p53\">**</bpt>Admin<ept id=\"p53\">**</ept>. (This is the Hadoop user name.)",
      "nodes": [
        {
          "content": "Click <bpt id=\"p52\">**</bpt>User<ept id=\"p52\">**</ept>, and then click <bpt id=\"p53\">**</bpt>Admin<ept id=\"p53\">**</ept>.",
          "pos": [
            0,
            121
          ]
        },
        {
          "content": "(This is the Hadoop user name.)",
          "pos": [
            122,
            153
          ]
        }
      ]
    },
    {
      "pos": [
        10475,
        10579
      ],
      "content": "Click the job name with the <bpt id=\"p54\">**</bpt>Last Modified<ept id=\"p54\">**</ept><ph id=\"ph44\"/> time that matches the time when the SELECT Hive query ran."
    },
    {
      "pos": [
        10583,
        10677
      ],
      "content": "Click <bpt id=\"p55\">**</bpt>stdout<ept id=\"p55\">**</ept>. Save the file and open the file with Notepad. There will be one output file.",
      "nodes": [
        {
          "content": "Click <bpt id=\"p55\">**</bpt>stdout<ept id=\"p55\">**</ept>.",
          "pos": [
            0,
            57
          ]
        },
        {
          "content": "Save the file and open the file with Notepad.",
          "pos": [
            58,
            103
          ]
        },
        {
          "content": "There will be one output file.",
          "pos": [
            104,
            134
          ]
        }
      ]
    },
    {
      "pos": [
        10683,
        10760
      ],
      "content": "<ph id=\"ph45\">![</ph>HDInsight HBase Hive Editor File Browser<ph id=\"ph46\">][img-hdinsight-hbase-file-browser]</ph>"
    },
    {
      "pos": [
        10765,
        10807
      ],
      "content": "Use the .NET HBase REST API client library"
    },
    {
      "pos": [
        10809,
        11008
      ],
      "content": "You must download the HBase REST API client library for .NET from GitHub and build the project so that you can use the HBase .NET SDK. The following procedure includes the instructions for this task.",
      "nodes": [
        {
          "content": "You must download the HBase REST API client library for .NET from GitHub and build the project so that you can use the HBase .NET SDK.",
          "pos": [
            0,
            134
          ]
        },
        {
          "content": "The following procedure includes the instructions for this task.",
          "pos": [
            135,
            199
          ]
        }
      ]
    },
    {
      "pos": [
        11013,
        11079
      ],
      "content": "Create a new C# Visual Studio Windows Desktop Console application."
    },
    {
      "pos": [
        11083,
        11202
      ],
      "content": "Open the NuGet Package Manager Console by clicking <bpt id=\"p56\">**</bpt>Tools<ept id=\"p56\">**</ept><ph id=\"ph47\"/> &gt; <bpt id=\"p57\">**</bpt>NuGet Package Manager<ept id=\"p57\">**</ept><ph id=\"ph48\"/> &gt; <bpt id=\"p58\">**</bpt>Package Manager Console<ept id=\"p58\">**</ept>."
    },
    {
      "pos": [
        11206,
        11253
      ],
      "content": "Run the following NuGet command in the console:"
    },
    {
      "pos": [
        11306,
        11368
      ],
      "content": "Add the following <bpt id=\"p59\">**</bpt>using<ept id=\"p59\">**</ept><ph id=\"ph49\"/> statements at the top of the file:"
    },
    {
      "pos": [
        11475,
        11524
      ],
      "content": "Replace the <bpt id=\"p60\">**</bpt>Main<ept id=\"p60\">**</ept><ph id=\"ph50\"/> function with the following:"
    },
    {
      "pos": [
        14455,
        14510
      ],
      "content": "Set the first three variables in the <bpt id=\"p61\">**</bpt>Main<ept id=\"p61\">**</ept><ph id=\"ph51\"/> function."
    },
    {
      "pos": [
        14514,
        14550
      ],
      "content": "Press <bpt id=\"p62\">**</bpt>F5<ept id=\"p62\">**</ept><ph id=\"ph52\"/> to run the application."
    },
    {
      "pos": [
        14555,
        14575
      ],
      "content": "Check cluster status"
    },
    {
      "pos": [
        14577,
        14715
      ],
      "content": "HBase in HDInsight ships with a Web UI for monitoring clusters. Using the Web UI, you can request statistics or information about regions.",
      "nodes": [
        {
          "content": "HBase in HDInsight ships with a Web UI for monitoring clusters.",
          "pos": [
            0,
            63
          ]
        },
        {
          "content": "Using the Web UI, you can request statistics or information about regions.",
          "pos": [
            64,
            138
          ]
        }
      ]
    },
    {
      "pos": [
        14717,
        14875
      ],
      "content": "To open the Web UI, you must RDP into the cluster, and then click the HMaster Info Web UI shortcut on your desktop, or use the following URL in a web browser:"
    },
    {
      "pos": [
        14924,
        15042
      ],
      "content": "In a high availability cluster, you'll find a link to the current active HBase master node that is hosting the Web UI."
    },
    {
      "pos": [
        15050,
        15062
      ],
      "content": "What's next?"
    },
    {
      "pos": [
        15063,
        15383
      ],
      "content": "In this HBase tutorial for HDInsight, you learned how to create an HBase cluster and how to create tables and view the data in those tables from the HBase shell. You also learned how use a Hive query on data in HBase tables and how to use the HBase C# REST APIs to create an HBase table and retrieve data from the table.",
      "nodes": [
        {
          "content": "In this HBase tutorial for HDInsight, you learned how to create an HBase cluster and how to create tables and view the data in those tables from the HBase shell.",
          "pos": [
            0,
            161
          ]
        },
        {
          "content": "You also learned how use a Hive query on data in HBase tables and how to use the HBase C# REST APIs to create an HBase table and retrieve data from the table.",
          "pos": [
            162,
            320
          ]
        }
      ]
    },
    {
      "pos": [
        15385,
        15411
      ],
      "content": "For more information, see:"
    },
    {
      "pos": [
        15415,
        15642
      ],
      "content": "<bpt id=\"p63\">[</bpt>HDInsight HBase overview<ept id=\"p63\">][hdinsight-hbase-overview]</ept>.\nHBase is an Apache, open-source, NoSQL database built on Hadoop that provides random access and strong consistency for large amounts of unstructured and semistructured data.",
      "nodes": [
        {
          "content": "<bpt id=\"p63\">[</bpt>HDInsight HBase overview<ept id=\"p63\">][hdinsight-hbase-overview]</ept>.",
          "pos": [
            0,
            93
          ]
        },
        {
          "content": "HBase is an Apache, open-source, NoSQL database built on Hadoop that provides random access and strong consistency for large amounts of unstructured and semistructured data.",
          "pos": [
            94,
            267
          ]
        }
      ]
    },
    {
      "pos": [
        15645,
        15898
      ],
      "content": "<bpt id=\"p64\">[</bpt>Create HBase clusters on Azure Virtual Network<ept id=\"p64\">][hdinsight-hbase-provision-vnet]</ept>.\nWith virtual network integration, HBase clusters can be deployed to the same virtual network as your applications so that applications can communicate with HBase directly.",
      "nodes": [
        {
          "content": "<bpt id=\"p64\">[</bpt>Create HBase clusters on Azure Virtual Network<ept id=\"p64\">][hdinsight-hbase-provision-vnet]</ept>.",
          "pos": [
            0,
            121
          ]
        },
        {
          "content": "With virtual network integration, HBase clusters can be deployed to the same virtual network as your applications so that applications can communicate with HBase directly.",
          "pos": [
            122,
            293
          ]
        }
      ]
    },
    {
      "pos": [
        15901,
        16051
      ],
      "content": "<bpt id=\"p65\">[</bpt>Configure HBase replication in HDInsight<ept id=\"p65\">](hdinsight-hbase-geo-replication.md)</ept>. Learn how to configure HBase replication across two Azure datacenters.",
      "nodes": [
        {
          "content": "<bpt id=\"p65\">[</bpt>Configure HBase replication in HDInsight<ept id=\"p65\">](hdinsight-hbase-geo-replication.md)</ept>.",
          "pos": [
            0,
            119
          ]
        },
        {
          "content": "Learn how to configure HBase replication across two Azure datacenters.",
          "pos": [
            120,
            190
          ]
        }
      ]
    },
    {
      "pos": [
        16054,
        16288
      ],
      "content": "<bpt id=\"p66\">[</bpt>Analyze Twitter sentiment with HBase in HDInsight<ept id=\"p66\">][hbase-twitter-sentiment]</ept>.\nLearn how to do real-time <bpt id=\"p67\">[</bpt>sentiment analysis<ept id=\"p67\">](http://en.wikipedia.org/wiki/Sentiment_analysis)</ept><ph id=\"ph53\"/> of big data by using HBase in a Hadoop cluster in HDInsight.",
      "nodes": [
        {
          "content": "<bpt id=\"p66\">[</bpt>Analyze Twitter sentiment with HBase in HDInsight<ept id=\"p66\">][hbase-twitter-sentiment]</ept>.",
          "pos": [
            0,
            117
          ]
        },
        {
          "content": "Learn how to do real-time <bpt id=\"p67\">[</bpt>sentiment analysis<ept id=\"p67\">](http://en.wikipedia.org/wiki/Sentiment_analysis)</ept><ph id=\"ph53\"/> of big data by using HBase in a Hadoop cluster in HDInsight.",
          "pos": [
            118,
            329
          ]
        }
      ]
    }
  ],
  "content": "<properties\n    pageTitle=\"HBase tutorial: Get started with HBase in Hadoop | Microsoft Azure\"\n    description=\"Follow this HBase tutorial to get started using Apache HBase with Hadoop in HDInsight. Create tables from the HBase shell and query them using Hive.\"\n    keywords=\"apache hbase,hbase,hbase shell,hbase tutorial\"\n    services=\"hdinsight\"\n    documentationCenter=\"\"\n    authors=\"mumian\"\n    manager=\"paulettm\"\n    editor=\"cgronlun\"/>\n\n<tags\n    ms.service=\"hdinsight\"\n    ms.workload=\"big-data\"\n    ms.tgt_pltfrm=\"na\"\n    ms.devlang=\"na\"\n    ms.topic=\"get-started-article\"\n    ms.date=\"02/05/2016\"\n    ms.author=\"jgao\"/>\n\n\n\n# HBase tutorial: Get started using Apache HBase with Windows-based Hadoop in HDInsight\n\n[AZURE.INCLUDE [hbase-selector](../../includes/hdinsight-hbase-selector.md)]\n\nLearn how to create HBase clusters in HDInsight, create HBase tables, and query the tables by using Apache Hive. For general HBase information, see [HDInsight HBase overview][hdinsight-hbase-overview].\n\nThe information in this document is specific to Windows-based HDInsight clusters. For information on Windows-based clusters, use the tab selector on the top of the page to switch.\n\n> [AZURE.NOTE] HBase (version 0.98.0) on Windows-based HDInsight is only available for use with HDInsight 3.1 clusters (based on Apache Hadoop and YARN 2.4.0). For version information, see [What's new in the Hadoop cluster versions provided by HDInsight?][hdinsight-versions]\n\n###Prerequisites\n\nBefore you begin this HBase tutorial, you must have the following:\n\n- **A Microsoft Azure subscription**. See [Get Azure free trial](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).\n- **A workstation** with Visual Studio 2013 or greater: For instructions, see [Install Visual Studio](http://msdn.microsoft.com/library/e2h7fzkw.aspx).\n\n## Create HBase cluster\n\n[AZURE.INCLUDE [provisioningnote](../../includes/hdinsight-provisioning.md)]\n\n**To create an HBase cluster by using the Azure portal**\n\n1. Sign in to the [Azure portal][azure-management-portal].\n2. Click **New** or **+** in the upper left corner, and then click **Data + Analytics**, **HDInsight**.\n3. Enter the following values:\n\n    - **Cluster Name** - Enter a name to identify this cluster.\n    - **Cluster Type** - Select **HBase**.\n    - **Cluster Operating System** - Select **Windows**.  For creating Linux-based HBase cluster, see  [HBase tutorial: Get started using Apache HBase with Hadoop in HDInsight (Linux)](hdinsight-hbase-tutorial-get-started-linux.md).\n    - **Version** - Select an HBase version.\n    - **Subscription** - Select your Azure subscription used for creating this cluster.\n    - **Resource Group** -  Create a new Azure resource group or select an existing one. For more information, see [Azure Resource Manager Overview](resource-group-overview.md)\n    - **Credentials** - For Windows based cluster, you can create a cluster user (a.k.a HTTP user, HTTP web service user) and a Remote Desktop user. Click **Enable Remote Desktop** to add the remote desktop user credentials. The next section requires RDP.\n    - **Data Source** - create a new Azure storage account or select an existing Azure storage account to be used as the default file system for the cluster. The default storage account location determines the location of the cluster location. The default storage account and the cluster must co-locate in the same data center.\n    - **Node Pricing Tiers** - Select the number of region servers for the HBase cluster\n\n        > [AZURE.WARNING] For high availability of HBase services, you must create a cluster that contains at least **three** nodes. This ensures that, if one node goes down, the HBase data regions are available on other nodes.\n\n        > If you are learning HBase, always choose 1 for the cluster size, and delete the cluster after each use to reduce the cost.\n\n    - **Optional Configuration** - Configure Azure virtual network, configure Script actions, and add additional storage accounts.\n\n4. Click **Create**.\n\n>[AZURE.NOTE] After an HBase cluster is deleted, you can create another HBase cluster by using the same default storage account and the default blob container. The new cluster will pick up the HBase tables you created in the original cluster.\n\n## Create tables and insert data\n\nCurrently, there are two way to access HBase. This section covers using the HBase shell. The next section covers using the .NET SDK.\n\nFor most people, data appears in the tabular format:\n\n![hdinsight hbase tabular data][img-hbase-sample-data-tabular]\n\nIn HBase which is an implementation of BigTable, the same data looks like:\n\n![hdinsight hbase bigtable data][img-hbase-sample-data-bigtable]\n\nIt'll make more sense after you finish the next procedure.  \n\n**To use the HBase shell**\n\n1. Use RDP to connect to your HBase cluster in HDInsight. For the RDP instructions, see [Manage Hadoop clusters in HDInsight using the Azure Portal][hdinsight-manage-portal].\n2. Within your RDP session, click the **Hadoop Command Line** shortcut located on the desktop.\n3. Open the HBase shell:\n\n        cd %HBASE_HOME%\\bin\n        hbase shell\n\n4. Create an HBase with two column families:\n\n        create 'Contacts', 'Personal', 'Office'\n        list\n5. Insert some data:\n\n        put 'Contacts', '1000', 'Personal:Name', 'John Dole'\n        put 'Contacts', '1000', 'Personal:Phone', '1-425-000-0001'\n        put 'Contacts', '1000', 'Office:Phone', '1-425-000-0002'\n        put 'Contacts', '1000', 'Office:Address', '1111 San Gabriel Dr.'\n        scan 'Contacts'\n\n    ![hdinsight hadoop hbase shell][img-hbase-shell]\n\n6. Get a single row\n\n        get 'Contacts', '1000'\n\n    You'll see the same results as using the scan command because there is only one row.\n\n    For more information about the Hbase table schema, see [Introduction to HBase Schema Design][hbase-schema]. For more HBase commands, see [Apache HBase reference guide][hbase-quick-start].\n\n\n6. Exit the shell\n\n        exit\n\n**To bulk load data into the contacts HBase table**\n\nHBase includes several methods of loading data into tables. For more information, see [Bulk loading](http://hbase.apache.org/book.html#arch.bulk.load).\n\n\nA sample data file has been uploaded to a public blob container, wasb://hbasecontacts@hditutorialdata.blob.core.windows.net/contacts.txt. The content of the data file is:\n\n    8396    Calvin Raji     230-555-0191    230-555-0191    5415 San Gabriel Dr.\n    16600   Karen Wu        646-555-0113    230-555-0192    9265 La Paz\n    4324    Karl Xie        508-555-0163    230-555-0193    4912 La Vuelta\n    16891   Jonn Jackson    674-555-0110    230-555-0194    40 Ellis St.\n    3273    Miguel Miller   397-555-0155    230-555-0195    6696 Anchor Drive\n    3588    Osa Agbonile    592-555-0152    230-555-0196    1873 Lion Circle\n    10272   Julia Lee       870-555-0110    230-555-0197    3148 Rose Street\n    4868    Jose Hayes      599-555-0171    230-555-0198    793 Crawford Street\n    4761    Caleb Alexander 670-555-0141    230-555-0199    4775 Kentucky Dr.\n    16443   Terry Chander   998-555-0171    230-555-0200    771 Northridge Drive\n\nYou can create a text file and upload the file to your own storage account if you want. For the instructions, see [Upload data for Hadoop jobs in HDInsight][hdinsight-upload-data].\n\n> [AZURE.NOTE] This procedure uses the Contacts HBase table you created in the last procedure.\n\n1. Within your RDP session, click the **Hadoop Command Line** shortcut located on the desktop.\n2. Change directory:\n\n        cd %HBASE_HOME%\\bin\n\n3. Run the following command to transform the data file to StoreFiles and store at a relative path specified by Dimporttsv.bulk.output:\n\n        hbase org.apache.hadoop.hbase.mapreduce.ImportTsv -Dimporttsv.columns=\"HBASE_ROW_KEY,Personal:Name, Personal:Phone, Office:Phone, Office:Address\" -Dimporttsv.bulk.output=\"/example/data/storeDataFileOutput\" Contacts wasb://hbasecontacts@hditutorialdata.blob.core.windows.net/contacts.txt\n\n4. Run the following command to upload the data from /example/data/storeDataFileOutput to the HBase table:\n\n        hbase org.apache.hadoop.hbase.mapreduce.LoadIncrementalHFiles /example/data/storeDataFileOutput Contacts\n\n5. You can open the HBase shell, and use the scan command to list the table content.\n\n\n\n## Use Hive to query HBase tables\n\nYou can query data stored in HBase by using Hive. This section creates a Hive table that maps to the HBase table and uses it to query the data in your HBase table.\n\n**To open the cluster dashboard**\n\n1. Browse to **https://<HDInsight Cluster Name>.azurehdinsight.net/**.\n5. Enter the Hadoop user account user name and password. The default user name is **admin** and the password is what you entered during the creation process. A new browser tab opens.\n6. Click **Hive Editor** at the top of the page. The Hive Editor looks like this:\n\n    ![HDInsight cluster dashboard.][img-hdinsight-hbase-hive-editor]\n\n**To run Hive queries**\n\n1. Enter the following HiveQL script into Hive Editor and click **Submit** to create a Hive Table that maps to the HBase table. Make sure that you created the sample table referenced earlier in this tutorial by using the HBase shell before you run this statement.\n\n        CREATE EXTERNAL TABLE hbasecontacts(rowkey STRING, name STRING, homephone STRING, officephone STRING, officeaddress STRING)\n        STORED BY 'org.apache.hadoop.hive.hbase.HBaseStorageHandler'\n        WITH SERDEPROPERTIES ('hbase.columns.mapping' = ':key,Personal:Name,Personal:Phone,Office:Phone,Office:Address')\n        TBLPROPERTIES ('hbase.table.name' = 'Contacts');\n\n    Wait until the **Status** updates to **Completed**.\n\n2. Enter the following HiveQL script into Hive Editor, and then click **Submit**. The Hive query queries the data in the HBase table:\n\n        SELECT count(*) FROM hbasecontacts;\n\n4. To retrieve the results of the Hive query, click the **View Details** link in the **Job Session** window when the job finishes running. There will be only one job output file because you put one record into the HBase table.\n\n\n\n\n**To browse the output file**\n\n1. In the Query Console, click **File Browser**.\n2. Click the Azure storage account that is used as the default file system for the HBase cluster.\n3. Click the HBase cluster name. The default Azure storage account container uses the cluster name.\n4. Click **User**, and then click **Admin**. (This is the Hadoop user name.)\n6. Click the job name with the **Last Modified** time that matches the time when the SELECT Hive query ran.\n4. Click **stdout**. Save the file and open the file with Notepad. There will be one output file.\n\n    ![HDInsight HBase Hive Editor File Browser][img-hdinsight-hbase-file-browser]\n\n## Use the .NET HBase REST API client library\n\nYou must download the HBase REST API client library for .NET from GitHub and build the project so that you can use the HBase .NET SDK. The following procedure includes the instructions for this task.\n\n1. Create a new C# Visual Studio Windows Desktop Console application.\n2. Open the NuGet Package Manager Console by clicking **Tools** > **NuGet Package Manager** > **Package Manager Console**.\n3. Run the following NuGet command in the console:\n\n        Install-Package Microsoft.HBase.Client\n\n5. Add the following **using** statements at the top of the file:\n\n        using Microsoft.HBase.Client;\n        using org.apache.hadoop.hbase.rest.protobuf.generated;\n\n6. Replace the **Main** function with the following:\n\n        static void Main(string[] args)\n        {\n            string clusterURL = \"https://<yourHBaseClusterName>.azurehdinsight.net\";\n            string hadoopUsername= \"<yourHadoopUsername>\";\n            string hadoopUserPassword = \"<yourHadoopUserPassword>\";\n\n            string hbaseTableName = \"sampleHbaseTable\";\n\n            // Create a new instance of an HBase client.\n            ClusterCredentials creds = new ClusterCredentials(new Uri(clusterURL), hadoopUsername, hadoopUserPassword);\n            HBaseClient hbaseClient = new HBaseClient(creds);\n\n            // Retrieve the cluster version.\n            var version = hbaseClient.GetVersion();\n            Console.WriteLine(\"The HBase cluster version is \" + version);\n\n            // Create a new HBase table.\n            TableSchema testTableSchema = new TableSchema();\n            testTableSchema.name = hbaseTableName;\n            testTableSchema.columns.Add(new ColumnSchema() { name = \"d\" });\n            testTableSchema.columns.Add(new ColumnSchema() { name = \"f\" });\n            hbaseClient.CreateTable(testTableSchema);\n\n            // Insert data into the HBase table.\n            string testKey = \"content\";\n            string testValue = \"the force is strong in this column\";\n            CellSet cellSet = new CellSet();\n            CellSet.Row cellSetRow = new CellSet.Row { key = Encoding.UTF8.GetBytes(testKey) };\n            cellSet.rows.Add(cellSetRow);\n\n            Cell value = new Cell { column = Encoding.UTF8.GetBytes(\"d:starwars\"), data = Encoding.UTF8.GetBytes(testValue) };\n            cellSetRow.values.Add(value);\n            hbaseClient.StoreCells(hbaseTableName, cellSet);\n\n            // Retrieve a cell by its key.\n            cellSet = hbaseClient.GetCells(hbaseTableName, testKey);\n            Console.WriteLine(\"The data with the key '\" + testKey + \"' is: \" + Encoding.UTF8.GetString(cellSet.rows[0].values[0].data));\n            // with the previous insert, it should yield: \"the force is strong in this column\"\n\n            //Scan over rows in a table. Assume the table has integer keys and you want data between keys 25 and 35.\n            Scanner scanSettings = new Scanner()\n            {\n                batch = 10,\n                startRow = BitConverter.GetBytes(25),\n                endRow = BitConverter.GetBytes(35)\n            };\n\n            ScannerInformation scannerInfo = hbaseClient.CreateScanner(hbaseTableName, scanSettings);\n            CellSet next = null;\n            Console.WriteLine(\"Scan results\");\n\n            while ((next = hbaseClient.ScannerGetNext(scannerInfo)) != null)\n            {\n                foreach (CellSet.Row row in next.rows)\n                {\n                    Console.WriteLine(row.key + \" : \" + Encoding.UTF8.GetString(row.values[0].data));\n                }\n            }\n\n            Console.WriteLine(\"Press ENTER to continue ...\");\n            Console.ReadLine();\n        }\n\n7. Set the first three variables in the **Main** function.\n8. Press **F5** to run the application.\n\n## Check cluster status\n\nHBase in HDInsight ships with a Web UI for monitoring clusters. Using the Web UI, you can request statistics or information about regions.\n\nTo open the Web UI, you must RDP into the cluster, and then click the HMaster Info Web UI shortcut on your desktop, or use the following URL in a web browser:\n\n    http://zookeeper[0-2]:60010/master-status\n\nIn a high availability cluster, you'll find a link to the current active HBase master node that is hosting the Web UI.\n\n\n\n\n## What's next?\nIn this HBase tutorial for HDInsight, you learned how to create an HBase cluster and how to create tables and view the data in those tables from the HBase shell. You also learned how use a Hive query on data in HBase tables and how to use the HBase C# REST APIs to create an HBase table and retrieve data from the table.\n\nFor more information, see:\n\n- [HDInsight HBase overview][hdinsight-hbase-overview].\nHBase is an Apache, open-source, NoSQL database built on Hadoop that provides random access and strong consistency for large amounts of unstructured and semistructured data.\n- [Create HBase clusters on Azure Virtual Network][hdinsight-hbase-provision-vnet].\nWith virtual network integration, HBase clusters can be deployed to the same virtual network as your applications so that applications can communicate with HBase directly.\n- [Configure HBase replication in HDInsight](hdinsight-hbase-geo-replication.md). Learn how to configure HBase replication across two Azure datacenters.\n- [Analyze Twitter sentiment with HBase in HDInsight][hbase-twitter-sentiment].\nLearn how to do real-time [sentiment analysis](http://en.wikipedia.org/wiki/Sentiment_analysis) of big data by using HBase in a Hadoop cluster in HDInsight.\n\n[hdinsight-manage-portal]: hdinsight-administer-use-management-portal.md\n[hdinsight-upload-data]: hdinsight-upload-data.md\n[hbase-reference]: http://hbase.apache.org/book.html#importtsv\n[hbase-schema]: http://0b4af6cdc2f0c5998459-c0245c5c937c5dedcca3f1764ecc9b2f.r43.cf2.rackcdn.com/9353-login1210_khurana.pdf\n[hbase-quick-start]: http://hbase.apache.org/book.html#quickstart\n\n\n\n\n\n[hdinsight-hbase-overview]: hdinsight-hbase-overview.md\n[hdinsight-hbase-provision-vnet]: hdinsight-hbase-provision-vnet.md\n[hdinsight-versions]: hdinsight-component-versioning.md\n[hbase-twitter-sentiment]: hdinsight-hbase-analyze-twitter-sentiment.md\n[azure-purchase-options]: http://azure.microsoft.com/pricing/purchase-options/\n[azure-member-offers]: http://azure.microsoft.com/pricing/member-offers/\n[azure-free-trial]: http://azure.microsoft.com/pricing/free-trial/\n[azure-management-portal]: https://portal.azure.com/\n[azure-create-storageaccount]: http://azure.microsoft.com/documentation/articles/storage-create-storage-account/\n\n[img-hdinsight-hbase-cluster-quick-create]: ./media/hdinsight-hbase-tutorial-get-started/hdinsight-hbase-quick-create.png\n[img-hdinsight-hbase-hive-editor]: ./media/hdinsight-hbase-tutorial-get-started/hdinsight-hbase-hive-editor.png\n[img-hdinsight-hbase-file-browser]: ./media/hdinsight-hbase-tutorial-get-started/hdinsight-hbase-file-browser.png\n[img-hbase-shell]: ./media/hdinsight-hbase-tutorial-get-started/hdinsight-hbase-shell.png\n[img-hbase-sample-data-tabular]: ./media/hdinsight-hbase-tutorial-get-started/hdinsight-hbase-contacts-tabular.png\n[img-hbase-sample-data-bigtable]: ./media/hdinsight-hbase-tutorial-get-started/hdinsight-hbase-contacts-bigtable.png\n"
}