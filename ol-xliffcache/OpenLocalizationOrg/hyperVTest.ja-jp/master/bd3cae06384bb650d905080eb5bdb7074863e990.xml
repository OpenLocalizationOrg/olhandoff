{
  "nodes": [
    {
      "pos": [
        27,
        82
      ],
      "content": "Machine Learning APIs: Text Analytics | Microsoft Azure"
    },
    {
      "pos": [
        101,
        270
      ],
      "content": "Text Analytics APIs provided by Azure Machine Learning. It can be used to analyze unstructured text for sentiment analysis, key phrase extraction and language detection.",
      "nodes": [
        {
          "content": "Text Analytics APIs provided by Azure Machine Learning.",
          "pos": [
            0,
            55
          ]
        },
        {
          "content": "It can be used to analyze unstructured text for sentiment analysis, key phrase extraction and language detection.",
          "pos": [
            56,
            169
          ]
        }
      ]
    },
    {
      "pos": [
        593,
        690
      ],
      "content": "Machine Learning APIs: Text Analytics for Sentiment, Key Phrase Extraction and Language Detection"
    },
    {
      "pos": [
        695,
        703
      ],
      "content": "Overview"
    },
    {
      "pos": [
        705,
        1169
      ],
      "content": "The Text Analytics API is a suite of text analytics <bpt id=\"p1\">[</bpt>web services<ept id=\"p1\">]( https://datamarket.azure.com/dataset/amla/text-analytics)</ept><ph id=\"ph2\"/> built with Azure Machine Learning. The API can be used to analyze unstructured text for tasks such as sentiment analysis, key phrase extraction and language detection. No training data is needed to use this API: just bring your text data. This API uses advanced natural language processing techniques to deliver best in class predictions.",
      "nodes": [
        {
          "content": "The Text Analytics API is a suite of text analytics <bpt id=\"p1\">[</bpt>web services<ept id=\"p1\">]( https://datamarket.azure.com/dataset/amla/text-analytics)</ept><ph id=\"ph2\"/> built with Azure Machine Learning.",
          "pos": [
            0,
            212
          ]
        },
        {
          "content": "The API can be used to analyze unstructured text for tasks such as sentiment analysis, key phrase extraction and language detection.",
          "pos": [
            213,
            345
          ]
        },
        {
          "content": "No training data is needed to use this API: just bring your text data.",
          "pos": [
            346,
            416
          ]
        },
        {
          "content": "This API uses advanced natural language processing techniques to deliver best in class predictions.",
          "pos": [
            417,
            516
          ]
        }
      ]
    },
    {
      "pos": [
        1171,
        1426
      ],
      "content": "You can see text analytics in action on our <bpt id=\"p2\">[</bpt>demo site<ept id=\"p2\">](https://text-analytics-demo.azurewebsites.net/)</ept>, where you will also find <bpt id=\"p3\">[</bpt>samples<ept id=\"p3\">](https://text-analytics-demo.azurewebsites.net/Home/SampleCode)</ept><ph id=\"ph3\"/> on how to implement text analytics in C# and Python."
    },
    {
      "pos": [
        1531,
        1549
      ],
      "content": "Sentiment analysis"
    },
    {
      "pos": [
        1551,
        1930
      ],
      "content": "The API returns a numeric score between 0 &amp; 1. Scores close to 1 indicate positive sentiment, while scores close to 0 indicate negative sentiment. Sentiment score is generated using classification techniques. The input features to the classifier include n-grams, features generated from part-of-speech tags, and word embeddings. Currently, English is the only supported language.",
      "nodes": [
        {
          "content": "The API returns a numeric score between 0 &amp; 1.",
          "pos": [
            0,
            50
          ]
        },
        {
          "content": "Scores close to 1 indicate positive sentiment, while scores close to 0 indicate negative sentiment.",
          "pos": [
            51,
            150
          ]
        },
        {
          "content": "Sentiment score is generated using classification techniques.",
          "pos": [
            151,
            212
          ]
        },
        {
          "content": "The input features to the classifier include n-grams, features generated from part-of-speech tags, and word embeddings.",
          "pos": [
            213,
            332
          ]
        },
        {
          "content": "Currently, English is the only supported language.",
          "pos": [
            333,
            383
          ]
        }
      ]
    },
    {
      "pos": [
        1936,
        1957
      ],
      "content": "Key phrase extraction"
    },
    {
      "pos": [
        1959,
        2190
      ],
      "content": "The API returns a list of strings denoting the key talking points in the input text. We employ techniques from Microsoft Office's sophisticated Natural Language Processing toolkit. Currently, English is the only supported language.",
      "nodes": [
        {
          "content": "The API returns a list of strings denoting the key talking points in the input text.",
          "pos": [
            0,
            84
          ]
        },
        {
          "content": "We employ techniques from Microsoft Office's sophisticated Natural Language Processing toolkit.",
          "pos": [
            85,
            180
          ]
        },
        {
          "content": "Currently, English is the only supported language.",
          "pos": [
            181,
            231
          ]
        }
      ]
    },
    {
      "pos": [
        2195,
        2213
      ],
      "content": "Language detection"
    },
    {
      "pos": [
        2215,
        2407
      ],
      "content": "The API returns the detected language and a numeric score between 0 &amp; 1. Scores close to 1 indicate 100% certainty that the identified language is true. A total of 120 languages are supported.",
      "nodes": [
        {
          "content": "The API returns the detected language and a numeric score between 0 &amp; 1.",
          "pos": [
            0,
            76
          ]
        },
        {
          "content": "Scores close to 1 indicate 100% certainty that the identified language is true.",
          "pos": [
            77,
            156
          ]
        },
        {
          "content": "A total of 120 languages are supported.",
          "pos": [
            157,
            196
          ]
        }
      ]
    },
    {
      "pos": [
        2417,
        2431
      ],
      "content": "API Definition"
    },
    {
      "pos": [
        2437,
        2444
      ],
      "content": "Headers"
    },
    {
      "pos": [
        2446,
        2534
      ],
      "content": "Ensure that you include the correct headers in your request, which should be as follows:"
    },
    {
      "pos": [
        2692,
        2810
      ],
      "content": "You can find your account key from your account in the <bpt id=\"p4\">[</bpt>Azure Data Market<ept id=\"p4\">](https://datamarket.azure.com/account/keys)</ept>."
    },
    {
      "pos": [
        2821,
        2841
      ],
      "content": "Single Response APIs"
    },
    {
      "pos": [
        2847,
        2859
      ],
      "content": "GetSentiment"
    },
    {
      "pos": [
        2861,
        2868
      ],
      "content": "<bpt id=\"p5\">**</bpt>URL<ept id=\"p5\">**</ept>"
    },
    {
      "pos": [
        2955,
        2974
      ],
      "content": "<bpt id=\"p6\">**</bpt>Example request<ept id=\"p6\">**</ept>"
    },
    {
      "pos": [
        2976,
        3061
      ],
      "content": "In the call below, we are requesting sentiment analysis for the phrase \"Hello World\":"
    },
    {
      "pos": [
        3168,
        3207
      ],
      "content": "This will return a response as follows:"
    },
    {
      "pos": [
        3353,
        3366
      ],
      "content": "GetKeyPhrases"
    },
    {
      "pos": [
        3368,
        3375
      ],
      "content": "<bpt id=\"p7\">**</bpt>URL<ept id=\"p7\">**</ept>"
    },
    {
      "pos": [
        3462,
        3481
      ],
      "content": "<bpt id=\"p8\">**</bpt>Example request<ept id=\"p8\">**</ept>"
    },
    {
      "pos": [
        3483,
        3630
      ],
      "content": "In the call below, we are requesting the key phrases found in the text \"It was a wonderful hotel to stay at, with unique decor and friendly staff\":"
    },
    {
      "pos": [
        3805,
        3844
      ],
      "content": "This will return a response as follows:"
    },
    {
      "pos": [
        4076,
        4087
      ],
      "content": "GetLanguage"
    },
    {
      "pos": [
        4089,
        4096
      ],
      "content": "<bpt id=\"p9\">**</bpt>URL<ept id=\"p9\">**</ept>"
    },
    {
      "pos": [
        4181,
        4200
      ],
      "content": "<bpt id=\"p10\">**</bpt>Example request<ept id=\"p10\">**</ept>"
    },
    {
      "pos": [
        4202,
        4306
      ],
      "content": "In the GET call below, we are requesting for the sentiment for the key phrases in the text <bpt id=\"p11\">*</bpt>Hello World<ept id=\"p11\">*</ept>"
    },
    {
      "pos": [
        4418,
        4457
      ],
      "content": "This will return a response as follows:"
    },
    {
      "pos": [
        4620,
        4643
      ],
      "content": "<bpt id=\"p12\">**</bpt>Optional parameters<ept id=\"p12\">**</ept>"
    },
    {
      "pos": [
        4645,
        4716
      ],
      "content": "<ph id=\"ph5\">`NumberOfLanguagesToDetect`</ph><ph id=\"ph6\"/> is an optional parameter. The default is 1.",
      "nodes": [
        {
          "content": "<ph id=\"ph5\">`NumberOfLanguagesToDetect`</ph><ph id=\"ph6\"/> is an optional parameter.",
          "pos": [
            0,
            85
          ]
        },
        {
          "content": "The default is 1.",
          "pos": [
            86,
            103
          ]
        }
      ]
    },
    {
      "pos": [
        4726,
        4736
      ],
      "content": "Batch APIs"
    },
    {
      "pos": [
        4738,
        5008
      ],
      "content": "The Text Analytics service allows you to do sentiment and key-phrase extractions in batch mode. Note that each of the records scored counts as one transaction. As an example, if you request sentiment for 1000 records in a single call, 1000 transactions will be deducted.",
      "nodes": [
        {
          "content": "The Text Analytics service allows you to do sentiment and key-phrase extractions in batch mode.",
          "pos": [
            0,
            95
          ]
        },
        {
          "content": "Note that each of the records scored counts as one transaction.",
          "pos": [
            96,
            159
          ]
        },
        {
          "content": "As an example, if you request sentiment for 1000 records in a single call, 1000 transactions will be deducted.",
          "pos": [
            160,
            270
          ]
        }
      ]
    },
    {
      "pos": [
        5010,
        5206
      ],
      "content": "Note that the IDs entered into the system are the IDs returned by the system. The web service does not check that these IDs are unique. It is the responsibility of the caller to verify uniqueness.",
      "nodes": [
        {
          "content": "Note that the IDs entered into the system are the IDs returned by the system.",
          "pos": [
            0,
            77
          ]
        },
        {
          "content": "The web service does not check that these IDs are unique.",
          "pos": [
            78,
            135
          ]
        },
        {
          "content": "It is the responsibility of the caller to verify uniqueness.",
          "pos": [
            136,
            196
          ]
        }
      ]
    },
    {
      "pos": [
        5214,
        5231
      ],
      "content": "GetSentimentBatch"
    },
    {
      "pos": [
        5233,
        5240
      ],
      "content": "<bpt id=\"p13\">**</bpt>URL<ept id=\"p13\">**</ept>"
    },
    {
      "pos": [
        5332,
        5351
      ],
      "content": "<bpt id=\"p14\">**</bpt>Example request<ept id=\"p14\">**</ept>"
    },
    {
      "pos": [
        5353,
        5510
      ],
      "content": "In the POST call below, we are requesting for the sentiments of the phrases \"Hello World\", \"Hello Foo World\" and \"Hello My World\" in the body of the request:"
    },
    {
      "pos": [
        5607,
        5620
      ],
      "content": "Request body:"
    },
    {
      "pos": [
        5789,
        5869
      ],
      "content": "In the response below, you get the list of scores associated with your text Ids:"
    },
    {
      "pos": [
        6171,
        6189
      ],
      "content": "GetKeyPhrasesBatch"
    },
    {
      "pos": [
        6191,
        6198
      ],
      "content": "<bpt id=\"p15\">**</bpt>URL<ept id=\"p15\">**</ept>"
    },
    {
      "pos": [
        6290,
        6309
      ],
      "content": "<bpt id=\"p16\">**</bpt>Example request<ept id=\"p16\">**</ept>"
    },
    {
      "pos": [
        6311,
        6416
      ],
      "content": "In this example, we are requesting for the list of sentiments for the key phrases in the following texts:"
    },
    {
      "pos": [
        6421,
        6496
      ],
      "content": "\"It was a wonderful hotel to stay at, with unique decor and friendly staff\""
    },
    {
      "pos": [
        6499,
        6564
      ],
      "content": "\"It was an amazing build conference, with very interesting talks\""
    },
    {
      "pos": [
        6567,
        6635
      ],
      "content": "\"The traffic was terrible, I spent three hours going to the airport\""
    },
    {
      "pos": [
        6637,
        6689
      ],
      "content": "This request is made as a POST call to the endpoint:"
    },
    {
      "pos": [
        6786,
        6799
      ],
      "content": "Request body:"
    },
    {
      "pos": [
        7121,
        7206
      ],
      "content": "In the response below, you get the list of key phrases associated with your text Ids:"
    },
    {
      "pos": [
        7633,
        7649
      ],
      "content": "GetLanguageBatch"
    },
    {
      "pos": [
        7651,
        7732
      ],
      "content": "In the POST call below, we are requesting language detection for two text inputs:"
    },
    {
      "pos": [
        7827,
        7840
      ],
      "content": "Request body:"
    },
    {
      "pos": [
        7969,
        8082
      ],
      "content": "This returns the following response, where English is detected in the first input and French in the second input:"
    }
  ],
  "content": "<properties\n    pageTitle=\"Machine Learning APIs: Text Analytics | Microsoft Azure\"\n    description=\"Text Analytics APIs provided by Azure Machine Learning. It can be used to analyze unstructured text for sentiment analysis, key phrase extraction and language detection.\"\n    services=\"machine-learning\"\n    documentationCenter=\"\"\n    authors=\"onewth\"\n    manager=\"paulettm\"\n    editor=\"cgronlun\"/> \n\n<tags\n    ms.service=\"machine-learning\"\n    ms.workload=\"data-services\"\n    ms.tgt_pltfrm=\"na\"\n    ms.devlang=\"na\"\n    ms.topic=\"article\"\n    ms.date=\"11/17/2015\"\n    ms.author=\"onewth\"/>\n\n\n# Machine Learning APIs: Text Analytics for Sentiment, Key Phrase Extraction and Language Detection\n\n## Overview\n\nThe Text Analytics API is a suite of text analytics [web services]( https://datamarket.azure.com/dataset/amla/text-analytics) built with Azure Machine Learning. The API can be used to analyze unstructured text for tasks such as sentiment analysis, key phrase extraction and language detection. No training data is needed to use this API: just bring your text data. This API uses advanced natural language processing techniques to deliver best in class predictions.\n\nYou can see text analytics in action on our [demo site](https://text-analytics-demo.azurewebsites.net/), where you will also find [samples](https://text-analytics-demo.azurewebsites.net/Home/SampleCode) on how to implement text analytics in C# and Python.\n\n[AZURE.INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)] \n\n---\n\n## Sentiment analysis\n\nThe API returns a numeric score between 0 & 1. Scores close to 1 indicate positive sentiment, while scores close to 0 indicate negative sentiment. Sentiment score is generated using classification techniques. The input features to the classifier include n-grams, features generated from part-of-speech tags, and word embeddings. Currently, English is the only supported language.\n \n## Key phrase extraction\n\nThe API returns a list of strings denoting the key talking points in the input text. We employ techniques from Microsoft Office's sophisticated Natural Language Processing toolkit. Currently, English is the only supported language.\n\n## Language detection\n\nThe API returns the detected language and a numeric score between 0 & 1. Scores close to 1 indicate 100% certainty that the identified language is true. A total of 120 languages are supported.\n\n---\n\n## API Definition\n\n### Headers\n\nEnsure that you include the correct headers in your request, which should be as follows:\n\n    Authorization: Basic <creds>\n    Accept: application/json\n               \n    Where <creds> = ConvertToBase64(“AccountKey:” + yourActualAccountKey);  \n\nYou can find your account key from your account in the [Azure Data Market](https://datamarket.azure.com/account/keys). \n\n---\n\n## Single Response APIs\n\n### GetSentiment\n\n**URL** \n\n    https://api.datamarket.azure.com/data.ashx/amla/text-analytics/v1/GetSentiment\n\n**Example request**\n\nIn the call below, we are requesting sentiment analysis for the phrase \"Hello World\":\n\n    GET https://api.datamarket.azure.com/data.ashx/amla/text-analytics/v1/GetSentiment?Text=hello+world\n\nThis will return a response as follows:\n\n    {\n      \"odata.metadata\":\"https://api.datamarket.azure.com/data.ashx/amla/text-analytics/v1/$metadata\",\n        \"Score\":1.0\n    }\n\n---\n\n### GetKeyPhrases\n\n**URL**\n\n    https://api.datamarket.azure.com/data.ashx/amla/text-analytics/v1/GetKeyPhrases\n\n**Example request**\n\nIn the call below, we are requesting the key phrases found in the text \"It was a wonderful hotel to stay at, with unique decor and friendly staff\":\n\n    GET https://api.datamarket.azure.com/data.ashx/amla/text-analytics/v1/GetKeyPhrases?\n    Text=It+was+a+wonderful+hotel+to+stay+at,+with+unique+decor+and+friendly+staff\n\nThis will return a response as follows:\n\n    {\n      \"odata.metadata\":\"https://api.datamarket.azure.com/data.ashx/amla/text-analytics/v1/$metadata\",\n      \"KeyPhrases\":[\n        \"wonderful hotel\",\n        \"unique decor\",\n        \"friendly staff\"\n      ]\n    }\n \n---\n\n### GetLanguage\n\n**URL**\n\n    https://api.datamarket.azure.com/data.ashx/amla/text-analytics/v1/GetLanguage\n\n**Example request**\n\nIn the GET call below, we are requesting for the sentiment for the key phrases in the text *Hello World*\n\n    GET https://api.datamarket.azure.com/data.ashx/amla/text-analytics/v1/GetLanguages?\n    Text=Hello+World\n\nThis will return a response as follows:\n\n    {\n      \"UnknownLanguage\": false,\n      \"DetectedLanguages\": [{\n        \"Name\": \"English\",\n        \"Iso6391Name\": \"en\",\n        \"Score\": 1.0\n      }]\n    }\n\n**Optional parameters**\n\n`NumberOfLanguagesToDetect` is an optional parameter. The default is 1.\n\n---\n\n## Batch APIs\n\nThe Text Analytics service allows you to do sentiment and key-phrase extractions in batch mode. Note that each of the records scored counts as one transaction. As an example, if you request sentiment for 1000 records in a single call, 1000 transactions will be deducted.\n\nNote that the IDs entered into the system are the IDs returned by the system. The web service does not check that these IDs are unique. It is the responsibility of the caller to verify uniqueness. \n\n\n### GetSentimentBatch\n\n**URL** \n\n    https://api.datamarket.azure.com/data.ashx/amla/text-analytics/v1/GetSentimentBatch\n\n**Example request**\n\nIn the POST call below, we are requesting for the sentiments of the phrases \"Hello World\", \"Hello Foo World\" and \"Hello My World\" in the body of the request:\n\n    POST https://api.datamarket.azure.com/data.ashx/amla/text-analytics/v1/GetSentimentBatch \n\nRequest body:\n\n    {\"Inputs\":\n    [\n        {\"Id\":\"1\",\"Text\":\"hello world\"},\n            {\"Id\":\"2\",\"Text\":\"hello foo world\"},\n            {\"Id\":\"3\",\"Text\":\"hello my world\"},\n    ]}\n\nIn the response below, you get the list of scores associated with your text Ids:\n\n    {\n      \"odata.metadata\":\"https://api.datamarket.azure.com/data.ashx/amla/text-analytics/v1/$metadata\", \n      \"SentimentBatch\":\n      [\n        {\"Score\":0.9549767,\"Id\":\"1\"},\n        {\"Score\":0.7767222,\"Id\":\"2\"},\n        {\"Score\":0.8988889,\"Id\":\"3\"}\n      ],  \n      \"Errors\":[]\n    }\n\n\n---\n\n### GetKeyPhrasesBatch\n\n**URL**\n\n    https://api.datamarket.azure.com/data.ashx/amla/text-analytics/v1/GetKeyPhrasesBatch\n\n**Example request**\n\nIn this example, we are requesting for the list of sentiments for the key phrases in the following texts: \n\n* \"It was a wonderful hotel to stay at, with unique decor and friendly staff\"\n* \"It was an amazing build conference, with very interesting talks\"\n* \"The traffic was terrible, I spent three hours going to the airport\"\n\nThis request is made as a POST call to the endpoint:\n\n    POST https://api.datamarket.azure.com/data.ashx/amla/text-analytics/v1/GetKeyPhrasesBatch\n\nRequest body:\n\n    {\"Inputs\":\n    [\n        {\"Id\":\"1\",\"Text\":\"It was a wonderful hotel to stay at, with unique decor and friendly staff\"},\n        {\"Id\":\"2\",\"Text\":\"It was an amazing build conference, with very interesting talks\"},\n        {\"Id\":\"3\",\"Text\":\"The traffic was terrible, I spent three hours going to the airport\"}\n    ]}\n\nIn the response below, you get the list of key phrases associated with your text Ids:\n\n    { \"odata.metadata\":\"https://api.datamarket.azure.com/data.ashx/amla/text-analytics/v1/$metadata\",\n        \"KeyPhrasesBatch\":\n        [\n           {\"KeyPhrases\":[\"unique decor\",\"friendly staff\",\"wonderful hotel\"],\"Id\":\"1\"},\n           {\"KeyPhrases\":[\"amazing build conference\",\"interesting talks\"],\"Id\":\"2\"},\n           {\"KeyPhrases\":[\"hours\",\"traffic\",\"airport\"],\"Id\":\"3\" }\n        ],\n        \"Errors\":[]\n    }\n\n---\n\n### GetLanguageBatch\n\nIn the POST call below, we are requesting language detection for two text inputs:\n\n    POST https://api.datamarket.azure.com/data.ashx/amla/text-analytics/v1/GetLanguageBatch\n\nRequest body:\n\n    {\n      \"Inputs\": [\n        {\"Text\": \"hello world\", \"Id\": \"1\"},\n        {\"Text\": \"c'est la vie\", \"Id\": \"2\"}\n      ]\n    }\n\nThis returns the following response, where English is detected in the first input and French in the second input:\n\n    {\n       \"LanguageBatch\": [{\n         \"Id\": \"1\",\n         \"DetectedLanguages\": [{\n            \"Name\": \"English\",\n            \"Iso6391Name\": \"en\",\n            \"Score\": 1.0\n         }],\n         \"UnknownLanguage\": false\n       },\n       {\n         \"Id\": \"2\",\n         \"DetectedLanguages\": [{\n            \"Name\": \"French\",\n            \"Iso6391Name\": \"fr\",\n            \"Score\": 1.0\n         }],\n         \"UnknownLanguage\": false\n       }],\n       \"Errors\": []\n    }\n"
}