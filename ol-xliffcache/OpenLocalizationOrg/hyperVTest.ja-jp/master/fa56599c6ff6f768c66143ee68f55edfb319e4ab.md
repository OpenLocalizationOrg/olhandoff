ms。ContentId: 95FE9554-3968-4EED-B65D-E03F06A7598D
タイトル: 手順 3: 仮想スイッチの作成

#手順 3: 仮想スイッチを作成します。

HYPER-V で仮想マシンを作成する前に、物理ネットワークに接続するには、この仮想マシンの方法を提供する必要があります。
HYPER-V には、仮想スイッチに接続する仮想マシンのネットワーク カードをできるようにする、ソフトウェア ベースのネットワーク テクノロジにはネットワーク接続を提供することが含まれています。
HYPER-V で作成した仮想スイッチは各は、次の 3 つの接続の種類のいずれかで構成できます。

- 外部ネットワーク – 仮想スイッチは、物理ネットワーク、HYPER-V ホスト、および仮想マシン間の接続を提供する物理ネットワーク アダプターに接続されています。
    この構成ではも有効にまたは、物理的に接続されたネットワーク カード経由で通信するホストの機能を無効にできます。
    これは、特定の物理ネットワーク カードにのみ VM トラフィックを分離する便利なことができます。
- ただし、仮想マシンと HYPER-V ホスト間ネットワーク接続が存在する、内部ネットワーク – 仮想スイッチを物理ネットワーク アダプターの場合に接続されていません。
- プライベート ネットワーク – 仮想スイッチが物理ネットワーク アダプターに接続されていないと、仮想マシンと HYPER-V ホスト間の接続が存在しません。

このチュートリアルは、外部のネットワークの使用について詳しく説明します。

##仮想スイッチを手動で作成します。

この演習は完全なネットワークの接続に、HYPER-V 管理ツールを使用して、仮想スイッチを作成する方法を説明します。
HYPER-V を完了したときにホストには、仮想マシンを物理ネットワークに接続するために使用する仮想スイッチにが含まれます。


1. HYPER-V マネージャーを開きます。
    
2. HYPER-V ホストの名前を右クリックし、' 仮想スイッチ マネージャー] を選択します。
    
3. [仮想スイッチ] の下には、'新しい仮想ネットワーク スイッチ' を選択します。
    
4. '仮想スイッチを作成するには、'外部' を選択します。
5. ' 仮想スイッチの作成] ボタンを選択します。
    
6. [仮想スイッチのプロパティ] の下にある新しいスイッチ '外部 VM スイッチ' などの名前を付けます。
    
7. '接続の種類 '、' 外部ネットワーク' が選択されていることを確認します。
    
8. 新しい仮想スイッチとペアになる物理ネットワーク カードを選択、これは、ネットワークに物理的に接続されているネットワーク カードになります。
    <br />![](media/newSwitch_upd.png)
    
9. 仮想スイッチを作成するには、[適用] を選択します。
    この時点で続行を [はい] をクリックして、次のメッセージは多くの場合表示されます。
    <br />![](media/pen_changes_upd.png)
    
10. 仮想スイッチ マネージャーのウィンドウを閉じるには、[OK] を選択します。

##PowerShell を使用する仮想スイッチを作成します。

PowerShell を使用して外部接続を使用して、仮想スイッチを作成するのには、次の手順を使用できます。


1. 使用して `Get NetAdapter` 10 の Windows システムに接続されているネットワーク アダプターの一覧を返します。
    


    ```
    PS C:\> Get-NetAdapter

    Name                      InterfaceDescription                    ifIndex Status       MacAddress             LinkSpeed
    ----                      --------------------                    ------- ------       ----------             ---------
    Ethernet 2                Broadcom NetXtreme 57xx Gigabit Cont...       5 Up           BC-30-5B-A8-C1-7F         1 Gbps
    Ethernet                  Intel(R) PRO/100 M Desktop Adapter            3 Up           00-0E-0C-A8-DC-31        10 Mbps  
    ```

2. HYPER-V スイッチを使用して、という名前の変数にインスタンスを配置するには、ネットワーク アダプターを選択して `$NetAdapter`です。

    ```
    $net = Get-NetAdapter -Name 'Ethernet'
    ```

3.  新しい HYPER-V 仮想スイッチを作成するには、次のコマンドを実行します。

    ```
    New-VMSwitch -Name "External VM Switch" -AllowManagementOS $True -NetAdapterName $net.Name
    ```

##仮想スイッチとラップトップ上の注意:

ラップトップ コンピューターで Windows 10 の HYPER-V を実行している場合は、イーサネットおよびワイヤレス ネットワーク カードの両方の仮想スイッチの作成を検討することがあります。
この構成を変更することができます、ラップトップに依存するこれらのスイッチ間で仮想マシンはネットワークに接続されています。
ワイヤード (有線) およびワイヤレスの間では、仮想マシンが自動的に切り替わりますしないことに。

##次の手順:

[手順 4: .iso ファイルからの Windows の仮想マシンの作成します。](walkthrough_create_vm.md)




