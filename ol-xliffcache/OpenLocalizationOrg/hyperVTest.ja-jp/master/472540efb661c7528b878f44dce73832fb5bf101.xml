{
  "nodes": [
    {
      "pos": [
        27,
        86
      ],
      "content": "Connect to a Machine Learning Web Service | Microsoft Azure"
    },
    {
      "pos": [
        105,
        200
      ],
      "content": "With C# or Python, connect to an Azure Machine Learning web service using an authorization key."
    },
    {
      "pos": [
        529,
        577
      ],
      "content": "Connect to an Azure Machine Learning Web Service"
    },
    {
      "pos": [
        578,
        823
      ],
      "content": "The Azure Machine Learning developer experience is a web service API to make predictions from input data in real time or in batch mode. You use Azure Machine Learning Studio to create predictions and deploy an Azure Machine Learning web service.",
      "nodes": [
        {
          "content": "The Azure Machine Learning developer experience is a web service API to make predictions from input data in real time or in batch mode.",
          "pos": [
            0,
            135
          ]
        },
        {
          "content": "You use Azure Machine Learning Studio to create predictions and deploy an Azure Machine Learning web service.",
          "pos": [
            136,
            245
          ]
        }
      ]
    },
    {
      "pos": [
        919,
        1020
      ],
      "content": "To learn about how to create and deploy a Machine Learning web service using Machine Learning Studio:"
    },
    {
      "pos": [
        1024,
        1123
      ],
      "content": "<bpt id=\"p1\">[</bpt>Deploy a Machine Learning web service<ept id=\"p1\">](machine-learning-publish-a-machine-learning-web-service.md)</ept>"
    },
    {
      "pos": [
        1126,
        1254
      ],
      "content": "<bpt id=\"p2\">[</bpt>Getting Started with Machine Learning Studio<ept id=\"p2\">](https://azure.microsoft.com/documentation/videos/getting-started-with-ml-studio/)</ept>"
    },
    {
      "pos": [
        1257,
        1318
      ],
      "content": "<bpt id=\"p3\">[</bpt>Azure Machine Learning Preview<ept id=\"p3\">](https://studio.azureml.net/)</ept>"
    },
    {
      "pos": [
        1321,
        1430
      ],
      "content": "<bpt id=\"p4\">[</bpt>Machine Learning Documentation Center<ept id=\"p4\">](https://azure.microsoft.com/documentation/services/machine-learning/)</ept>"
    },
    {
      "pos": [
        1435,
        1469
      ],
      "content": "Azure Machine Learning web service"
    },
    {
      "pos": [
        1474,
        1930
      ],
      "content": "With the Azure Machine Learning web service, an external application communicates with a Machine Learning workflow scoring model in real time. A Machine Learning web service call returns prediction results to an external application. To make a Machine Learning web service call, you pass an API key which is created when you deploy a prediction. The Machine Learning web service is based on REST, a popular architecture choice for web programming projects.",
      "nodes": [
        {
          "content": "With the Azure Machine Learning web service, an external application communicates with a Machine Learning workflow scoring model in real time.",
          "pos": [
            0,
            142
          ]
        },
        {
          "content": "A Machine Learning web service call returns prediction results to an external application.",
          "pos": [
            143,
            233
          ]
        },
        {
          "content": "To make a Machine Learning web service call, you pass an API key which is created when you deploy a prediction.",
          "pos": [
            234,
            345
          ]
        },
        {
          "content": "The Machine Learning web service is based on REST, a popular architecture choice for web programming projects.",
          "pos": [
            346,
            456
          ]
        }
      ]
    },
    {
      "pos": [
        1932,
        1981
      ],
      "content": "Azure Machine Learning has two types of services:"
    },
    {
      "pos": [
        1985,
        2162
      ],
      "content": "Request-Response Service (RRS) – A low latency, highly scalable service that provides an interface to the stateless models created and deployed from the Machine Learning Studio."
    },
    {
      "pos": [
        2165,
        2258
      ],
      "content": "Batch Execution Service (BES) – An asynchronous service that scores a batch for data records."
    },
    {
      "pos": [
        2260,
        2422
      ],
      "content": "For more information about Machine Learning web services, see <bpt id=\"p5\">[</bpt>Deploy a Machine Learning web service<ept id=\"p5\">](machine-learning-publish-a-machine-learning-web-service.md)</ept>."
    },
    {
      "pos": [
        2427,
        2474
      ],
      "content": "Get an Azure Machine Learning authorization key"
    },
    {
      "pos": [
        2478,
        2609
      ],
      "content": "You get a web service API key from a Machine Learning web service. You can get it from Machine Learning Studio or the Azure portal.",
      "nodes": [
        {
          "content": "You get a web service API key from a Machine Learning web service.",
          "pos": [
            0,
            66
          ]
        },
        {
          "content": "You can get it from Machine Learning Studio or the Azure portal.",
          "pos": [
            67,
            131
          ]
        }
      ]
    },
    {
      "pos": [
        2614,
        2637
      ],
      "content": "Machine Learning Studio"
    },
    {
      "pos": [
        2645,
        2708
      ],
      "content": "In Machine Learning Studio, click <bpt id=\"p6\">**</bpt>WEB SERVICES<ept id=\"p6\">**</ept><ph id=\"ph3\"/> on the left."
    },
    {
      "pos": [
        2712,
        2775
      ],
      "content": "Click a web service. The “API key” is on the <bpt id=\"p7\">**</bpt>DASHBOARD<ept id=\"p7\">**</ept><ph id=\"ph4\"/> tab.",
      "nodes": [
        {
          "content": "Click a web service.",
          "pos": [
            0,
            20
          ]
        },
        {
          "content": "The “API key” is on the <bpt id=\"p7\">**</bpt>DASHBOARD<ept id=\"p7\">**</ept><ph id=\"ph4\"/> tab.",
          "pos": [
            21,
            115
          ]
        }
      ]
    },
    {
      "pos": [
        2781,
        2793
      ],
      "content": "Azure portal"
    },
    {
      "pos": [
        2802,
        2841
      ],
      "content": "Click <bpt id=\"p8\">**</bpt>MACHINE LEARNING<ept id=\"p8\">**</ept><ph id=\"ph5\"/> on the left."
    },
    {
      "pos": [
        2845,
        2863
      ],
      "content": "Click a workspace."
    },
    {
      "pos": [
        2867,
        2890
      ],
      "content": "Click <bpt id=\"p9\">**</bpt>WEB SERVICES<ept id=\"p9\">**</ept>."
    },
    {
      "pos": [
        2894,
        2914
      ],
      "content": "Click a web service."
    },
    {
      "pos": [
        2918,
        2978
      ],
      "content": "Click an endpoint. The “API KEY” is down at the lower-right.",
      "nodes": [
        {
          "content": "Click an endpoint.",
          "pos": [
            0,
            18
          ]
        },
        {
          "content": "The “API KEY” is down at the lower-right.",
          "pos": [
            19,
            60
          ]
        }
      ]
    },
    {
      "pos": [
        3003,
        3044
      ],
      "content": "Connect to a Machine Learning web service"
    },
    {
      "pos": [
        3046,
        3257
      ],
      "content": "You can connect to a Machine Learning web service using any programming language that supports HTTP request and response. You can view examples in C#, Python, and R from a Machine Learning web service help page.",
      "nodes": [
        {
          "content": "You can connect to a Machine Learning web service using any programming language that supports HTTP request and response.",
          "pos": [
            0,
            121
          ]
        },
        {
          "content": "You can view examples in C#, Python, and R from a Machine Learning web service help page.",
          "pos": [
            122,
            211
          ]
        }
      ]
    },
    {
      "pos": [
        3263,
        3315
      ],
      "content": "To view a Machine Learning Web Service API help page"
    },
    {
      "pos": [
        3320,
        3511
      ],
      "content": "A Machine Learning API help page is created when you deploy a web service. See <bpt id=\"p10\">[</bpt>Azure Machine Learning Walkthrough- Deploy Web Service<ept id=\"p10\">](machine-learning-walkthrough-5-publish-web-service.md)</ept>.",
      "nodes": [
        {
          "content": "A Machine Learning API help page is created when you deploy a web service.",
          "pos": [
            0,
            74
          ]
        },
        {
          "content": "See <bpt id=\"p10\">[</bpt>Azure Machine Learning Walkthrough- Deploy Web Service<ept id=\"p10\">](machine-learning-walkthrough-5-publish-web-service.md)</ept>.",
          "pos": [
            75,
            231
          ]
        }
      ]
    },
    {
      "pos": [
        3514,
        3586
      ],
      "content": "<bpt id=\"p11\">**</bpt>To view a Machine Learning API help page<ept id=\"p11\">**</ept>\nIn Machine Learning Studio:"
    },
    {
      "pos": [
        3591,
        3615
      ],
      "content": "Choose <bpt id=\"p12\">**</bpt>WEB SERVICES<ept id=\"p12\">**</ept>."
    },
    {
      "pos": [
        3619,
        3640
      ],
      "content": "Choose a web service."
    },
    {
      "pos": [
        3644,
        3715
      ],
      "content": "Choose <bpt id=\"p13\">**</bpt>API help page<ept id=\"p13\">**</ept><ph id=\"ph6\"/> - <bpt id=\"p14\">**</bpt>REQUEST/RESPONSE<ept id=\"p14\">**</ept><ph id=\"ph7\"/> or <bpt id=\"p15\">**</bpt>BATCH EXECUTION<ept id=\"p15\">**</ept>."
    },
    {
      "pos": [
        3718,
        3836
      ],
      "content": "<bpt id=\"p16\">**</bpt>Machine Learning API help page<ept id=\"p16\">**</ept>\nThe Machine Learning API help page contains details about a prediction web service."
    },
    {
      "pos": [
        3844,
        3853
      ],
      "content": "C# Sample"
    },
    {
      "pos": [
        3859,
        4125
      ],
      "content": "To connect to a Machine Learning web service, use an <bpt id=\"p17\">**</bpt>HttpClient<ept id=\"p17\">**</ept><ph id=\"ph8\"/> passing ScoreData. ScoreData contains a FeatureVector, an n-dimensional  vector of numerical features that represents the ScoreData. You authenticate to the Machine Learning service with an API key.",
      "nodes": [
        {
          "content": "To connect to a Machine Learning web service, use an <bpt id=\"p17\">**</bpt>HttpClient<ept id=\"p17\">**</ept><ph id=\"ph8\"/> passing ScoreData.",
          "pos": [
            0,
            140
          ]
        },
        {
          "content": "ScoreData contains a FeatureVector, an n-dimensional  vector of numerical features that represents the ScoreData.",
          "pos": [
            141,
            254
          ]
        },
        {
          "content": "You authenticate to the Machine Learning service with an API key.",
          "pos": [
            255,
            320
          ]
        }
      ]
    },
    {
      "pos": [
        4127,
        4244
      ],
      "content": "To connect to a Machine Learning web service, the <bpt id=\"p18\">**</bpt>Microsoft.AspNet.WebApi.Client<ept id=\"p18\">**</ept><ph id=\"ph9\"/> Nuget package must be installed."
    },
    {
      "pos": [
        4246,
        4311
      ],
      "content": "<bpt id=\"p19\">**</bpt>Install Microsoft.AspNet.WebApi.Client Nuget in Visual Studio<ept id=\"p19\">**</ept>"
    },
    {
      "pos": [
        4316,
        4389
      ],
      "content": "Publish the Download dataset from UCI: Adult 2 class dataset Web Service."
    },
    {
      "pos": [
        4393,
        4467
      ],
      "content": "Click <bpt id=\"p20\">**</bpt>Tools<ept id=\"p20\">**</ept><ph id=\"ph10\"/> &gt; <bpt id=\"p21\">**</bpt>Nuget Package Manager<ept id=\"p21\">**</ept><ph id=\"ph11\"/> &gt; <bpt id=\"p22\">**</bpt>Package Manager Console<ept id=\"p22\">**</ept>."
    },
    {
      "pos": [
        4471,
        4529
      ],
      "content": "Choose <bpt id=\"p23\">**</bpt>Install-Package Microsoft.AspNet.WebApi.Client<ept id=\"p23\">**</ept>."
    },
    {
      "pos": [
        4531,
        4557
      ],
      "content": "<bpt id=\"p24\">**</bpt>To run the code sample<ept id=\"p24\">**</ept>"
    },
    {
      "pos": [
        4562,
        4690
      ],
      "content": "Publish \"Sample 1: Download dataset from UCI: Adult 2 class dataset\" experiment, part of the Machine Learning sample collection."
    },
    {
      "pos": [
        4694,
        4803
      ],
      "content": "Assign apiKey with the key from a web service. See <bpt id=\"p25\">**</bpt>Get an Azure Machine Learning authorization key<ept id=\"p25\">**</ept><ph id=\"ph12\"/> above.",
      "nodes": [
        {
          "content": "Assign apiKey with the key from a web service.",
          "pos": [
            0,
            46
          ]
        },
        {
          "content": "See <bpt id=\"p25\">**</bpt>Get an Azure Machine Learning authorization key<ept id=\"p25\">**</ept><ph id=\"ph12\"/> above.",
          "pos": [
            47,
            164
          ]
        }
      ]
    },
    {
      "pos": [
        4807,
        4846
      ],
      "content": "Assign serviceUri with the Request URI."
    },
    {
      "pos": [
        4853,
        4866
      ],
      "content": "Python Sample"
    },
    {
      "pos": [
        4872,
        5144
      ],
      "content": "To connect to a Machine Learning web service, use the <bpt id=\"p26\">**</bpt>urllib2<ept id=\"p26\">**</ept><ph id=\"ph13\"/> library passing ScoreData. ScoreData contains a FeatureVector, an n-dimensional  vector of numerical features that represents the ScoreData. You authenticate to the Machine Learning service with an API key.",
      "nodes": [
        {
          "content": "To connect to a Machine Learning web service, use the <bpt id=\"p26\">**</bpt>urllib2<ept id=\"p26\">**</ept><ph id=\"ph13\"/> library passing ScoreData.",
          "pos": [
            0,
            147
          ]
        },
        {
          "content": "ScoreData contains a FeatureVector, an n-dimensional  vector of numerical features that represents the ScoreData.",
          "pos": [
            148,
            261
          ]
        },
        {
          "content": "You authenticate to the Machine Learning service with an API key.",
          "pos": [
            262,
            327
          ]
        }
      ]
    },
    {
      "pos": [
        5147,
        5173
      ],
      "content": "<bpt id=\"p27\">**</bpt>To run the code sample<ept id=\"p27\">**</ept>"
    },
    {
      "pos": [
        5178,
        5306
      ],
      "content": "Publish \"Sample 1: Download dataset from UCI: Adult 2 class dataset\" experiment, part of the Machine Learning sample collection."
    },
    {
      "pos": [
        5310,
        5419
      ],
      "content": "Assign apiKey with the key from a web service. See <bpt id=\"p28\">**</bpt>Get an Azure Machine Learning authorization key<ept id=\"p28\">**</ept><ph id=\"ph14\"/> above.",
      "nodes": [
        {
          "content": "Assign apiKey with the key from a web service.",
          "pos": [
            0,
            46
          ]
        },
        {
          "content": "See <bpt id=\"p28\">**</bpt>Get an Azure Machine Learning authorization key<ept id=\"p28\">**</ept><ph id=\"ph14\"/> above.",
          "pos": [
            47,
            164
          ]
        }
      ]
    },
    {
      "pos": [
        5423,
        5492
      ],
      "content": "Assign serviceUri with the Request URI. See How to get a Request URI.",
      "nodes": [
        {
          "content": "Assign serviceUri with the Request URI.",
          "pos": [
            0,
            39
          ]
        },
        {
          "content": "See How to get a Request URI.",
          "pos": [
            40,
            69
          ]
        }
      ]
    }
  ],
  "content": "<properties\n    pageTitle=\"Connect to a Machine Learning Web Service | Microsoft Azure\"\n    description=\"With C# or Python, connect to an Azure Machine Learning web service using an authorization key.\"\n    services=\"machine-learning\"\n    documentationCenter=\"\"\n    authors=\"garyericson\"\n    manager=\"paulettm\"\n    editor=\"cgronlun\" />\n\n<tags\n    ms.service=\"machine-learning\"\n    ms.workload=\"data-services\"\n    ms.tgt_pltfrm=\"na\"\n    ms.devlang=\"na\"\n    ms.topic=\"article\"\n    ms.date=\"02/03/2016\" \n    ms.author=\"garye\" />\n\n\n# Connect to an Azure Machine Learning Web Service\nThe Azure Machine Learning developer experience is a web service API to make predictions from input data in real time or in batch mode. You use Azure Machine Learning Studio to create predictions and deploy an Azure Machine Learning web service.\n\n[AZURE.INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]\n\nTo learn about how to create and deploy a Machine Learning web service using Machine Learning Studio:\n\n- [Deploy a Machine Learning web service](machine-learning-publish-a-machine-learning-web-service.md)\n- [Getting Started with Machine Learning Studio](https://azure.microsoft.com/documentation/videos/getting-started-with-ml-studio/)\n- [Azure Machine Learning Preview](https://studio.azureml.net/)\n- [Machine Learning Documentation Center](https://azure.microsoft.com/documentation/services/machine-learning/)\n\n## Azure Machine Learning web service ##\n\nWith the Azure Machine Learning web service, an external application communicates with a Machine Learning workflow scoring model in real time. A Machine Learning web service call returns prediction results to an external application. To make a Machine Learning web service call, you pass an API key which is created when you deploy a prediction. The Machine Learning web service is based on REST, a popular architecture choice for web programming projects.\n\nAzure Machine Learning has two types of services:\n\n- Request-Response Service (RRS) – A low latency, highly scalable service that provides an interface to the stateless models created and deployed from the Machine Learning Studio.\n- Batch Execution Service (BES) – An asynchronous service that scores a batch for data records.\n\nFor more information about Machine Learning web services, see [Deploy a Machine Learning web service](machine-learning-publish-a-machine-learning-web-service.md).\n\n## Get an Azure Machine Learning authorization key ##\nYou get a web service API key from a Machine Learning web service. You can get it from Machine Learning Studio or the Azure portal.\n### Machine Learning Studio ###\n1. In Machine Learning Studio, click **WEB SERVICES** on the left.\n2. Click a web service. The “API key” is on the **DASHBOARD** tab.\n\n### Azure portal ###\n\n1. Click **MACHINE LEARNING** on the left.\n2. Click a workspace.\n3. Click **WEB SERVICES**.\n4. Click a web service.\n5. Click an endpoint. The “API KEY” is down at the lower-right.\n\n## <a id=\"connect\"></a>Connect to a Machine Learning web service\n\nYou can connect to a Machine Learning web service using any programming language that supports HTTP request and response. You can view examples in C#, Python, and R from a Machine Learning web service help page.\n\n### To view a Machine Learning Web Service API help page ###\nA Machine Learning API help page is created when you deploy a web service. See [Azure Machine Learning Walkthrough- Deploy Web Service](machine-learning-walkthrough-5-publish-web-service.md).\n\n\n**To view a Machine Learning API help page**\nIn Machine Learning Studio:\n\n1. Choose **WEB SERVICES**.\n2. Choose a web service.\n3. Choose **API help page** - **REQUEST/RESPONSE** or **BATCH EXECUTION**.\n\n\n**Machine Learning API help page**\nThe Machine Learning API help page contains details about a prediction web service.\n\n\n\n### C# Sample ###\n\nTo connect to a Machine Learning web service, use an **HttpClient** passing ScoreData. ScoreData contains a FeatureVector, an n-dimensional  vector of numerical features that represents the ScoreData. You authenticate to the Machine Learning service with an API key.\n\nTo connect to a Machine Learning web service, the **Microsoft.AspNet.WebApi.Client** Nuget package must be installed.\n\n**Install Microsoft.AspNet.WebApi.Client Nuget in Visual Studio**\n\n1. Publish the Download dataset from UCI: Adult 2 class dataset Web Service.\n2. Click **Tools** > **Nuget Package Manager** > **Package Manager Console**.\n2. Choose **Install-Package Microsoft.AspNet.WebApi.Client**.\n\n**To run the code sample**\n\n1. Publish \"Sample 1: Download dataset from UCI: Adult 2 class dataset\" experiment, part of the Machine Learning sample collection.\n2. Assign apiKey with the key from a web service. See **Get an Azure Machine Learning authorization key** above.\n3. Assign serviceUri with the Request URI.\n\n\n### Python Sample ###\n\nTo connect to a Machine Learning web service, use the **urllib2** library passing ScoreData. ScoreData contains a FeatureVector, an n-dimensional  vector of numerical features that represents the ScoreData. You authenticate to the Machine Learning service with an API key.\n\n\n**To run the code sample**\n\n1. Publish \"Sample 1: Download dataset from UCI: Adult 2 class dataset\" experiment, part of the Machine Learning sample collection.\n2. Assign apiKey with the key from a web service. See **Get an Azure Machine Learning authorization key** above.\n3. Assign serviceUri with the Request URI. See How to get a Request URI.\n"
}