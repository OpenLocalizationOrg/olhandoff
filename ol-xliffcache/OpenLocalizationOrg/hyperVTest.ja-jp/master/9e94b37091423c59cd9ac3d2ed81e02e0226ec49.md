ms.ContentId: 8D89E9D8-2501-46A7-9304-2F19F37AFC85
タイトル: チェックポイントの使用

#チェックポイントを使用して、以前の状態にバーチャル マシンを戻すには

ホー HB プロセスをテストするためには、この文を追加します。
チェックポイントでは、以前の状態にバーチャル マシンを元に戻す早くて簡単な方法を提供します。
これは、オプションは、[バーチャル マシンを変更しようとしているし、ロールバックには、現在の状態に関する問題の原因を変更する場合に可能にするときに特に便利です。


##有効にするか、チェックポイントを無効にします。

1.   **HYPER-V Manager**, 、仮想マシンの名前を右クリックし、クリックして、 **設定**です。
2.   **管理** セクションで、 **チェックポイント**です。
3.  この仮想マシンから除外する、チェックポイントを有効にするには選択かどうかを確認するチェックポイントを許可するには、は、これは既定の動作です。
    チェックポイントを無効にするには、選択を解除、 **を有効にするチェックポイント** チェック ボックスをオンします。
4.  クリックして **適用** して変更を適用します。
    完了したら、クリックして **OK** ] ダイアログ ボックスを閉じます。


##Standard または実稼働のチェックポイントを選択します。

チェックポイントの 2 つの種類があります。
*  **運用チェックポイント** --主に、バックアップの形式と実稼働環境でのサーバーに使用します。
*  **標準的なチェックポイント** --開発に使用される、または変更が失敗した場合は、ロールバックを許可するための環境をテストします。
    

どちらの種類のチェックポイントでは、以前の状態にバーチャル マシンを復元します。

実稼働のチェックポイントでは、仮想マシンのアプリケーション整合性のチェックポイントを作成します。
つまり、アプリケーション状態なしで、保存されている仮想マシンが再開されます。



標準のチェックポイント (スナップショットと呼ばれていました) は、仮想マシンの正確なメモリの状態をキャプチャします。
つまりを伴う復元は、仮想マシン **正確に** 同じ状態で、チェックポイントの取得アプリケーションの正確な状態にします。
標準のチェックポイントには、クライアント接続、トランザクション、および外部ネットワークの状態に関する情報が含まれます。
この情報は、チェックポイントが適用されるときに有効なできません。
さらに、アプリケーションがクラッシュ中にチェックポイントが実行されると、そのチェックポイントを復元できるようになりますそのクラッシュの途中で。

バーチャル マシンの標準的なチェックポイントの存在、仮想マシンのディスクのパフォーマンスに影響を与える可能性があります。
パフォーマンスまたは記憶域の可用性が重要な場合は、仮想マシンで標準的なチェックポイントを使用はお勧めしません。


実稼働のチェックポイントを適用するには、オフライン状態から、ゲスト オペレーティング システムを起動するが含まれます。
これは、チェックポイント処理の一部としてアプリケーションの状態またはセキュリティ情報がキャプチャされてないことを意味します。


次の表は、実稼働のチェックポイントまたは仮想マシンの状態によって、標準のチェックポイントを使用する場合を示します。

| **バーチャル マシンの状態**| **実稼働のチェックポイント**| **標準的なチェックポイント**|
|:-----|:-----|:-----|
| **Integration Services を実行しています。**| はい| はい|
| **Integration Services せずに実行します。**| いいえ| はい|
| **オフラインで保存された状態がないです。**| はい| はい|
| **オフラインからでは、保存済みの状態**| いいえ| はい|
| **［一時停止］**| いいえ| はい|
標準と運用環境のチェックポイントの違いを確認するには、参照、 [チェックポイント チュートリアル](../quick_start/walkthrough_checkpoints.md)です。

##既定のチェックポイントの種類を設定します。

1.   **HYPER-V Manager**, 、仮想マシンの名前を右クリックし、クリックして、 **設定**です。
2.   **管理** セクションで、 **チェックポイント**です。
3.  実稼働のチェックポイントまたは標準的なチェックポイントのいずれかを選択します。
    実稼働のチェックポイントを選択する場合は、実稼働のチェックポイントを取得できない場合に、ホストが、標準のチェックポイントを取得するかどうかも指定できます。
    このチェック ボックスをオフにすると、実稼働のチェックポイントを実行することはできません、チェックポイントは選択されません。
4.  チェックポイントの構成ファイルの保存場所を変更する場合のパスを変更、 **チェックポイント ファイルの場所** セクションです。
5.  クリックして **適用** して変更を適用します。
    完了したら、クリックして **OK** ] ダイアログ ボックスを閉じます。

新しいバーチャル マシンの 10 の Windows で既定の動作にフォールバックして、標準的なチェックポイントの実稼働のチェックポイントを作成するには


##チェックポイントを作成します。

チェックポイントを作成するには:
1.   **HYPER-V Manager**, [ **の仮想マシン**, 、仮想マシンを選択します。
2.  仮想マシンの名前を右クリックし、クリックして **チェックポイント**です。
3.  チェックポイントが下に表示されますが、プロセスが完了すると、 **チェックポイント** で、 **HYPER-V Manager**です。
    


##チェックポイントを適用します。

前の時点に仮想マシンを元に戻す場合は、既存のチェックポイントを適用することができます。

1.   **HYPER-V Manager**, [ **の仮想マシン**, 、仮想マシンを選択します。
2.  [チェックポイント] セクションでは、チェックポイントを使用し、クリックするを右クリックし **適用**です。
3.  ダイアログ ボックスでは、次のオプションが表示されます。
    

``` 
**Create Checkpoint and Apply**: Creates a new checkpoint of the virtual machine before it applies the earlier checkpoint. 

**Apply**: Applies only the checkpoint that you have chosen. You cannot undo this action.

**Cancel**: Closes the dialog box without doing anything.
```

##チェックポイントを削除します。

明確にするには、チェックポイントを削除します。


1.   **HYPER-V Manager**, 、仮想マシンを選択します。
2.   **チェックポイント** セクションを削除するチェックポイントを右クリックし、[削除] をクリックします。
    チェックポイントと後続のすべてのチェックポイントを削除することもできます。
    これを行うには、削除、および順にクリックする最も古いチェックポイントを右クリックし *** * [チェックポイントの削除** サブツリー * *。
3.  チェックポイントを削除することを確認が求められます可能性があります。
    正しいチェックポイントであることを確認し、クリックして **削除**です。
    
4.  .Avhdx と .vhdx ファイルがマージし、.avhdx ファイルをファイル システムから削除が完了するとします。
    

> **ヒント:** を使用して、チェックポイントを削除するのには Windows Powershell を使用して、 **削除 VMSnapshot** コマンドレットです。
> 

チェックポイントは、仮想マシンの .vhdx ファイルと同じ場所に .avhdx ファイルとして保存されます。
.Avhdx ファイルを直接削除しないでください。


##フォルダーを変更するチェックポイントを設定し、ファイルが格納されている状態の保存

仮想マシンにチェックポイントがなければ、チェックポイントの構成ファイルとファイルの保存済みの状態を保存する場所を変更できます。

1.   **HYPER-V Manager**, 、仮想マシンの名前を右クリックし、クリックして、 **設定**です。
    
2.   **管理** セクションで、 **チェックポイント** または **チェックポイント ファイルの場所**です。
    
4.   **チェックポイント ファイルの場所**, 、ファイルを保存するフォルダーへのパスを入力します。
    
5.  クリックして **適用** して変更を適用します。
    完了したら、クリックして **OK** ] ダイアログ ボックスを閉じます。

チェックポイントの構成ファイルを格納するための既定の場所は。 % systemroot%\ProgramData\Microsoft\Windows\Hyper-V\Snapshots です。




##チェックポイントの名前を変更します。

1.   **HYPER-V Manager**, 、仮想マシンを選択します。
2.  チェックポイントを右クリックし、 **の名前を変更**です。
3.  チェックポイントの新しい名前を入力します。
    100 文字未満をする必要があり、フィールドを空にすることはできません。
4.  クリックして **ENTER** が完了したら。

既定では、チェックポイントの名前は、日付と時刻、チェックポイントの取得と組み合わせて、仮想マシンの名前です。
これは、標準の形式です。


```
virtual_machine_name (MM/DD/YYY –hh:mm:ss AM\PM)
```

名は、少ない、または 100 文字に制限して、名前を空白にすることはできません。







