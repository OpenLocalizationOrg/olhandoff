{
  "nodes": [
    {
      "content": "ms.ContentId: 71a03c62-50fd-48dc-9296-4d285027a96a",
      "pos": [
        0,
        50
      ]
    },
    {
      "content": "title: Setup Windows Containers in a local VM",
      "pos": [
        51,
        96
      ]
    },
    {
      "content": "Preparing Windows Server Technical Preview for Windows Server Containers",
      "pos": [
        100,
        172
      ]
    },
    {
      "content": "12-Nov update.",
      "pos": [
        174,
        188
      ]
    },
    {
      "content": "In order to create and manage Windows Server Containers, the Windows Server 2016 Technical Preview environment must be prepared.",
      "pos": [
        189,
        317
      ]
    },
    {
      "content": "This guide will walk through configuring Windows Server Containers in a Hyper-V Virtual Machine.",
      "pos": [
        318,
        414
      ]
    },
    {
      "content": "Other getting started guides:",
      "pos": [
        418,
        447
      ]
    },
    {
      "pos": [
        452,
        511
      ],
      "content": "Run Windows Server Containers in <bpt id=\"p1\">[</bpt>Azure<ept id=\"p1\">](./azure_setup.md)</ept>."
    },
    {
      "pos": [
        516,
        599
      ],
      "content": "Run Windows Server Containers in <bpt id=\"p1\">[</bpt>an existing virtual machine<ept id=\"p1\">](./inplace_setup.md)</ept>."
    },
    {
      "pos": [
        604,
        705
      ],
      "content": "Setup Windows Server Containers <bpt id=\"p1\">[</bpt>on a physical Windows Server Core installation<ept id=\"p1\">](./inplace_setup.md)</ept>."
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>PLEASE READ PRIOR TO INSTALLING THE CONTAINER OS IMAGE:<ept id=\"p1\">**</ept>  The license terms of the Microsoft Windows Server Pre-Release software (“License Terms”) apply to your use of the Microsoft Windows Container OS Image supplement (the “supplemental software).",
      "pos": [
        709,
        961
      ]
    },
    {
      "content": "By downloading and using the supplemental software, you agree to the License Terms, and you may not use it if you have not accepted the License Terms.",
      "pos": [
        963,
        1113
      ]
    },
    {
      "content": "Both the Windows Server Pre-Release software and the supplemental software are licensed by Microsoft Corporation.",
      "pos": [
        1114,
        1227
      ]
    },
    {
      "content": "System running Windows 10 / Windows Server Technical Preview 2 or later.",
      "pos": [
        1233,
        1305
      ]
    },
    {
      "pos": [
        1308,
        1459
      ],
      "content": "Hyper-V role enabled (<bpt id=\"p1\">[</bpt>see instructions<ept id=\"p1\">](https://msdn.microsoft.com/virtualization/hyperv_on_windows/quick_start/walkthrough_install#UsingPowerShell)</ept>)."
    },
    {
      "content": "20GB available storage for container host image, OS Base Image and setup scripts.",
      "pos": [
        1462,
        1543
      ]
    },
    {
      "content": "Administrator permissions on the Hyper-V host.",
      "pos": [
        1546,
        1592
      ]
    },
    {
      "content": "Windows Server Containers do not require Hyper-V however to keep things simple this guide assumes that a Hyper-V environment is being used to run the Windows Server Container host.",
      "pos": [
        1596,
        1776
      ]
    },
    {
      "content": "Setup a New Container Host on a New Virtual Machine",
      "pos": [
        1781,
        1832
      ]
    },
    {
      "content": "Windows Server Containers consist of several components such as the Windows Server Container Host and Container OS Base Image.",
      "pos": [
        1833,
        1959
      ]
    },
    {
      "content": "We have put together a script that will download and configure these items for you.",
      "pos": [
        1960,
        2043
      ]
    },
    {
      "content": "Follow these steps to deploy a new Hyper-V Virtual Machine and configure this system as a Windows Server Container Host.",
      "pos": [
        2044,
        2164
      ]
    },
    {
      "content": "Start a PowerShell session as Administrator.",
      "pos": [
        2166,
        2210
      ]
    },
    {
      "content": "This can be done by right clicking on the PowerShell icon and selecting ‘Run as Administrator’, or by running the following command from any PowerShell session.",
      "pos": [
        2211,
        2371
      ]
    },
    {
      "content": "Use the following command to download the configuration script.",
      "pos": [
        2430,
        2493
      ]
    },
    {
      "content": "The script can also be manually downloaded from this location - <bpt id=\"p1\">[</bpt>Configuration Script<ept id=\"p1\">](http://aka.ms/newcontainerhost)</ept>.",
      "pos": [
        2494,
        2613
      ]
    },
    {
      "pos": [
        2712,
        2914
      ],
      "content": "Run the following command to create and configure the container host where <ph id=\"ph1\">`&lt;containerhost&gt;`</ph> will be the virtual machine name and <ph id=\"ph2\">`&lt;password&gt;`</ph> will be the password assigned to the Administrator account."
    },
    {
      "content": "When the script begins you will be asked to read and accept licensing terms.",
      "pos": [
        3007,
        3083
      ]
    },
    {
      "content": "The script will then begin to download and configure the Windows Server Container components.",
      "pos": [
        3620,
        3713
      ]
    },
    {
      "content": "This process may take quite some time due to the large download.",
      "pos": [
        3714,
        3778
      ]
    },
    {
      "content": "When finished your Virtual Machine will be configured and ready for you to create and manage Windows Server Containers and Windows Server Container Images with both PowerShell and Docker.",
      "pos": [
        3779,
        3966
      ]
    },
    {
      "content": "You may receive the following message during the Window Server Container host deployment process.",
      "pos": [
        3970,
        4067
      ]
    },
    {
      "content": "If you do, check the properties of the virtual machine and connect the virtual machine to a virtual switch.",
      "pos": [
        4236,
        4343
      ]
    },
    {
      "content": "You can also run the following PowerShell command where <ph id=\"ph1\">`&lt;switchname&gt;`</ph> is the name of the Hyper-V virtual switch that you would like to connect to the virtual machine.",
      "pos": [
        4344,
        4511
      ]
    },
    {
      "content": "When the configuration script has completed, start the virtual machine.",
      "pos": [
        4616,
        4687
      ]
    },
    {
      "content": "The VM is configured with Windows Server 2016 Core and will look like the following.",
      "pos": [
        4688,
        4772
      ]
    },
    {
      "content": "Finally log into the virtual machine using the password specified during the configuration process and make sure that the Virtual Machine has a valid IP address.",
      "pos": [
        4834,
        4995
      ]
    },
    {
      "content": "With these items completed your system should be ready for Windows Server Containers.",
      "pos": [
        4996,
        5081
      ]
    },
    {
      "content": "Video Walkthrough",
      "pos": [
        5087,
        5104
      ]
    },
    {
      "content": "Next Steps - Start Using Containers",
      "pos": [
        5330,
        5365
      ]
    },
    {
      "content": "Now that you have a Windows Server 2016 system running the Windows Server Container feature jump to the following guides to begin working with Windows Server Containers and Windows Server Container images.",
      "pos": [
        5367,
        5572
      ]
    },
    {
      "content": "Quick Start: Windows Server Containers and Docker",
      "pos": [
        5577,
        5626
      ]
    },
    {
      "content": "Quick Start: Windows Server Containers and PowerShell",
      "pos": [
        5651,
        5704
      ]
    },
    {
      "content": "Back to Container Home",
      "pos": [
        5754,
        5776
      ]
    },
    {
      "content": "Known Issues for Current Release",
      "pos": [
        5807,
        5839
      ]
    }
  ],
  "content": "ms.ContentId: 71a03c62-50fd-48dc-9296-4d285027a96a\ntitle: Setup Windows Containers in a local VM\n\n# Preparing Windows Server Technical Preview for Windows Server Containers\n\n12-Nov update. In order to create and manage Windows Server Containers, the Windows Server 2016 Technical Preview environment must be prepared. This guide will walk through configuring Windows Server Containers in a Hyper-V Virtual Machine.\n\n> Other getting started guides:\n  * Run Windows Server Containers in [Azure](./azure_setup.md).\n  * Run Windows Server Containers in [an existing virtual machine](./inplace_setup.md).\n  * Setup Windows Server Containers [on a physical Windows Server Core installation](./inplace_setup.md).\n\n  **PLEASE READ PRIOR TO INSTALLING THE CONTAINER OS IMAGE:**  The license terms of the Microsoft Windows Server Pre-Release software (“License Terms”) apply to your use of the Microsoft Windows Container OS Image supplement (the “supplemental software).  By downloading and using the supplemental software, you agree to the License Terms, and you may not use it if you have not accepted the License Terms. Both the Windows Server Pre-Release software and the supplemental software are licensed by Microsoft Corporation.  \n\n* System running Windows 10 / Windows Server Technical Preview 2 or later.\n* Hyper-V role enabled ([see instructions](https://msdn.microsoft.com/virtualization/hyperv_on_windows/quick_start/walkthrough_install#UsingPowerShell)).\n* 20GB available storage for container host image, OS Base Image and setup scripts.\n* Administrator permissions on the Hyper-V host.\n\n> Windows Server Containers do not require Hyper-V however to keep things simple this guide assumes that a Hyper-V environment is being used to run the Windows Server Container host.\n\n## Setup a New Container Host on a New Virtual Machine\nWindows Server Containers consist of several components such as the Windows Server Container Host and Container OS Base Image. We have put together a script that will download and configure these items for you. Follow these steps to deploy a new Hyper-V Virtual Machine and configure this system as a Windows Server Container Host.\n\nStart a PowerShell session as Administrator. This can be done by right clicking on the PowerShell icon and selecting ‘Run as Administrator’, or by running the following command from any PowerShell session.\n\n``` powershell\nstart-process powershell -Verb runAs\n```\n\nUse the following command to download the configuration script. The script can also be manually downloaded from this location - [Configuration Script](http://aka.ms/newcontainerhost).\n \n``` PowerShell\nwget -uri https://aka.ms/newcontainerhost -OutFile New-ContainerHost.ps1\n```\n   \nRun the following command to create and configure the container host where `<containerhost>` will be the virtual machine name and `<password>` will be the password assigned to the Administrator account.\n\n``` powershell\n.\\New-ContainerHost.ps1 –VmName <containerhost> -Password <password>\n```\n  \nWhen the script begins you will be asked to read and accept licensing terms.\n\n```\nBefore installing and using the Windows Server Technical Preview 3 with Containers virtual machine you must:\n    1. Review the license terms by navigating to this link: http://aka.ms/WindowsServerTP3ContainerVHDEula\n    2. Print and retain a copy of the license terms for your records.\nBy downloading and using the Windows Server Technical Preview 3 with Containers virtual machine you agree to such\nlicense terms. Please confirm you have accepted and agree to the license terms.\n[N] No  [Y] Yes  [?] Help (default is \"N\"): Y\n```\n\nThe script will then begin to download and configure the Windows Server Container components. This process may take quite some time due to the large download. When finished your Virtual Machine will be configured and ready for you to create and manage Windows Server Containers and Windows Server Container Images with both PowerShell and Docker.  \n\nYou may receive the following message during the Window Server Container host deployment process. \n```\nThis VM is not connected to the network. To connect it, run the following:\nGet-VM | Get-VMNetworkAdapter | Connect-VMNetworkAdapter -Switchname <switchname>\n```  \nIf you do, check the properties of the virtual machine and connect the virtual machine to a virtual switch. You can also run the following PowerShell command where `<switchname>` is the name of the Hyper-V virtual switch that you would like to connect to the virtual machine.\n\n``` powershell \nGet-VM | Get-VMNetworkAdapter | Connect-VMNetworkAdapter -Switchname <switchname>\n```\n\nWhen the configuration script has completed, start the virtual machine. The VM is configured with Windows Server 2016 Core and will look like the following.\n  \n<center>![](./media/containerhost2.png)</center><br />\n  \nFinally log into the virtual machine using the password specified during the configuration process and make sure that the Virtual Machine has a valid IP address. With these items completed your system should be ready for Windows Server Containers. \n\n## Video Walkthrough\n\n<iframe src=\"https://channel9.msdn.com/Blogs/containers/Quick-Start-Configure-Windows-Server-Containers-on-a-Local-System/player\" width=\"800\" height=\"450\" allowFullScreen=\"true\" frameBorder=\"0\" scrolling=\"no\"></iframe>\n\n\n## Next Steps - Start Using Containers\n\nNow that you have a Windows Server 2016 system running the Windows Server Container feature jump to the following guides to begin working with Windows Server Containers and Windows Server Container images. \n \n[Quick Start: Windows Server Containers and Docker](./manage_docker.md) \n\n[Quick Start: Windows Server Containers and PowerShell](./manage_powershell.md) \n\n-------------------\n\n[Back to Container Home](../containers_welcome.md)  \n[Known Issues for Current Release](../about/work_in_progress.md)\n"
}