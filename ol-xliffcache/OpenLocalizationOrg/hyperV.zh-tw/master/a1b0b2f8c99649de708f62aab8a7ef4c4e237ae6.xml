{
  "nodes": [
    {
      "content": "Using the BizTalk Transform in logic apps in Azure App Service| Microsoft Azure",
      "pos": [
        28,
        107
      ]
    },
    {
      "content": "Learn how to transform XML documents from one schema to another",
      "pos": [
        127,
        190
      ]
    },
    {
      "content": "BizTalk Transform",
      "pos": [
        518,
        535
      ]
    },
    {
      "content": "Overview",
      "pos": [
        541,
        549
      ]
    },
    {
      "content": "Put simply, the BizTalk Transform API App converts data from one format to another format.",
      "pos": [
        550,
        640
      ]
    },
    {
      "content": "For example, you might take shipping and billing addresses from a purchase order and insert them into an invoice document.",
      "pos": [
        641,
        763
      ]
    },
    {
      "content": "Or you may have an incoming message that contains the current date in the <bpt id=\"p1\">*</bpt>YearMonthDay<ept id=\"p1\">*</ept> format.",
      "pos": [
        764,
        860
      ]
    },
    {
      "content": "You want to reformat the date to be in the <bpt id=\"p1\">*</bpt>MonthDayYear<ept id=\"p1\">*</ept> format.",
      "pos": [
        861,
        926
      ]
    },
    {
      "content": "You can do this using the Transform API App in Microsoft Azure App Service.",
      "pos": [
        929,
        1004
      ]
    },
    {
      "content": "A Transform, which is also known as a map, consists of a Source XML schema (the input) and a Target XML schema (the output).",
      "pos": [
        1005,
        1129
      ]
    },
    {
      "content": "You can use different built-in functions to help manipulate or control the data, including string manipulations, conditional assignments, arithmetic expressions, date time formatters, and even looping constructs.",
      "pos": [
        1130,
        1342
      ]
    },
    {
      "content": "Maps are created in Visual Studio using the <bpt id=\"p1\">[</bpt>Microsoft Azure BizTalk Services SDK<ept id=\"p1\">](http://www.microsoft.com/download/details.aspx?id=39087)</ept>.",
      "pos": [
        1345,
        1485
      ]
    },
    {
      "content": "When you are finished creating and testing the map, you upload the map (.trfm) into the BizTalk Transform API App.",
      "pos": [
        1486,
        1600
      ]
    },
    {
      "content": "Additional features include:",
      "pos": [
        1602,
        1630
      ]
    },
    {
      "content": "The transformation created in a map can be simple, such as copying a name and address from one document to another.",
      "pos": [
        1634,
        1749
      ]
    },
    {
      "content": "Or, you can create more complex transformations using the out-of-the-box map operations.",
      "pos": [
        1750,
        1838
      ]
    },
    {
      "content": "Multiple map operations or functions are readily available, including strings, date time functions, and so on.",
      "pos": [
        1841,
        1951
      ]
    },
    {
      "content": "Can do a direct data copy between the schemas.",
      "pos": [
        1954,
        2000
      ]
    },
    {
      "content": "In the BizTalk Mapper, this is as simple as drawing a line that connects the elements in the source schema with their counterparts in the destination schema.",
      "pos": [
        2001,
        2158
      ]
    },
    {
      "content": "When creating a map, you view a graphical representation of the map, including seeing all the relationships and links you create.",
      "pos": [
        2161,
        2290
      ]
    },
    {
      "content": "Use the <bpt id=\"p1\">**</bpt>Test Map<ept id=\"p1\">**</ept> feature to add a sample XML message.",
      "pos": [
        2293,
        2350
      ]
    },
    {
      "content": "With a simple click, you can test the map you created, and see the generated output.",
      "pos": [
        2351,
        2435
      ]
    },
    {
      "content": "Upload existing Azure BizTalk Service maps (.trfm) and use all the benefits of the Transform API App.",
      "pos": [
        2438,
        2539
      ]
    },
    {
      "content": "When you create the map, you don't need to add a schema.",
      "pos": [
        2542,
        2598
      ]
    },
    {
      "content": "When your map is ready, add it to the Transform API App and you're ready to go.",
      "pos": [
        2599,
        2678
      ]
    },
    {
      "content": "Includes support for the XML format.",
      "pos": [
        2682,
        2718
      ]
    },
    {
      "content": "Download Schemas from Connector API Apps",
      "pos": [
        2724,
        2764
      ]
    },
    {
      "content": "You can download the XML schemas for connectors such as SQL, SAP and SharePoint from the API App summary page.",
      "pos": [
        2765,
        2875
      ]
    },
    {
      "content": "For example, if you want to download XML schemas for a specific SAP Connector API App, browse for the API App and open the summary page.",
      "pos": [
        2876,
        3012
      ]
    },
    {
      "content": "Select <bpt id=\"p1\">**</bpt>Download Schemas<ept id=\"p1\">**</ept> and a zip file with all the schemas corresponding to the SAP actions is downloaded to your computer.",
      "pos": [
        3013,
        3141
      ]
    },
    {
      "content": "You can use the schemas to author a map (.trfm) in Visual Studio.",
      "pos": [
        3142,
        3207
      ]
    },
    {
      "content": "Create and Add the Map",
      "pos": [
        3213,
        3235
      ]
    },
    {
      "pos": [
        3236,
        3416
      ],
      "content": "Transforms or Maps are created in Visual Studio using the <bpt id=\"p1\">[</bpt>Microsoft Azure BizTalk Services SDK<ept id=\"p1\">](http://www.microsoft.com/download/details.aspx?id=39087)</ept>, which is a free download."
    },
    {
      "content": "For help creating a Map, see <bpt id=\"p1\">[</bpt>Create a Map in Visual Studio<ept id=\"p1\">](http://aka.ms/createamapinvs)</ept>.",
      "pos": [
        3419,
        3510
      ]
    },
    {
      "content": "After the map is created and ready for production, you can add the Map (.trfm file) to the BizTalk Transform API App you created in the Azure portal.",
      "pos": [
        3511,
        3660
      ]
    },
    {
      "content": "If the map changes or is modified after it is uploaded, you can upload the updated map to replace the existing map in the Transform API App.",
      "pos": [
        3663,
        3803
      ]
    },
    {
      "content": "Select <bpt id=\"p1\">**</bpt>Browse<ept id=\"p1\">**</ept> on Azure portal (left of the screen) and select <bpt id=\"p2\">**</bpt>API Apps<ept id=\"p2\">**</ept>.",
      "pos": [
        3809,
        3888
      ]
    },
    {
      "content": "If <bpt id=\"p1\">**</bpt>API Apps<ept id=\"p1\">**</ept> isn't displayed, select <bpt id=\"p2\">**</bpt>Everything<ept id=\"p2\">**</ept>, and select <bpt id=\"p3\">**</bpt>API Apps<ept id=\"p3\">**</ept> from the available list:",
      "pos": [
        3889,
        3993
      ]
    },
    {
      "pos": [
        4011,
        4084
      ],
      "content": "The list of all <bpt id=\"p1\">**</bpt>API Apps<ept id=\"p1\">**</ept> created in your Azure subscription is shown:"
    },
    {
      "content": "Select the BizTalk Transform API App you created in the previous section.",
      "pos": [
        4102,
        4175
      ]
    },
    {
      "content": "The configuration blade for the API App opens.",
      "pos": [
        4181,
        4227
      ]
    },
    {
      "content": "You can see <bpt id=\"p1\">**</bpt>Maps<ept id=\"p1\">**</ept> in the Components section:",
      "pos": [
        4228,
        4275
      ]
    },
    {
      "pos": [
        4293,
        4353
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>Maps<ept id=\"p1\">**</ept> to open the new blade with the list of maps."
    },
    {
      "pos": [
        4359,
        4428
      ],
      "content": "Select the <bpt id=\"p1\">**</bpt>Add Map<ept id=\"p1\">**</ept> icon on the top to open the <bpt id=\"p2\">**</bpt>Add Map<ept id=\"p2\">**</ept> blade:"
    },
    {
      "content": "Select the File icon and browse for a map file (.trfm) from your local computer.",
      "pos": [
        4447,
        4527
      ]
    },
    {
      "content": "Select <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> and a new map is created.",
      "pos": [
        4533,
        4572
      ]
    },
    {
      "content": "It is shown in the list of maps.",
      "pos": [
        4573,
        4605
      ]
    },
    {
      "content": "Use a BizTalk Transform API App in a Logic App",
      "pos": [
        4611,
        4657
      ]
    },
    {
      "content": "Once the map has been authored and tested, it is now ready for consumption.",
      "pos": [
        4658,
        4733
      ]
    },
    {
      "content": "Within the Logic App, BizTalk Transform is available in the gallery to the right.",
      "pos": [
        4738,
        4819
      ]
    },
    {
      "content": "Select  <bpt id=\"p1\">**</bpt>BizTalk Transform Service<ept id=\"p1\">**</ept> from the gallery.",
      "pos": [
        4820,
        4875
      ]
    },
    {
      "content": "The Transform is added to the flow:",
      "pos": [
        4876,
        4911
      ]
    },
    {
      "content": "Select the <bpt id=\"p1\">**</bpt>Transform<ept id=\"p1\">**</ept> action.",
      "pos": [
        4929,
        4961
      ]
    },
    {
      "content": "The input parameters are displayed:",
      "pos": [
        4962,
        4997
      ]
    },
    {
      "pos": [
        5015,
        5097
      ],
      "content": "Enter the following parameters to complete the <bpt id=\"p1\">**</bpt>Transform<ept id=\"p1\">**</ept> action configuration:"
    },
    {
      "content": "Input XML",
      "pos": [
        5114,
        5123
      ]
    },
    {
      "content": "Enter the valid XML content that conforms to the source schema of a map in Transform API App.",
      "pos": [
        5134,
        5227
      ]
    },
    {
      "content": "This can be an output from a previous action in Logic App such as ‘Call RFC – SAP’ or ‘Insert Into Table – SQL’.",
      "pos": [
        5228,
        5340
      ]
    },
    {
      "content": "Map Name (optional)",
      "pos": [
        5356,
        5375
      ]
    },
    {
      "content": "Enter a valid map name that is already uploaded in your Transform API App.",
      "pos": [
        5386,
        5460
      ]
    },
    {
      "content": "If no map is entered, the map is automatically selected based on the source schema to which the input XML conforms to.",
      "pos": [
        5461,
        5579
      ]
    },
    {
      "content": "The output of the action 'Output XML' can be used in subsequent actions in your Logic Apps.",
      "pos": [
        5597,
        5688
      ]
    }
  ],
  "content": "<properties \n    pageTitle=\"Using the BizTalk Transform in logic apps in Azure App Service| Microsoft Azure\" \n    description=\"Learn how to transform XML documents from one schema to another\" \n    authors=\"anuragdalmia\" \n    manager=\"dwrede\" \n    editor=\"\" \n    services=\"app-service\\logic\" \n    documentationCenter=\"\"/>\n\n<tags\n    ms.service=\"app-service-logic\"\n    ms.workload=\"integration\"\n    ms.tgt_pltfrm=\"na\"\n    ms.devlang=\"na\"\n    ms.topic=\"article\"\n    ms.date=\"12/07/2015\"\n    ms.author=\"anuragdalmia\"/>\n\n# BizTalk Transform\n\n\n## Overview\nPut simply, the BizTalk Transform API App converts data from one format to another format. For example, you might take shipping and billing addresses from a purchase order and insert them into an invoice document. Or you may have an incoming message that contains the current date in the *YearMonthDay* format. You want to reformat the date to be in the *MonthDayYear* format. \n\nYou can do this using the Transform API App in Microsoft Azure App Service. A Transform, which is also known as a map, consists of a Source XML schema (the input) and a Target XML schema (the output). You can use different built-in functions to help manipulate or control the data, including string manipulations, conditional assignments, arithmetic expressions, date time formatters, and even looping constructs. \n\nMaps are created in Visual Studio using the [Microsoft Azure BizTalk Services SDK](http://www.microsoft.com/download/details.aspx?id=39087). When you are finished creating and testing the map, you upload the map (.trfm) into the BizTalk Transform API App.\n\nAdditional features include:\n\n- The transformation created in a map can be simple, such as copying a name and address from one document to another. Or, you can create more complex transformations using the out-of-the-box map operations.\n- Multiple map operations or functions are readily available, including strings, date time functions, and so on.\n- Can do a direct data copy between the schemas. In the BizTalk Mapper, this is as simple as drawing a line that connects the elements in the source schema with their counterparts in the destination schema.\n- When creating a map, you view a graphical representation of the map, including seeing all the relationships and links you create.\n- Use the **Test Map** feature to add a sample XML message. With a simple click, you can test the map you created, and see the generated output.\n- Upload existing Azure BizTalk Service maps (.trfm) and use all the benefits of the Transform API App.\n- When you create the map, you don't need to add a schema. When your map is ready, add it to the Transform API App and you're ready to go. \n- Includes support for the XML format.\n\n\n## Download Schemas from Connector API Apps\nYou can download the XML schemas for connectors such as SQL, SAP and SharePoint from the API App summary page. For example, if you want to download XML schemas for a specific SAP Connector API App, browse for the API App and open the summary page. Select **Download Schemas** and a zip file with all the schemas corresponding to the SAP actions is downloaded to your computer. You can use the schemas to author a map (.trfm) in Visual Studio.\n\n\n## Create and Add the Map\nTransforms or Maps are created in Visual Studio using the [Microsoft Azure BizTalk Services SDK](http://www.microsoft.com/download/details.aspx?id=39087), which is a free download. \n\nFor help creating a Map, see [Create a Map in Visual Studio](http://aka.ms/createamapinvs). After the map is created and ready for production, you can add the Map (.trfm file) to the BizTalk Transform API App you created in the Azure portal. \n\nIf the map changes or is modified after it is uploaded, you can upload the updated map to replace the existing map in the Transform API App.\n\n1.  Select **Browse** on Azure portal (left of the screen) and select **API Apps**. If **API Apps** isn't displayed, select **Everything**, and select **API Apps** from the available list:\n\n    ![][7]\n\n2.  The list of all **API Apps** created in your Azure subscription is shown:\n\n    ![][8]\n\n3.  Select the BizTalk Transform API App you created in the previous section.\n\n4.  The configuration blade for the API App opens. You can see **Maps** in the Components section:\n\n    ![][9]\n\n5.  Select **Maps** to open the new blade with the list of maps.\n\n6.  Select the **Add Map** icon on the top to open the **Add Map** blade:\n\n    ![][10]\n\n7.  Select the File icon and browse for a map file (.trfm) from your local computer.\n\n8.  Select **OK** and a new map is created. It is shown in the list of maps.\n\n\n## Use a BizTalk Transform API App in a Logic App\nOnce the map has been authored and tested, it is now ready for consumption.\n\n1. Within the Logic App, BizTalk Transform is available in the gallery to the right. Select  **BizTalk Transform Service** from the gallery. The Transform is added to the flow:\n\n    ![][11]\n\n2. Select the **Transform** action. The input parameters are displayed:\n\n    ![][12]\n\n3. Enter the following parameters to complete the **Transform** action configuration:\n         \n    - Input XML\n        - Enter the valid XML content that conforms to the source schema of a map in Transform API App. This can be an output from a previous action in Logic App such as ‘Call RFC – SAP’ or ‘Insert Into Table – SQL’.\n        \n    - Map Name (optional)\n        - Enter a valid map name that is already uploaded in your Transform API App. If no map is entered, the map is automatically selected based on the source schema to which the input XML conforms to.\n\n    ![][13]\n\n4. The output of the action 'Output XML' can be used in subsequent actions in your Logic Apps.\n\n<!--Image references-->\n[1]: ./media/app-service-logic-transform-xml-documents/Create_Everything.png\n[2]: ./media/app-service-logic-transform-xml-documents/Create_Marketplace.png\n[4]: ./media/app-service-logic-transform-xml-documents/Search_TransformAPIApp.png\n[5]: ./media/app-service-logic-transform-xml-documents/Transform_APIApp_Landing_Page.png\n[6]: ./media/app-service-logic-transform-xml-documents/New_TransformAPIApp_Blade.png\n[7]: ./media/app-service-logic-transform-xml-documents/Browse_APIApps.png\n[8]: ./media/app-service-logic-transform-xml-documents/Select_APIApp_List.png\n[9]: ./media/app-service-logic-transform-xml-documents/Configure_Transform_APIApp.png\n[10]: ./media/app-service-logic-transform-xml-documents/Add_Map.png\n[11]: ./media/app-service-logic-transform-xml-documents/Transform_action_flow.png\n[12]: ./media/app-service-logic-transform-xml-documents/Transform_Inputs.png\n[13]: ./media/app-service-logic-transform-xml-documents/Transform_configured.png\n[14]: ./media/app-service-logic-transform-xml-documents/Download_Schemas.png\n\n\n\n \n\n"
}