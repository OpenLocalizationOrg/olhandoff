{
  "nodes": [
    {
      "content": "How to create a VNet using the Azure CLI",
      "pos": [
        3,
        43
      ]
    },
    {
      "content": "You can use the Azure CLI to manage your Azure resources from the command prompt from any computer running Windows, Linux, or OSX.",
      "pos": [
        45,
        175
      ]
    },
    {
      "content": "To create a VNet by using the Azure CLI, follow the steps below.",
      "pos": [
        176,
        240
      ]
    },
    {
      "pos": [
        245,
        456
      ],
      "content": "If you have never used the Azure CLI, see <bpt id=\"p1\">[</bpt>Install and Configure the Azure CLI<ept id=\"p1\">](../articles/xplat-cli-install.md)</ept> and follow the instructions up to the point where you select your Azure account and subscription."
    },
    {
      "pos": [
        460,
        549
      ],
      "content": "Run the <bpt id=\"p1\">**</bpt>azure config mode<ept id=\"p1\">**</ept> command to switch to Resource Manager mode, as shown below."
    },
    {
      "content": "Here is the expected output for the command above:",
      "pos": [
        586,
        636
      ]
    },
    {
      "content": "If necessary, run the <bpt id=\"p1\">**</bpt>azure group create<ept id=\"p1\">**</ept> to create a new resource group, as shown below.",
      "pos": [
        675,
        767
      ]
    },
    {
      "content": "Notice the output of the command.",
      "pos": [
        768,
        801
      ]
    },
    {
      "content": "The list shown after the output explains the parameters used.",
      "pos": [
        802,
        863
      ]
    },
    {
      "content": "For more information about resource groups, visit <bpt id=\"p1\">[</bpt>Azure Resource Manager Overview<ept id=\"p1\">](../articles/virtual-network/resource-group-overview.md/#resource-groups)</ept>.",
      "pos": [
        864,
        1021
      ]
    },
    {
      "content": "Here is the expected output for the command above:",
      "pos": [
        1078,
        1128
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>-n (or --name)<ept id=\"p1\">**</ept>.",
      "pos": [
        1649,
        1668
      ]
    },
    {
      "content": "Name for the new resource group.",
      "pos": [
        1669,
        1701
      ]
    },
    {
      "content": "For our scenario, <bpt id=\"p1\">*</bpt>TestRG<ept id=\"p1\">*</ept>.",
      "pos": [
        1702,
        1729
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>-l (or --location)<ept id=\"p1\">**</ept>.",
      "pos": [
        1736,
        1759
      ]
    },
    {
      "content": "Azure region where the new resource group will be created.",
      "pos": [
        1760,
        1818
      ]
    },
    {
      "content": "For our scenario, <bpt id=\"p1\">*</bpt>centralus<ept id=\"p1\">*</ept>.",
      "pos": [
        1819,
        1849
      ]
    },
    {
      "pos": [
        1854,
        1946
      ],
      "content": "Run the <bpt id=\"p1\">**</bpt>azure network vnet create<ept id=\"p1\">**</ept> command to create a VNet and a subnet, as shown below."
    },
    {
      "content": "Here is the expected output for the command above:",
      "pos": [
        2041,
        2091
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>-g (or --resource-group)<ept id=\"p1\">**</ept>.",
      "pos": [
        2852,
        2881
      ]
    },
    {
      "content": "Name of the resource group where the VNet will be created.",
      "pos": [
        2882,
        2940
      ]
    },
    {
      "content": "For our scenario, <bpt id=\"p1\">*</bpt>TestRG<ept id=\"p1\">*</ept>.",
      "pos": [
        2941,
        2968
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>-n (or --name)<ept id=\"p1\">**</ept>.",
      "pos": [
        2975,
        2994
      ]
    },
    {
      "content": "Name of the VNet to be created.",
      "pos": [
        2995,
        3026
      ]
    },
    {
      "content": "For our scenario, <bpt id=\"p1\">*</bpt>TestVNet<ept id=\"p1\">*</ept>",
      "pos": [
        3027,
        3055
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>-a (or --address-prefixes)<ept id=\"p1\">**</ept>.",
      "pos": [
        3062,
        3093
      ]
    },
    {
      "content": "List of CIDR blocks used for the VNet address space.",
      "pos": [
        3094,
        3146
      ]
    },
    {
      "content": "For our scenario, <bpt id=\"p1\">*</bpt>192.168.0.0/16<ept id=\"p1\">*</ept>",
      "pos": [
        3147,
        3181
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>-l (or --location)<ept id=\"p1\">**</ept>.",
      "pos": [
        3188,
        3211
      ]
    },
    {
      "content": "Azure region where the VNet will be created.",
      "pos": [
        3212,
        3256
      ]
    },
    {
      "content": "For our scenario, <bpt id=\"p1\">*</bpt>centralus<ept id=\"p1\">*</ept>.",
      "pos": [
        3257,
        3287
      ]
    },
    {
      "content": "Run the <bpt id=\"p1\">**</bpt>azure network vnet subnet create<ept id=\"p1\">**</ept> command to create a subnet as shown below.",
      "pos": [
        3292,
        3379
      ]
    },
    {
      "content": "Notice the output of the command.",
      "pos": [
        3380,
        3413
      ]
    },
    {
      "content": "The list shown after the output explains the parameters used.",
      "pos": [
        3414,
        3475
      ]
    },
    {
      "content": "Here is the expected output for the command above:",
      "pos": [
        3575,
        3625
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>-e (or --vnet-name<ept id=\"p1\">**</ept>.",
      "pos": [
        4363,
        4386
      ]
    },
    {
      "content": "Name of the VNet where the subnet will be created.",
      "pos": [
        4387,
        4437
      ]
    },
    {
      "content": "For our scenario, <bpt id=\"p1\">*</bpt>TestVNet<ept id=\"p1\">*</ept>.",
      "pos": [
        4438,
        4467
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>-n (or --name)<ept id=\"p1\">**</ept>.",
      "pos": [
        4474,
        4493
      ]
    },
    {
      "content": "Name of the new subnet.",
      "pos": [
        4494,
        4517
      ]
    },
    {
      "content": "For our scenario, <bpt id=\"p1\">*</bpt>FrontEnd<ept id=\"p1\">*</ept>.",
      "pos": [
        4518,
        4547
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>-a (or --address-prefix)<ept id=\"p1\">**</ept>.",
      "pos": [
        4554,
        4583
      ]
    },
    {
      "content": "Subnet CIDR block.",
      "pos": [
        4584,
        4602
      ]
    },
    {
      "content": "Four our scenario, <bpt id=\"p1\">*</bpt>192.168.1.0/24<ept id=\"p1\">*</ept>.",
      "pos": [
        4603,
        4639
      ]
    },
    {
      "content": "Repeat step 5 above to create other subnets, if necessary.",
      "pos": [
        4644,
        4702
      ]
    },
    {
      "content": "For our scenario, run the command below to create the <bpt id=\"p1\">*</bpt>BackEnd<ept id=\"p1\">*</ept> subnet.",
      "pos": [
        4703,
        4774
      ]
    },
    {
      "pos": [
        4872,
        4971
      ],
      "content": "Run the <bpt id=\"p1\">**</bpt>azure network vnet show<ept id=\"p1\">**</ept> command to view the properties of the new vnet, as shown below."
    },
    {
      "content": "Here is the expected output for the command above:",
      "pos": [
        5032,
        5082
      ]
    }
  ],
  "content": "## How to create a VNet using the Azure CLI\n\nYou can use the Azure CLI to manage your Azure resources from the command prompt from any computer running Windows, Linux, or OSX. To create a VNet by using the Azure CLI, follow the steps below.\n\n1. If you have never used the Azure CLI, see [Install and Configure the Azure CLI](../articles/xplat-cli-install.md) and follow the instructions up to the point where you select your Azure account and subscription.\n2. Run the **azure config mode** command to switch to Resource Manager mode, as shown below.\n\n        azure config mode arm\n\n    Here is the expected output for the command above:\n\n        info:    New mode is arm\n\n3. If necessary, run the **azure group create** to create a new resource group, as shown below. Notice the output of the command. The list shown after the output explains the parameters used. For more information about resource groups, visit [Azure Resource Manager Overview](../articles/virtual-network/resource-group-overview.md/#resource-groups).\n\n        azure group create -n TestRG -l centralus\n\n    Here is the expected output for the command above:\n\n        info:    Executing command group create\n        + Getting resource group TestRG\n        + Creating resource group TestRG\n        info:    Created resource group TestRG\n        data:    Id:                  /subscriptions/628dad04-b5d1-4f10-b3a4-dc61d88cf97c/resourceGroups/TestRG\n        data:    Name:                TestRG\n        data:    Location:            centralus\n        data:    Provisioning State:  Succeeded\n        data:    Tags: null\n        data:\n        info:    group create command OK\n\n    - **-n (or --name)**. Name for the new resource group. For our scenario, *TestRG*.\n    - **-l (or --location)**. Azure region where the new resource group will be created. For our scenario, *centralus*.\n\n4. Run the **azure network vnet create** command to create a VNet and a subnet, as shown below. \n\n        azure network vnet create -g TestRG -n TestVNet -a 192.168.0.0/16 -l centralus\n\n    Here is the expected output for the command above:\n\n        info:    Executing command network vnet create\n        + Looking up virtual network \"TestVNet\"\n        + Creating virtual network \"TestVNet\"\n        + Loading virtual network state\n        data:    Id                              : /subscriptions/628dad04-b5d1-4f10-b3a4-dc61d88cf97c/resourceGroups/TestRG/providers/Microsoft.Network/virtualNetworks/TestVNet2\n        data:    Name                            : TestVNet\n        data:    Type                            : Microsoft.Network/virtualNetworks\n        data:    Location                        : centralus\n        data:    ProvisioningState               : Succeeded\n        data:    Address prefixes:\n        data:      192.168.0.0/16\n        info:    network vnet create command OK\n\n    - **-g (or --resource-group)**. Name of the resource group where the VNet will be created. For our scenario, *TestRG*.\n    - **-n (or --name)**. Name of the VNet to be created. For our scenario, *TestVNet*\n    - **-a (or --address-prefixes)**. List of CIDR blocks used for the VNet address space. For our scenario, *192.168.0.0/16*\n    - **-l (or --location)**. Azure region where the VNet will be created. For our scenario, *centralus*.\n\n5. Run the **azure network vnet subnet create** command to create a subnet as shown below. Notice the output of the command. The list shown after the output explains the parameters used.\n\n        azure network vnet subnet create -g TestRG -e TestVNet -n FrontEnd -a 192.168.1.0/24\n\n    Here is the expected output for the command above:\n\n        info:    Executing command network vnet subnet create\n        + Looking up the subnet \"FrontEnd\"\n        + Creating subnet \"FrontEnd\"\n        + Looking up the subnet \"FrontEnd\"\n        data:    Id                              : /subscriptions/628dad04-b5d1-4f10-b3a4-dc61d88cf97c/resourceGroups/TestRG/providers/Microsoft.Network/virtualNetworks/TestVNet/subnets/FrontEnd\n        data:    Type                            : Microsoft.Network/virtualNetworks/subnets\n        data:    ProvisioningState               : Succeeded\n        data:    Name                            : FrontEnd\n        data:    Address prefix                  : 192.168.1.0/24\n        data:\n        info:    network vnet subnet create command OK\n\n    - **-e (or --vnet-name**. Name of the VNet where the subnet will be created. For our scenario, *TestVNet*.\n    - **-n (or --name)**. Name of the new subnet. For our scenario, *FrontEnd*.\n    - **-a (or --address-prefix)**. Subnet CIDR block. Four our scenario, *192.168.1.0/24*.\n\n6. Repeat step 5 above to create other subnets, if necessary. For our scenario, run the command below to create the *BackEnd* subnet.\n\n        azure network vnet subnet create -g TestRG -e TestVNet -n BackEnd -a 192.168.2.0/24\n\n4. Run the **azure network vnet show** command to view the properties of the new vnet, as shown below.\n\n        azure network vnet show -g TestRG -n TestVNet\n\n    Here is the expected output for the command above:\n\n        info:    Executing command network vnet show\n        + Looking up virtual network \"TestVNet\"\n        data:    Id                              : /subscriptions/628dad04-b5d1-4f10-b3a4-dc61d88cf97c/resourceGroups/TestRG/providers/Microsoft.Network/virtualNetworks/TestVNet\n        data:    Name                            : TestVNet\n        data:    Type                            : Microsoft.Network/virtualNetworks\n        data:    Location                        : centralus\n        data:    ProvisioningState               : Succeeded\n        data:    Address prefixes:\n        data:      192.168.0.0/16\n        data:    Subnets:\n        data:      Name                          : FrontEnd\n        data:      Address prefix                : 192.168.1.0/24\n        data:\n        data:      Name                          : BackEnd\n        data:      Address prefix                : 192.168.2.0/24\n        data:\n        info:    network vnet show command OK\n"
}