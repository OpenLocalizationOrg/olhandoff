{
  "nodes": [
    {
      "content": "Create an access change history report | Microsoft Azure",
      "pos": [
        27,
        83
      ]
    },
    {
      "content": "Generate a report that lists all changes in access to your Azure subscriptions with Role-Based Access Control over the past 90 days.",
      "pos": [
        102,
        234
      ]
    },
    {
      "content": "Create an access change history report",
      "pos": [
        558,
        596
      ]
    },
    {
      "content": "When you're not the sole owner of your Azure subscriptions, or the resources and resource groups within them, you need to be able to keep track of all access changes.",
      "pos": [
        598,
        764
      ]
    },
    {
      "content": "Any time someone grants or revokes access within your subscriptions, the changes get logged in Azure events.",
      "pos": [
        765,
        873
      ]
    },
    {
      "content": "You can create access change history reports to see all changes for the past 90 days.",
      "pos": [
        874,
        959
      ]
    },
    {
      "content": "Create a report with Azure PowerShell",
      "pos": [
        964,
        1001
      ]
    },
    {
      "content": "To create an access change history report in PowerShell, use the following command:",
      "pos": [
        1002,
        1085
      ]
    },
    {
      "content": "You can specify which property of the assignments you want listed, including the following:",
      "pos": [
        1130,
        1221
      ]
    },
    {
      "content": "Property",
      "pos": [
        1225,
        1233
      ]
    },
    {
      "content": "Description",
      "pos": [
        1236,
        1247
      ]
    },
    {
      "content": "Action",
      "pos": [
        1281,
        1287
      ]
    },
    {
      "content": "Whether access was granted or revoked",
      "pos": [
        1292,
        1329
      ]
    },
    {
      "content": "Caller",
      "pos": [
        1336,
        1342
      ]
    },
    {
      "content": "The owner responsible for the access change",
      "pos": [
        1347,
        1390
      ]
    },
    {
      "content": "Date",
      "pos": [
        1397,
        1401
      ]
    },
    {
      "content": "The date and time that access was changed",
      "pos": [
        1406,
        1447
      ]
    },
    {
      "content": "DirectoryName",
      "pos": [
        1454,
        1467
      ]
    },
    {
      "content": "The Azure Active Directory directory",
      "pos": [
        1472,
        1508
      ]
    },
    {
      "content": "PrincipalName",
      "pos": [
        1515,
        1528
      ]
    },
    {
      "content": "The name of the user, group, or application",
      "pos": [
        1533,
        1576
      ]
    },
    {
      "content": "PrincipalType",
      "pos": [
        1583,
        1596
      ]
    },
    {
      "content": "Whether the assignment was for a user, group, or application",
      "pos": [
        1601,
        1661
      ]
    },
    {
      "content": "RoleId",
      "pos": [
        1668,
        1674
      ]
    },
    {
      "content": "The GUID of the role that was granted or revoked",
      "pos": [
        1679,
        1727
      ]
    },
    {
      "content": "RoleName",
      "pos": [
        1734,
        1742
      ]
    },
    {
      "content": "The role that was granted or revoked",
      "pos": [
        1747,
        1783
      ]
    },
    {
      "content": "ScopeName",
      "pos": [
        1790,
        1799
      ]
    },
    {
      "content": "The name of the subscription, resource group, or resource",
      "pos": [
        1804,
        1861
      ]
    },
    {
      "content": "ScopeType",
      "pos": [
        1868,
        1877
      ]
    },
    {
      "content": "Whether the assignment was at the subscription, resource group, or resource scope",
      "pos": [
        1882,
        1963
      ]
    },
    {
      "content": "SubscriptionId",
      "pos": [
        1970,
        1984
      ]
    },
    {
      "content": "The GUID of the Azure subscription",
      "pos": [
        1989,
        2023
      ]
    },
    {
      "content": "SubscriptionName",
      "pos": [
        2030,
        2046
      ]
    },
    {
      "content": "The name of the Azure subscription",
      "pos": [
        2051,
        2085
      ]
    },
    {
      "content": "This example command lists all access changes in the subscription for the past 7 days:",
      "pos": [
        2089,
        2175
      ]
    },
    {
      "content": "PowerShell Get-AzureRMAuthorizationChangeLog - screenshot",
      "pos": [
        2353,
        2410
      ]
    },
    {
      "content": "Create a report with Azure CLI",
      "pos": [
        2487,
        2517
      ]
    },
    {
      "content": "To create an access change history report in the Azure command line interface (CLI), use the following command:",
      "pos": [
        2518,
        2629
      ]
    },
    {
      "content": "Export to a spreadsheet",
      "pos": [
        2672,
        2695
      ]
    },
    {
      "content": "To save the report, or manipulate the data, export the access changes into a .csv file.",
      "pos": [
        2696,
        2783
      ]
    },
    {
      "content": "You can then view the report in a spreadsheet for review.",
      "pos": [
        2784,
        2841
      ]
    },
    {
      "content": "Changelog viewed as spreadsheet - screenshot",
      "pos": [
        2845,
        2889
      ]
    },
    {
      "content": "See also",
      "pos": [
        2971,
        2979
      ]
    },
    {
      "pos": [
        2982,
        3072
      ],
      "content": "Get started with <bpt id=\"p1\">[</bpt>Azure Role-Based Access Control<ept id=\"p1\">](role-based-access-control-configure.md)</ept>"
    },
    {
      "pos": [
        3075,
        3156
      ],
      "content": "Work with <bpt id=\"p1\">[</bpt>Custom roles in Azure RBAC<ept id=\"p1\">](role-based-access-control-custom-roles.md)</ept>"
    }
  ],
  "content": "<properties\n    pageTitle=\"Create an access change history report | Microsoft Azure\"\n    description=\"Generate a report that lists all changes in access to your Azure subscriptions with Role-Based Access Control over the past 90 days.\"\n    services=\"active-directory\"\n    documentationCenter=\"\"\n    authors=\"kgremban\"\n    manager=\"stevenpo\"\n    editor=\"\"/>\n\n<tags\n    ms.service=\"active-directory\"\n    ms.devlang=\"na\"\n    ms.topic=\"get-started-article\"\n    ms.tgt_pltfrm=\"na\"\n    ms.workload=\"identity\"\n    ms.date=\"03/23/2016\"\n    ms.author=\"kgremban\"/>\n\n# Create an access change history report\n\nWhen you're not the sole owner of your Azure subscriptions, or the resources and resource groups within them, you need to be able to keep track of all access changes. Any time someone grants or revokes access within your subscriptions, the changes get logged in Azure events. You can create access change history reports to see all changes for the past 90 days.\n\n## Create a report with Azure PowerShell\nTo create an access change history report in PowerShell, use the following command:\n\n```\nGet-AzureRMAuthorizationChangeLog\n```\n\nYou can specify which property of the assignments you want listed, including the following:\n\n| Property | Description |\n| -------- | ----------- |\n| **Action** | Whether access was granted or revoked |\n| **Caller** | The owner responsible for the access change |\n| **Date** | The date and time that access was changed |\n| **DirectoryName** | The Azure Active Directory directory |\n| **PrincipalName** | The name of the user, group, or application |\n| **PrincipalType** | Whether the assignment was for a user, group, or application |\n| **RoleId** | The GUID of the role that was granted or revoked |\n| **RoleName** | The role that was granted or revoked |\n| **ScopeName** | The name of the subscription, resource group, or resource |\n| **ScopeType** | Whether the assignment was at the subscription, resource group, or resource scope |\n| **SubscriptionId** | The GUID of the Azure subscription |\n| **SubscriptionName** | The name of the Azure subscription |\n\nThis example command lists all access changes in the subscription for the past 7 days:\n\n```\nGet-AzureRMAuthorizationChangeLog -StartTime ([DateTime]::Now - [TimeSpan]::FromDays(7)) | FT Caller,Action,RoleName,PrincipalType,PrincipalName,ScopeType,ScopeName\n```\n\n![PowerShell Get-AzureRMAuthorizationChangeLog - screenshot](./media/role-based-access-control-configure/access-change-history.png)\n\n## Create a report with Azure CLI\nTo create an access change history report in the Azure command line interface (CLI), use the following command:\n```\nazure authorization changelog\n```\n\n## Export to a spreadsheet\nTo save the report, or manipulate the data, export the access changes into a .csv file. You can then view the report in a spreadsheet for review.\n\n![Changelog viewed as spreadsheet - screenshot](./media/role-based-access-control-configure/change-history-spreadsheet.png)\n\n## See also\n- Get started with [Azure Role-Based Access Control](role-based-access-control-configure.md)\n- Work with [Custom roles in Azure RBAC](role-based-access-control-custom-roles.md)\n"
}