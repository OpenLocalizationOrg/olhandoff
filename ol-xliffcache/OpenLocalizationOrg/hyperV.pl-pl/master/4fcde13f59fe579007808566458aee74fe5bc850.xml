{
  "nodes": [
    {
      "content": "Azure AD Connect sync: Generic LDAP Connector",
      "pos": [
        26,
        71
      ]
    },
    {
      "content": "This article describes how to configure Microsoft's Generic LDAP Connector.",
      "pos": [
        89,
        164
      ]
    },
    {
      "content": "Generic LDAP Connector technical reference",
      "pos": [
        464,
        506
      ]
    },
    {
      "content": "This article describes the Generic LDAP Connector.",
      "pos": [
        508,
        558
      ]
    },
    {
      "content": "The article applies to the following products:",
      "pos": [
        559,
        605
      ]
    },
    {
      "content": "Microsoft Identity Manager 2016 (MIM2016)",
      "pos": [
        609,
        650
      ]
    },
    {
      "content": "Forefront Identity Manager 2010 R2 (FIM2010R2)",
      "pos": [
        653,
        699
      ]
    },
    {
      "pos": [
        708,
        798
      ],
      "content": "Must use hotfix 4.1.3461.0 or later <bpt id=\"p1\">[</bpt>KB2870703<ept id=\"p1\">](https://support.microsoft.com/kb/2870703)</ept>."
    },
    {
      "pos": [
        800,
        951
      ],
      "content": "For MIM2016 and FIM2010R2 the Connector is available as a download from the <bpt id=\"p1\">[</bpt>Microsoft Download Center<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=717495)</ept>."
    },
    {
      "content": "When referring to IETF RFCs, this document is using the format (RFC [RFC number]/[section in RFC document]), e.g. (RFC 4512/4.3).",
      "pos": [
        953,
        1082
      ]
    },
    {
      "content": "You can find more information at http://tools.ietf.org/html/rfc4500 (you need to replace 4500 with the correct RFC number).",
      "pos": [
        1083,
        1206
      ]
    },
    {
      "content": "Overview of the Generic LDAP Connector",
      "pos": [
        1211,
        1249
      ]
    },
    {
      "content": "The Generic LDAP Connector enable you to integrate the synchronization service with an LDAP v3 server.",
      "pos": [
        1251,
        1353
      ]
    },
    {
      "content": "Certain operations and schema elements, such as those needed to perform delta import, are not specified in the IETF RFCs.",
      "pos": [
        1355,
        1476
      ]
    },
    {
      "content": "For these operations only LDAP directories explicitly specified are supported.",
      "pos": [
        1477,
        1555
      ]
    },
    {
      "content": "From a high level perspective, the following features are supported by the current release of the connector:",
      "pos": [
        1557,
        1665
      ]
    },
    {
      "content": "Feature",
      "pos": [
        1669,
        1676
      ]
    },
    {
      "content": "Support",
      "pos": [
        1679,
        1686
      ]
    },
    {
      "content": "Connected data source",
      "pos": [
        1705,
        1726
      ]
    },
    {
      "content": "The Connector is supported with all LDAP v3 servers (RFC 4510 compliant).",
      "pos": [
        1729,
        1802
      ]
    },
    {
      "content": "It has been tested with the following:",
      "pos": [
        1803,
        1841
      ]
    },
    {
      "content": "Microsoft Active Directory Lightweight Directory Services (AD LDS)",
      "pos": [
        1846,
        1912
      ]
    },
    {
      "content": "Microsoft Active Directory Global Catalog (AD GC)",
      "pos": [
        1921,
        1970
      ]
    },
    {
      "content": "389 Directory Server",
      "pos": [
        1979,
        1999
      ]
    },
    {
      "content": "Apache Directory Server",
      "pos": [
        2008,
        2031
      ]
    },
    {
      "content": "IBM Tivoli DS",
      "pos": [
        2040,
        2053
      ]
    },
    {
      "content": "Isode Directory",
      "pos": [
        2062,
        2077
      ]
    },
    {
      "content": "NetIQ eDirectory",
      "pos": [
        2086,
        2102
      ]
    },
    {
      "content": "Novell eDirectory",
      "pos": [
        2111,
        2128
      ]
    },
    {
      "content": "Open DJ",
      "pos": [
        2137,
        2144
      ]
    },
    {
      "content": "Open DS",
      "pos": [
        2153,
        2160
      ]
    },
    {
      "content": "Open LDAP (openldap.org)",
      "pos": [
        2169,
        2193
      ]
    },
    {
      "content": "Oracle (previously Sun) Directory Server Enterprise Edition",
      "pos": [
        2202,
        2261
      ]
    },
    {
      "content": "RadiantOne Virtual Directory Server (VDS)",
      "pos": [
        2270,
        2311
      ]
    },
    {
      "content": "Sun One Directory Server",
      "pos": [
        2320,
        2344
      ]
    },
    {
      "content": "Notable directories not supported:",
      "pos": [
        2349,
        2383
      ]
    },
    {
      "content": "Microsoft Active Directory Domain Services (AD DS) [Use the built-in Active Directory Connector instead]",
      "pos": [
        2388,
        2492
      ]
    },
    {
      "content": "Oracle Internet Directory (OID)",
      "pos": [
        2501,
        2532
      ]
    },
    {
      "content": "Scenarios",
      "pos": [
        2542,
        2551
      ]
    },
    {
      "content": "Object Lifecycle Management",
      "pos": [
        2558,
        2585
      ]
    },
    {
      "content": "Group Management",
      "pos": [
        2594,
        2610
      ]
    },
    {
      "content": "Password Management",
      "pos": [
        2619,
        2638
      ]
    },
    {
      "content": "Operations",
      "pos": [
        2648,
        2658
      ]
    },
    {
      "content": "The following operations are supported on all LDAP directories:",
      "pos": [
        2660,
        2723
      ]
    },
    {
      "content": "Full Import",
      "pos": [
        2728,
        2739
      ]
    },
    {
      "content": "Export",
      "pos": [
        2748,
        2754
      ]
    },
    {
      "content": "The following operations are only supported on specified directories:",
      "pos": [
        2759,
        2828
      ]
    },
    {
      "content": "Delta import",
      "pos": [
        2832,
        2844
      ]
    },
    {
      "content": "Set Password, Change Password",
      "pos": [
        2853,
        2882
      ]
    },
    {
      "content": "Schema",
      "pos": [
        2892,
        2898
      ]
    },
    {
      "content": "Schema is detected from the LDAP schema (RFC3673 and RFC4512/4.2)",
      "pos": [
        2905,
        2970
      ]
    },
    {
      "content": "Supports structural classes, aux classes, and extensibleObject object class (RFC4512/4.3)",
      "pos": [
        2979,
        3068
      ]
    },
    {
      "content": "Delta import and password management support",
      "pos": [
        3079,
        3123
      ]
    },
    {
      "content": "Supported Directories for Delta import and Password management:",
      "pos": [
        3125,
        3188
      ]
    },
    {
      "content": "Microsoft Active Directory Lightweight Directory Services (AD LDS)",
      "pos": [
        3192,
        3258
      ]
    },
    {
      "content": "Supports all operations for delta import",
      "pos": [
        3265,
        3305
      ]
    },
    {
      "content": "Supports Set Password and Change Password",
      "pos": [
        3312,
        3353
      ]
    },
    {
      "content": "Microsoft Active Directory Global Catalog (AD GC)",
      "pos": [
        3356,
        3405
      ]
    },
    {
      "content": "Supports all operations for delta import",
      "pos": [
        3412,
        3452
      ]
    },
    {
      "content": "Supports Set Password and Change Password",
      "pos": [
        3459,
        3500
      ]
    },
    {
      "content": "389 Directory Server",
      "pos": [
        3503,
        3523
      ]
    },
    {
      "content": "Supports all operations for delta import",
      "pos": [
        3530,
        3570
      ]
    },
    {
      "content": "Supports Set Password",
      "pos": [
        3577,
        3598
      ]
    },
    {
      "content": "Apache Directory Server",
      "pos": [
        3601,
        3624
      ]
    },
    {
      "content": "Does not support delta import since this directory does not have a persistent change log",
      "pos": [
        3631,
        3719
      ]
    },
    {
      "content": "Supports Set Password",
      "pos": [
        3726,
        3747
      ]
    },
    {
      "content": "IBM Tivoli DS",
      "pos": [
        3750,
        3763
      ]
    },
    {
      "content": "Supports all operations for delta import",
      "pos": [
        3770,
        3810
      ]
    },
    {
      "content": "Supports Set Password and Change Password",
      "pos": [
        3817,
        3858
      ]
    },
    {
      "content": "Isode Directory",
      "pos": [
        3861,
        3876
      ]
    },
    {
      "content": "Supports all operations for delta import",
      "pos": [
        3883,
        3923
      ]
    },
    {
      "content": "Supports Set Password and Change Password",
      "pos": [
        3930,
        3971
      ]
    },
    {
      "content": "Novell eDirectory and NetIQ eDirectory",
      "pos": [
        3974,
        4012
      ]
    },
    {
      "content": "Supports Add, Update, and Rename operations for delta import",
      "pos": [
        4019,
        4079
      ]
    },
    {
      "content": "Does not support Delete operations for delta import",
      "pos": [
        4086,
        4137
      ]
    },
    {
      "content": "Supports Set Password and Change Password",
      "pos": [
        4144,
        4185
      ]
    },
    {
      "content": "Open DJ",
      "pos": [
        4188,
        4195
      ]
    },
    {
      "content": "Supports all operations for delta import",
      "pos": [
        4202,
        4242
      ]
    },
    {
      "content": "Supports Set Password",
      "pos": [
        4249,
        4270
      ]
    },
    {
      "content": "Open DS",
      "pos": [
        4273,
        4280
      ]
    },
    {
      "content": "Supports all operations for delta import",
      "pos": [
        4287,
        4327
      ]
    },
    {
      "content": "Supports Set Password",
      "pos": [
        4334,
        4355
      ]
    },
    {
      "content": "Open LDAP (openldap.org)",
      "pos": [
        4358,
        4382
      ]
    },
    {
      "content": "Supports all operations for delta import",
      "pos": [
        4389,
        4429
      ]
    },
    {
      "content": "Supports Set Password",
      "pos": [
        4436,
        4457
      ]
    },
    {
      "content": "Does not support change password",
      "pos": [
        4464,
        4496
      ]
    },
    {
      "content": "Oracle (previously Sun) Directory Server Enterprise Edition",
      "pos": [
        4499,
        4558
      ]
    },
    {
      "content": "Supports all operations for delta import",
      "pos": [
        4565,
        4605
      ]
    },
    {
      "content": "Supports Set Password and Change Password",
      "pos": [
        4612,
        4653
      ]
    },
    {
      "content": "RadiantOne Virtual Directory Server (VDS)",
      "pos": [
        4656,
        4697
      ]
    },
    {
      "content": "Must be using version 7.1.1 or higher",
      "pos": [
        4704,
        4741
      ]
    },
    {
      "content": "Supports all operations for delta import",
      "pos": [
        4748,
        4788
      ]
    },
    {
      "content": "Supports Set Password and Change Password",
      "pos": [
        4795,
        4836
      ]
    },
    {
      "content": "Sun One Directory Server",
      "pos": [
        4840,
        4864
      ]
    },
    {
      "content": "Supports all operations for delta import",
      "pos": [
        4871,
        4911
      ]
    },
    {
      "content": "Supports Set Password and Change Password",
      "pos": [
        4918,
        4959
      ]
    },
    {
      "content": "Prerequisites",
      "pos": [
        4965,
        4978
      ]
    },
    {
      "content": "Before you use the Connector, make sure you have the following on the synchronization server in addition to any hotfix mentioned above:",
      "pos": [
        4980,
        5115
      ]
    },
    {
      "content": "Microsoft .NET 4.5.2 Framework or later",
      "pos": [
        5119,
        5158
      ]
    },
    {
      "content": "Detecting the LDAP server",
      "pos": [
        5164,
        5189
      ]
    },
    {
      "content": "The Connector relies upon a variety of techniques to detect and identify the LDAP server.",
      "pos": [
        5191,
        5280
      ]
    },
    {
      "content": "The Connector uses the Root DSE to find the vendor name and version and it inspects the schema to find unique objects and attributes known to exist in certain LDAP servers.",
      "pos": [
        5281,
        5453
      ]
    },
    {
      "content": "This data, if found, is used to pre-populate the configuration options in the Connector.",
      "pos": [
        5454,
        5542
      ]
    },
    {
      "content": "Connected Data Source permissions",
      "pos": [
        5548,
        5581
      ]
    },
    {
      "content": "To perform import and export operations on the objects in the connected directory, the connector account must have sufficient permissions.",
      "pos": [
        5583,
        5721
      ]
    },
    {
      "content": "The connector will need write permissions to be able to export, and read permissions to be able to import.",
      "pos": [
        5722,
        5828
      ]
    },
    {
      "content": "Permission configuration is performed within the management experiences of the target directory itself.",
      "pos": [
        5829,
        5932
      ]
    },
    {
      "content": "Ports and protocols",
      "pos": [
        5938,
        5957
      ]
    },
    {
      "content": "The connector will use the port number specified in the configuration, which would by default be 389 for LDAP and 636 for LDAPS.",
      "pos": [
        5959,
        6087
      ]
    },
    {
      "content": "For LDAPS, you must use SSL 3.0 or TLS.",
      "pos": [
        6089,
        6128
      ]
    },
    {
      "content": "SSL 2.0 is not supported and cannot be activated.",
      "pos": [
        6129,
        6178
      ]
    },
    {
      "content": "Required controls and features",
      "pos": [
        6184,
        6214
      ]
    },
    {
      "content": "The following LDAP controls/features must be available on the LDAP server for the connector to work properly:",
      "pos": [
        6216,
        6325
      ]
    },
    {
      "content": "1.3.6.1.4.1.4203.1.5.3 True/False filters",
      "pos": [
        6329,
        6370
      ]
    },
    {
      "content": "The True/False filter is frequently not reported as supported by LDAP directories and might show up on the <bpt id=\"p1\">**</bpt>Global Page<ept id=\"p1\">**</ept> under <bpt id=\"p2\">**</bpt>Mandatory Features Not Found<ept id=\"p2\">**</ept>.",
      "pos": [
        6372,
        6534
      ]
    },
    {
      "content": "It is used to create <bpt id=\"p1\">**</bpt>OR<ept id=\"p1\">**</ept> filters in LDAP queries, for example when importing multiple object types.",
      "pos": [
        6535,
        6637
      ]
    },
    {
      "content": "If you can import more than one one object type, then your LDAP server supports this.",
      "pos": [
        6638,
        6723
      ]
    },
    {
      "pos": [
        6725,
        6926
      ],
      "content": "If you use a directory where a unique identifier is the anchor the following must also be available (see the <bpt id=\"p1\">[</bpt>Configure Anchors<ept id=\"p1\">](#configure-anchors)</ept> section later in this article for more information):"
    },
    {
      "content": "1.3.6.1.4.1.4203.1.5.1 All operational attributes",
      "pos": [
        6930,
        6979
      ]
    },
    {
      "content": "If the directory has more objects than what can fit in one call to the directory, then it is recommended to use paging.",
      "pos": [
        6981,
        7100
      ]
    },
    {
      "content": "For paging to work, you will need one of the following options:",
      "pos": [
        7101,
        7164
      ]
    },
    {
      "content": "Option 1:",
      "pos": [
        7168,
        7177
      ]
    },
    {
      "content": "1.2.840.113556.1.4.319 pagedResultsControl",
      "pos": [
        7183,
        7225
      ]
    },
    {
      "content": "Option 2:",
      "pos": [
        7229,
        7238
      ]
    },
    {
      "content": "2.16.840.1.113730.3.4.9 VLVControl",
      "pos": [
        7244,
        7278
      ]
    },
    {
      "content": "1.2.840.113556.1.4.473 SortControl",
      "pos": [
        7281,
        7315
      ]
    },
    {
      "content": "If both options are enabled in the connector configuration, pagedResultsControl will be used.",
      "pos": [
        7317,
        7410
      ]
    },
    {
      "content": "1.2.840.113556.1.4.417 ShowDeletedControl",
      "pos": [
        7414,
        7455
      ]
    },
    {
      "content": "ShowDeletedControl is only used with the USNChanged delta import method to be able to see deleted objects.",
      "pos": [
        7457,
        7563
      ]
    },
    {
      "content": "The connector tries to detect if the options are present on the server.",
      "pos": [
        7565,
        7636
      ]
    },
    {
      "content": "If the options cannot be detected, a warning will be present on the Global page in the connector’s properties.",
      "pos": [
        7637,
        7747
      ]
    },
    {
      "content": "Not all LDAP servers will present all controls/features they support and even if this warning is present, the connector might work without issues.",
      "pos": [
        7748,
        7894
      ]
    },
    {
      "content": "Delta import",
      "pos": [
        7900,
        7912
      ]
    },
    {
      "content": "Delta import is only available when a support directory has been detected.",
      "pos": [
        7914,
        7988
      ]
    },
    {
      "content": "The following methods are currently used:",
      "pos": [
        7989,
        8030
      ]
    },
    {
      "content": "LDAP Accesslog.",
      "pos": [
        8034,
        8049
      ]
    },
    {
      "content": "See [http://www.openldap.org/doc/admin24/overlays.html#Access Logging](http://www.openldap.org/doc/admin24/overlays.html#Access Logging)",
      "pos": [
        8050,
        8186
      ]
    },
    {
      "content": "LDAP Changelog.",
      "pos": [
        8189,
        8204
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>http://tools.ietf.org/html/draft-good-ldap-changelog-04<ept id=\"p1\">](http://tools.ietf.org/html/draft-good-ldap-changelog-04)</ept>",
      "pos": [
        8205,
        8323
      ]
    },
    {
      "content": "TimeStamp.",
      "pos": [
        8326,
        8336
      ]
    },
    {
      "content": "For Novell/NetIQ eDirectory the Connector will use last date/time to get created and updated objects.",
      "pos": [
        8337,
        8438
      ]
    },
    {
      "content": "Novell/NetIQ eDirectory does not provide an equivalent means to retrieve deleted objects.",
      "pos": [
        8439,
        8528
      ]
    },
    {
      "content": "This option can also be used if no other delta import method is active on the LDAP server.",
      "pos": [
        8529,
        8619
      ]
    },
    {
      "content": "This option will not be able to import deleted objects.",
      "pos": [
        8620,
        8675
      ]
    },
    {
      "content": "USNChanged.",
      "pos": [
        8678,
        8689
      ]
    },
    {
      "content": "See: <bpt id=\"p1\">[</bpt>https://msdn.microsoft.com/library/ms677627.aspx<ept id=\"p1\">](https://msdn.microsoft.com/library/ms677627.aspx)</ept>",
      "pos": [
        8690,
        8795
      ]
    },
    {
      "content": "Not supported",
      "pos": [
        8801,
        8814
      ]
    },
    {
      "content": "The following LDAP features are not supported:",
      "pos": [
        8816,
        8862
      ]
    },
    {
      "content": "LDAP referrals between servers (RFC 4511/4.1.10)",
      "pos": [
        8866,
        8914
      ]
    },
    {
      "content": "Create a new Connector",
      "pos": [
        8919,
        8941
      ]
    },
    {
      "content": "To Create a Generic LDAP connector, in <bpt id=\"p1\">**</bpt>Synchronization Service<ept id=\"p1\">**</ept> select <bpt id=\"p2\">**</bpt>Management Agent<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>Create<ept id=\"p3\">**</ept>.",
      "pos": [
        8943,
        9053
      ]
    },
    {
      "content": "Select the <bpt id=\"p1\">**</bpt>Generic LDAP (Microsoft)<ept id=\"p1\">**</ept> Connector.",
      "pos": [
        9054,
        9104
      ]
    },
    {
      "content": "CreateConnector",
      "pos": [
        9108,
        9123
      ]
    },
    {
      "content": "Connectivity",
      "pos": [
        9213,
        9225
      ]
    },
    {
      "content": "On the Connectivity page, you must specify the Host, Port and Binding information.",
      "pos": [
        9227,
        9309
      ]
    },
    {
      "content": "Depending on which Binding is selected, additional information might be supplied in the following sections.",
      "pos": [
        9310,
        9417
      ]
    },
    {
      "content": "Connectivity",
      "pos": [
        9421,
        9433
      ]
    },
    {
      "content": "The Connection Timeout setting is only used for the first connection to the server when detecting the schema.",
      "pos": [
        9518,
        9627
      ]
    },
    {
      "content": "If Binding is Anonymous, then neither username / password nor certificate are used.",
      "pos": [
        9630,
        9713
      ]
    },
    {
      "content": "For other bindings, enter information either in username / password or select a certificate.",
      "pos": [
        9716,
        9808
      ]
    },
    {
      "content": "If you are using Kerberos to authenticate then also provide the Realm/Domain of the user.",
      "pos": [
        9811,
        9900
      ]
    },
    {
      "content": "The <bpt id=\"p1\">**</bpt>attribute aliases<ept id=\"p1\">**</ept> text box is used for attributes defined in the schema with RFC4522 syntax.",
      "pos": [
        9902,
        10002
      ]
    },
    {
      "content": "These cannot be detected during schema detection and the Connector needs help to identify those.",
      "pos": [
        10003,
        10099
      ]
    },
    {
      "content": "For example the following is needed to be entered in the attribute aliases box to correctly identify the userCertificate attribute as a binary attribute:",
      "pos": [
        10100,
        10253
      ]
    },
    {
      "content": "The following is an example for how this could look like:",
      "pos": [
        10281,
        10338
      ]
    },
    {
      "content": "Connectivity",
      "pos": [
        10342,
        10354
      ]
    },
    {
      "content": "Select the <bpt id=\"p1\">**</bpt>include operational attributes in schema<ept id=\"p1\">**</ept> checkbox to also include attributes created by the server.",
      "pos": [
        10447,
        10561
      ]
    },
    {
      "content": "These include attributes such as when the object was created and last update time.",
      "pos": [
        10562,
        10644
      ]
    },
    {
      "content": "Select <bpt id=\"p1\">**</bpt>Include extensible attributes in schema<ept id=\"p1\">**</ept> if extensible objects (RFC4512/4.3) are used and enabling this option will allow every attribute to be used on all object.",
      "pos": [
        10646,
        10819
      ]
    },
    {
      "content": "Selecting this option will make the schema very large so unless the connected directory is using this feature the recommendation is to keep the option unselected.",
      "pos": [
        10820,
        10982
      ]
    },
    {
      "content": "Global Parameters",
      "pos": [
        10988,
        11005
      ]
    },
    {
      "content": "On the Global Parameters page, you configure the DN to the delta change log and additional LDAP features.",
      "pos": [
        11007,
        11112
      ]
    },
    {
      "content": "The page will be pre-populated with the information provided by the LDAP server.",
      "pos": [
        11113,
        11193
      ]
    },
    {
      "content": "Connectivity",
      "pos": [
        11197,
        11209
      ]
    },
    {
      "content": "The top section shows information provided by the server itself, such as the name of the server.",
      "pos": [
        11296,
        11392
      ]
    },
    {
      "content": "The Connector will also verify that the mandatory controls are present in the Root DSE.",
      "pos": [
        11393,
        11480
      ]
    },
    {
      "content": "If these are not listed, a warning will be presented.",
      "pos": [
        11481,
        11534
      ]
    },
    {
      "content": "Some LDAP directories will not list all features in the Root DSE and it is possible that the Connector will work without issues even if a warning is present.",
      "pos": [
        11535,
        11692
      ]
    },
    {
      "pos": [
        11694,
        11777
      ],
      "content": "The <bpt id=\"p1\">**</bpt>supported controls<ept id=\"p1\">**</ept> checkboxes controls the behavior for certain operations:"
    },
    {
      "content": "With tree delete selected, a hierarchy will be deleted with one LDAP call.",
      "pos": [
        11781,
        11855
      ]
    },
    {
      "content": "With tree delete unselected, the connector will do a recursive delete if needed.",
      "pos": [
        11856,
        11936
      ]
    },
    {
      "content": "With paged results selected the Connector will do paged imports with the size specified on the run steps.",
      "pos": [
        11939,
        12044
      ]
    },
    {
      "content": "The VLVControl and SortControl is an alternative to the pagedResultsControl to read data from the LDAP directory.",
      "pos": [
        12047,
        12160
      ]
    },
    {
      "content": "If all three options (pagedResultsControl, VLVControl, and SortControl) are unselected then the Connector will import all object in one operation, which might fail if it is a large directory.",
      "pos": [
        12163,
        12354
      ]
    },
    {
      "content": "ShowDeletedControl is only used when the Delta import method is USNChanged.",
      "pos": [
        12357,
        12432
      ]
    },
    {
      "content": "The change log DN is the naming context used by the delta change log, e.g. <bpt id=\"p1\">**</bpt>cn=changelog<ept id=\"p1\">**</ept>.",
      "pos": [
        12434,
        12526
      ]
    },
    {
      "content": "You need to specify this value to be able to do delta import.",
      "pos": [
        12527,
        12588
      ]
    },
    {
      "content": "The following is a list of default change log DNs:",
      "pos": [
        12590,
        12640
      ]
    },
    {
      "content": "Directory",
      "pos": [
        12644,
        12653
      ]
    },
    {
      "content": "Delta change log",
      "pos": [
        12656,
        12672
      ]
    },
    {
      "content": "Microsoft AD LDS and AD GC",
      "pos": [
        12691,
        12717
      ]
    },
    {
      "content": "Automatically detected.",
      "pos": [
        12720,
        12743
      ]
    },
    {
      "content": "USNChanged.",
      "pos": [
        12744,
        12755
      ]
    },
    {
      "content": "Apache Directory Server",
      "pos": [
        12760,
        12783
      ]
    },
    {
      "content": "Not available.",
      "pos": [
        12786,
        12800
      ]
    },
    {
      "content": "Directory 389",
      "pos": [
        12805,
        12818
      ]
    },
    {
      "content": "Change log.",
      "pos": [
        12821,
        12832
      ]
    },
    {
      "content": "Default value to use: <bpt id=\"p1\">**</bpt>cn=changelog<ept id=\"p1\">**</ept>",
      "pos": [
        12833,
        12871
      ]
    },
    {
      "content": "IBM Tivoli DS",
      "pos": [
        12876,
        12889
      ]
    },
    {
      "content": "Change log.",
      "pos": [
        12892,
        12903
      ]
    },
    {
      "content": "Default value to use: <bpt id=\"p1\">**</bpt>cn=changelog<ept id=\"p1\">**</ept>",
      "pos": [
        12904,
        12942
      ]
    },
    {
      "content": "Isode Directory",
      "pos": [
        12947,
        12962
      ]
    },
    {
      "content": "Change log.",
      "pos": [
        12965,
        12976
      ]
    },
    {
      "content": "Default value to use: <bpt id=\"p1\">**</bpt>cn=ChangeLog<ept id=\"p1\">**</ept>",
      "pos": [
        12977,
        13015
      ]
    },
    {
      "content": "Novell/NetIQ eDirectory",
      "pos": [
        13018,
        13041
      ]
    },
    {
      "content": "Not available.",
      "pos": [
        13044,
        13058
      ]
    },
    {
      "content": "TimeStamp.",
      "pos": [
        13059,
        13069
      ]
    },
    {
      "content": "The Connector will use last updated date/time to get added and updated records.",
      "pos": [
        13070,
        13149
      ]
    },
    {
      "content": "Open DJ/DS",
      "pos": [
        13154,
        13164
      ]
    },
    {
      "content": "Change log.",
      "pos": [
        13167,
        13178
      ]
    },
    {
      "content": "Default value to use: <bpt id=\"p1\">**</bpt>cn=Changelog<ept id=\"p1\">**</ept>",
      "pos": [
        13180,
        13218
      ]
    },
    {
      "content": "Open LDAP",
      "pos": [
        13223,
        13232
      ]
    },
    {
      "content": "Access log.",
      "pos": [
        13235,
        13246
      ]
    },
    {
      "content": "Default value to use: <bpt id=\"p1\">**</bpt>cn=accesslog<ept id=\"p1\">**</ept>",
      "pos": [
        13247,
        13285
      ]
    },
    {
      "content": "Oracle DSEE",
      "pos": [
        13290,
        13301
      ]
    },
    {
      "content": "Change log.",
      "pos": [
        13304,
        13315
      ]
    },
    {
      "content": "Default value to use: <bpt id=\"p1\">**</bpt>cn=changelog<ept id=\"p1\">**</ept>",
      "pos": [
        13316,
        13354
      ]
    },
    {
      "content": "RadiantOne VDS",
      "pos": [
        13359,
        13373
      ]
    },
    {
      "content": "Virtual directory.",
      "pos": [
        13376,
        13394
      ]
    },
    {
      "content": "Depends on the directory connected to VDS.",
      "pos": [
        13395,
        13437
      ]
    },
    {
      "content": "Sun One Directory Server",
      "pos": [
        13442,
        13466
      ]
    },
    {
      "content": "Change log.",
      "pos": [
        13469,
        13480
      ]
    },
    {
      "content": "Default value to use: <bpt id=\"p1\">**</bpt>cn=Changelog<ept id=\"p1\">**</ept>",
      "pos": [
        13481,
        13519
      ]
    },
    {
      "content": "The password attribute is the name of the attribute the Connector should use to set the password in password change and password set operations.",
      "pos": [
        13523,
        13667
      ]
    },
    {
      "content": "This is by default set to <bpt id=\"p1\">**</bpt>userPassword<ept id=\"p1\">**</ept> but can be changed if needed for a particular LDAP system.",
      "pos": [
        13668,
        13769
      ]
    },
    {
      "content": "In the additional partitions list it is possible to add additional namespaces not automatically detected.",
      "pos": [
        13771,
        13876
      ]
    },
    {
      "content": "This can, for example, be used if several servers make up a logical cluster which should all be imported at the same time.",
      "pos": [
        13877,
        13999
      ]
    },
    {
      "content": "Just as Active Directory can have multiple domains in one forest but all domains share one schema, the same can be simulated by entering the additional namespaces in this box.",
      "pos": [
        14000,
        14175
      ]
    },
    {
      "content": "Each namespace can import from different servers and will further be configured on the Configure Partitions and Hierarchies page.",
      "pos": [
        14176,
        14305
      ]
    },
    {
      "content": "Use Ctrl+Enter to get a new line.",
      "pos": [
        14306,
        14339
      ]
    },
    {
      "content": "Configure Provisioning Hierarchy",
      "pos": [
        14345,
        14377
      ]
    },
    {
      "content": "This page is used to map the DN component, e.g. OU, to the object type which should be provisioned, e.g. organizationalUnit.",
      "pos": [
        14379,
        14503
      ]
    },
    {
      "content": "Provisioning Hierachy",
      "pos": [
        14507,
        14528
      ]
    },
    {
      "content": "By configuring provisioning hierarchy you can configure the Connector to automatically create a structure when needed.",
      "pos": [
        14620,
        14738
      ]
    },
    {
      "content": "For example if there is a namespace dc=contoso,dc=com and a new object cn=Joe, ou=Seattle, c=US, dc=contoso, dc=com is provisioned, then the Connector can create a new object of type country for US and an organizationalUnit for Seattle if those are not already present in the directory.",
      "pos": [
        14739,
        15025
      ]
    },
    {
      "content": "Configure Partitions and Hierarchies",
      "pos": [
        15031,
        15067
      ]
    },
    {
      "content": "On the partitions and hierarchies page, select all namespaces with objects you plan to import and export.",
      "pos": [
        15069,
        15174
      ]
    },
    {
      "content": "Partitions",
      "pos": [
        15178,
        15188
      ]
    },
    {
      "content": "For each namespace it is also possible to configure connectivity settings which would override the values specified on the Connectivity screen.",
      "pos": [
        15269,
        15412
      ]
    },
    {
      "content": "If these values are left to their default blank value, the information from the Connectivity screen will be used.",
      "pos": [
        15413,
        15526
      ]
    },
    {
      "content": "It is also possible to select which containers and OUs the Connector should import from and export to.",
      "pos": [
        15528,
        15630
      ]
    },
    {
      "content": "Configure Anchors",
      "pos": [
        15636,
        15653
      ]
    },
    {
      "content": "This page does always have a preconfigured value and cannot be changed.",
      "pos": [
        15655,
        15726
      ]
    },
    {
      "content": "If the server vendor and version has been identified then this might be populated with an immutable attribute, e.g. the GUID for an object.",
      "pos": [
        15727,
        15866
      ]
    },
    {
      "content": "If it has not been detected or is known to not have an immutable attribute, then the connector will use dn (distinguished name) as the anchor.",
      "pos": [
        15867,
        16009
      ]
    },
    {
      "content": "anchors",
      "pos": [
        16013,
        16020
      ]
    },
    {
      "content": "The following is a list of LDAP servers and the anchor being used:",
      "pos": [
        16098,
        16164
      ]
    },
    {
      "content": "Directory",
      "pos": [
        16168,
        16177
      ]
    },
    {
      "content": "Anchor attribute",
      "pos": [
        16180,
        16196
      ]
    },
    {
      "content": "Microsoft AD LDS and AD GC",
      "pos": [
        16215,
        16241
      ]
    },
    {
      "content": "objectGUID",
      "pos": [
        16244,
        16254
      ]
    },
    {
      "content": "389 Directory Server",
      "pos": [
        16259,
        16279
      ]
    },
    {
      "content": "dn",
      "pos": [
        16282,
        16284
      ]
    },
    {
      "content": "Apache Directory",
      "pos": [
        16289,
        16305
      ]
    },
    {
      "content": "dn",
      "pos": [
        16308,
        16310
      ]
    },
    {
      "content": "IBM Tivoli DS",
      "pos": [
        16315,
        16328
      ]
    },
    {
      "content": "dn",
      "pos": [
        16331,
        16333
      ]
    },
    {
      "content": "Isode Directory",
      "pos": [
        16338,
        16353
      ]
    },
    {
      "content": "dn",
      "pos": [
        16356,
        16358
      ]
    },
    {
      "content": "Novell/NetIQ eDirectory",
      "pos": [
        16363,
        16386
      ]
    },
    {
      "content": "GUID",
      "pos": [
        16389,
        16393
      ]
    },
    {
      "content": "Open DJ/DS",
      "pos": [
        16398,
        16408
      ]
    },
    {
      "content": "dn",
      "pos": [
        16411,
        16413
      ]
    },
    {
      "content": "Open LDAP",
      "pos": [
        16418,
        16427
      ]
    },
    {
      "content": "dn",
      "pos": [
        16430,
        16432
      ]
    },
    {
      "content": "Oracle ODSEE",
      "pos": [
        16437,
        16449
      ]
    },
    {
      "content": "dn",
      "pos": [
        16452,
        16454
      ]
    },
    {
      "content": "RadiantOne VDS",
      "pos": [
        16459,
        16473
      ]
    },
    {
      "content": "dn",
      "pos": [
        16476,
        16478
      ]
    },
    {
      "content": "Sun One Directory Server",
      "pos": [
        16483,
        16507
      ]
    },
    {
      "content": "dn",
      "pos": [
        16510,
        16512
      ]
    },
    {
      "content": "Other notes",
      "pos": [
        16519,
        16530
      ]
    },
    {
      "content": "This section provides information of aspects which are specific to this Connector or for other reasons are important to know.",
      "pos": [
        16532,
        16657
      ]
    },
    {
      "content": "Delta import",
      "pos": [
        16663,
        16675
      ]
    },
    {
      "content": "The delta watermark in Open LDAP is UTC date/time.",
      "pos": [
        16677,
        16727
      ]
    },
    {
      "content": "For this reason, the clocks between FIM Synchronization Service and the Open LDAP must be synchronized.",
      "pos": [
        16728,
        16831
      ]
    },
    {
      "content": "If not, some entries in the delta change log might be omitted.",
      "pos": [
        16832,
        16894
      ]
    },
    {
      "content": "For Novell eDirectory the delta import will not detect any object deletes.",
      "pos": [
        16896,
        16970
      ]
    },
    {
      "content": "For this reason it is necessary to run a full import periodically to find all deleted objects.",
      "pos": [
        16971,
        17065
      ]
    },
    {
      "content": "For directories with a delta change log that is based on date / time, it is highly recommended to run a full import at periodic times to find and dissimilarities between the LDAP server and what is currently in the connector space.",
      "pos": [
        17067,
        17298
      ]
    },
    {
      "content": "Troubleshooting",
      "pos": [
        17303,
        17318
      ]
    },
    {
      "pos": [
        17324,
        17494
      ],
      "content": "For information on how to enable logging to troubleshoot the connector, see the <bpt id=\"p1\">[</bpt>How to Enable ETW Tracing for Connectors<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=335731)</ept>."
    }
  ],
  "content": "<properties\n   pageTitle=\"Azure AD Connect sync: Generic LDAP Connector\"\n   description=\"This article describes how to configure Microsoft's Generic LDAP Connector.\"\n   services=\"active-directory\"\n   documentationCenter=\"\"\n   authors=\"AndKjell\"\n   manager=\"stevenpo\"\n   editor=\"\"/>\n\n<tags\n   ms.service=\"active-directory\"\n   ms.workload=\"identity\"\n   ms.tgt_pltfrm=\"na\"\n   ms.devlang=\"na\"\n   ms.topic=\"article\"\n   ms.date=\"12/16/2015\"\n   ms.author=\"andkjell\"/>\n\n# Generic LDAP Connector technical reference\n\nThis article describes the Generic LDAP Connector. The article applies to the following products:\n\n- Microsoft Identity Manager 2016 (MIM2016)\n- Forefront Identity Manager 2010 R2 (FIM2010R2)\n    -   Must use hotfix 4.1.3461.0 or later [KB2870703](https://support.microsoft.com/kb/2870703).\n\nFor MIM2016 and FIM2010R2 the Connector is available as a download from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=717495).\n\nWhen referring to IETF RFCs, this document is using the format (RFC [RFC number]/[section in RFC document]), e.g. (RFC 4512/4.3).\nYou can find more information at http://tools.ietf.org/html/rfc4500 (you need to replace 4500 with the correct RFC number).\n\n## Overview of the Generic LDAP Connector\n\nThe Generic LDAP Connector enable you to integrate the synchronization service with an LDAP v3 server.\n\nCertain operations and schema elements, such as those needed to perform delta import, are not specified in the IETF RFCs. For these operations only LDAP directories explicitly specified are supported.\n\nFrom a high level perspective, the following features are supported by the current release of the connector:\n\n| Feature | Support |\n| --- | --- |\n| Connected data source | The Connector is supported with all LDAP v3 servers (RFC 4510 compliant). It has been tested with the following: <li>Microsoft Active Directory Lightweight Directory Services (AD LDS)</li><li>Microsoft Active Directory Global Catalog (AD GC)</li><li>389 Directory Server</li><li>Apache Directory Server</li><li>IBM Tivoli DS</li><li>Isode Directory</li><li>NetIQ eDirectory</li><li>Novell eDirectory</li><li>Open DJ</li><li>Open DS</li><li>Open LDAP (openldap.org)</li><li>Oracle (previously Sun) Directory Server Enterprise Edition</li><li>RadiantOne Virtual Directory Server (VDS)</li><li>Sun One Directory Server</li>Notable directories not supported: <li>Microsoft Active Directory Domain Services (AD DS) [Use the built-in Active Directory Connector instead]</li><li>Oracle Internet Directory (OID)</li> |\n| Scenarios | <li>Object Lifecycle Management</li><li>Group Management</li><li>Password Management</li> |\n| Operations |The following operations are supported on all LDAP directories: <li>Full Import</li><li>Export</li>The following operations are only supported on specified directories:<li>Delta import</li><li>Set Password, Change Password</li> |\n| Schema | <li>Schema is detected from the LDAP schema (RFC3673 and RFC4512/4.2)</li><li>Supports structural classes, aux classes, and extensibleObject object class (RFC4512/4.3)</li>\n\n### Delta import and password management support\n\nSupported Directories for Delta import and Password management:\n\n- Microsoft Active Directory Lightweight Directory Services (AD LDS)\n    - Supports all operations for delta import\n    - Supports Set Password and Change Password\n- Microsoft Active Directory Global Catalog (AD GC)\n    - Supports all operations for delta import\n    - Supports Set Password and Change Password\n- 389 Directory Server\n    - Supports all operations for delta import\n    - Supports Set Password\n- Apache Directory Server\n    - Does not support delta import since this directory does not have a persistent change log\n    - Supports Set Password\n- IBM Tivoli DS\n    - Supports all operations for delta import\n    - Supports Set Password and Change Password\n- Isode Directory\n    - Supports all operations for delta import\n    - Supports Set Password and Change Password\n- Novell eDirectory and NetIQ eDirectory\n    - Supports Add, Update, and Rename operations for delta import\n    - Does not support Delete operations for delta import\n    - Supports Set Password and Change Password\n- Open DJ\n    - Supports all operations for delta import\n    - Supports Set Password\n- Open DS\n    - Supports all operations for delta import\n    - Supports Set Password\n- Open LDAP (openldap.org)\n    - Supports all operations for delta import\n    - Supports Set Password\n    - Does not support change password\n- Oracle (previously Sun) Directory Server Enterprise Edition\n    - Supports all operations for delta import\n    - Supports Set Password and Change Password\n- RadiantOne Virtual Directory Server (VDS)\n    - Must be using version 7.1.1 or higher\n    - Supports all operations for delta import\n    - Supports Set Password and Change Password\n-  Sun One Directory Server\n    - Supports all operations for delta import\n    - Supports Set Password and Change Password\n\n### Prerequisites\n\nBefore you use the Connector, make sure you have the following on the synchronization server in addition to any hotfix mentioned above:\n\n- Microsoft .NET 4.5.2 Framework or later\n\n### Detecting the LDAP server\n\nThe Connector relies upon a variety of techniques to detect and identify the LDAP server. The Connector uses the Root DSE to find the vendor name and version and it inspects the schema to find unique objects and attributes known to exist in certain LDAP servers. This data, if found, is used to pre-populate the configuration options in the Connector.\n\n### Connected Data Source permissions\n\nTo perform import and export operations on the objects in the connected directory, the connector account must have sufficient permissions. The connector will need write permissions to be able to export, and read permissions to be able to import. Permission configuration is performed within the management experiences of the target directory itself.\n\n### Ports and protocols\n\nThe connector will use the port number specified in the configuration, which would by default be 389 for LDAP and 636 for LDAPS.\n\nFor LDAPS, you must use SSL 3.0 or TLS. SSL 2.0 is not supported and cannot be activated.\n\n### Required controls and features\n\nThe following LDAP controls/features must be available on the LDAP server for the connector to work properly:\n\n- 1.3.6.1.4.1.4203.1.5.3 True/False filters\n\nThe True/False filter is frequently not reported as supported by LDAP directories and might show up on the **Global Page** under **Mandatory Features Not Found**. It is used to create **OR** filters in LDAP queries, for example when importing multiple object types. If you can import more than one one object type, then your LDAP server supports this.\n\nIf you use a directory where a unique identifier is the anchor the following must also be available (see the [Configure Anchors](#configure-anchors) section later in this article for more information):\n\n- 1.3.6.1.4.1.4203.1.5.1 All operational attributes\n\nIf the directory has more objects than what can fit in one call to the directory, then it is recommended to use paging. For paging to work, you will need one of the following options:\n\n**Option 1:**\n\n- 1.2.840.113556.1.4.319 pagedResultsControl\n\n**Option 2:**\n\n- 2.16.840.1.113730.3.4.9 VLVControl\n- 1.2.840.113556.1.4.473 SortControl\n\nIf both options are enabled in the connector configuration, pagedResultsControl will be used.\n\n- 1.2.840.113556.1.4.417 ShowDeletedControl\n\nShowDeletedControl is only used with the USNChanged delta import method to be able to see deleted objects.\n\nThe connector tries to detect if the options are present on the server. If the options cannot be detected, a warning will be present on the Global page in the connector’s properties. Not all LDAP servers will present all controls/features they support and even if this warning is present, the connector might work without issues.\n\n### Delta import\n\nDelta import is only available when a support directory has been detected. The following methods are currently used:\n\n- LDAP Accesslog. See [http://www.openldap.org/doc/admin24/overlays.html#Access Logging](http://www.openldap.org/doc/admin24/overlays.html#Access Logging)\n- LDAP Changelog. See [http://tools.ietf.org/html/draft-good-ldap-changelog-04](http://tools.ietf.org/html/draft-good-ldap-changelog-04)\n- TimeStamp. For Novell/NetIQ eDirectory the Connector will use last date/time to get created and updated objects. Novell/NetIQ eDirectory does not provide an equivalent means to retrieve deleted objects. This option can also be used if no other delta import method is active on the LDAP server. This option will not be able to import deleted objects.\n- USNChanged. See: [https://msdn.microsoft.com/library/ms677627.aspx](https://msdn.microsoft.com/library/ms677627.aspx)\n\n### Not supported\n\nThe following LDAP features are not supported:\n\n- LDAP referrals between servers (RFC 4511/4.1.10)\n\n## Create a new Connector\n\nTo Create a Generic LDAP connector, in **Synchronization Service** select **Management Agent** and **Create**. Select the **Generic LDAP (Microsoft)** Connector.\n\n![CreateConnector](./media/active-directory-aadconnectsync-connector-genericldap/createconnector.png)\n\n### Connectivity\n\nOn the Connectivity page, you must specify the Host, Port and Binding information. Depending on which Binding is selected, additional information might be supplied in the following sections.\n\n![Connectivity](./media/active-directory-aadconnectsync-connector-genericldap/connectivity.png)\n\n- The Connection Timeout setting is only used for the first connection to the server when detecting the schema.\n- If Binding is Anonymous, then neither username / password nor certificate are used.\n- For other bindings, enter information either in username / password or select a certificate.\n- If you are using Kerberos to authenticate then also provide the Realm/Domain of the user.\n\nThe **attribute aliases** text box is used for attributes defined in the schema with RFC4522 syntax. These cannot be detected during schema detection and the Connector needs help to identify those. For example the following is needed to be entered in the attribute aliases box to correctly identify the userCertificate attribute as a binary attribute:\n\n`userCertificate;binary`\n\nThe following is an example for how this could look like:\n\n![Connectivity](./media/active-directory-aadconnectsync-connector-genericldap/connectivityattributes.png)\n\nSelect the **include operational attributes in schema** checkbox to also include attributes created by the server. These include attributes such as when the object was created and last update time.\n\nSelect **Include extensible attributes in schema** if extensible objects (RFC4512/4.3) are used and enabling this option will allow every attribute to be used on all object. Selecting this option will make the schema very large so unless the connected directory is using this feature the recommendation is to keep the option unselected.\n\n### Global Parameters\n\nOn the Global Parameters page, you configure the DN to the delta change log and additional LDAP features. The page will be pre-populated with the information provided by the LDAP server.\n\n![Connectivity](./media/active-directory-aadconnectsync-connector-genericldap/globalparameters.png)\n\nThe top section shows information provided by the server itself, such as the name of the server. The Connector will also verify that the mandatory controls are present in the Root DSE. If these are not listed, a warning will be presented. Some LDAP directories will not list all features in the Root DSE and it is possible that the Connector will work without issues even if a warning is present.\n\nThe **supported controls** checkboxes controls the behavior for certain operations:\n\n- With tree delete selected, a hierarchy will be deleted with one LDAP call. With tree delete unselected, the connector will do a recursive delete if needed.\n- With paged results selected the Connector will do paged imports with the size specified on the run steps.\n- The VLVControl and SortControl is an alternative to the pagedResultsControl to read data from the LDAP directory.\n- If all three options (pagedResultsControl, VLVControl, and SortControl) are unselected then the Connector will import all object in one operation, which might fail if it is a large directory.\n- ShowDeletedControl is only used when the Delta import method is USNChanged.\n\nThe change log DN is the naming context used by the delta change log, e.g. **cn=changelog**. You need to specify this value to be able to do delta import.\n\nThe following is a list of default change log DNs:\n\n| Directory | Delta change log |\n| --- | --- |\n| Microsoft AD LDS and AD GC | Automatically detected. USNChanged. |\n| Apache Directory Server | Not available. |\n| Directory 389 | Change log. Default value to use: **cn=changelog** |\n| IBM Tivoli DS | Change log. Default value to use: **cn=changelog** |\n| Isode Directory | Change log. Default value to use: **cn=ChangeLog**\n| Novell/NetIQ eDirectory | Not available. TimeStamp. The Connector will use last updated date/time to get added and updated records. |\n| Open DJ/DS | Change log.  Default value to use: **cn=Changelog** |\n| Open LDAP | Access log. Default value to use: **cn=accesslog** |\n| Oracle DSEE | Change log. Default value to use: **cn=changelog** |\n| RadiantOne VDS | Virtual directory. Depends on the directory connected to VDS. |\n| Sun One Directory Server | Change log. Default value to use: **cn=Changelog** |\n\nThe password attribute is the name of the attribute the Connector should use to set the password in password change and password set operations.\nThis is by default set to **userPassword** but can be changed if needed for a particular LDAP system.\n\nIn the additional partitions list it is possible to add additional namespaces not automatically detected. This can, for example, be used if several servers make up a logical cluster which should all be imported at the same time. Just as Active Directory can have multiple domains in one forest but all domains share one schema, the same can be simulated by entering the additional namespaces in this box. Each namespace can import from different servers and will further be configured on the Configure Partitions and Hierarchies page. Use Ctrl+Enter to get a new line.\n\n### Configure Provisioning Hierarchy\n\nThis page is used to map the DN component, e.g. OU, to the object type which should be provisioned, e.g. organizationalUnit.\n\n![Provisioning Hierachy](./media/active-directory-aadconnectsync-connector-genericldap/provisioninghierarchy.png)\n\nBy configuring provisioning hierarchy you can configure the Connector to automatically create a structure when needed. For example if there is a namespace dc=contoso,dc=com and a new object cn=Joe, ou=Seattle, c=US, dc=contoso, dc=com is provisioned, then the Connector can create a new object of type country for US and an organizationalUnit for Seattle if those are not already present in the directory.\n\n### Configure Partitions and Hierarchies\n\nOn the partitions and hierarchies page, select all namespaces with objects you plan to import and export.\n\n![Partitions](./media/active-directory-aadconnectsync-connector-genericldap/partitions.png)\n\nFor each namespace it is also possible to configure connectivity settings which would override the values specified on the Connectivity screen. If these values are left to their default blank value, the information from the Connectivity screen will be used.\n\nIt is also possible to select which containers and OUs the Connector should import from and export to.\n\n### Configure Anchors\n\nThis page does always have a preconfigured value and cannot be changed. If the server vendor and version has been identified then this might be populated with an immutable attribute, e.g. the GUID for an object. If it has not been detected or is known to not have an immutable attribute, then the connector will use dn (distinguished name) as the anchor.\n\n![anchors](./media/active-directory-aadconnectsync-connector-genericldap/anchors.png)\n\nThe following is a list of LDAP servers and the anchor being used:\n\n| Directory | Anchor attribute |\n| --- | --- |\n| Microsoft AD LDS and AD GC | objectGUID |\n| 389 Directory Server | dn |\n| Apache Directory | dn |\n| IBM Tivoli DS | dn |\n| Isode Directory | dn |\n| Novell/NetIQ eDirectory | GUID |\n| Open DJ/DS | dn |\n| Open LDAP | dn |\n| Oracle ODSEE | dn |\n| RadiantOne VDS | dn |\n| Sun One Directory Server | dn |\n\n## Other notes\n\nThis section provides information of aspects which are specific to this Connector or for other reasons are important to know.\n\n### Delta import\n\nThe delta watermark in Open LDAP is UTC date/time. For this reason, the clocks between FIM Synchronization Service and the Open LDAP must be synchronized. If not, some entries in the delta change log might be omitted.\n\nFor Novell eDirectory the delta import will not detect any object deletes. For this reason it is necessary to run a full import periodically to find all deleted objects.\n\nFor directories with a delta change log that is based on date / time, it is highly recommended to run a full import at periodic times to find and dissimilarities between the LDAP server and what is currently in the connector space.\n\n## Troubleshooting\n\n-   For information on how to enable logging to troubleshoot the connector, see the [How to Enable ETW Tracing for Connectors](http://go.microsoft.com/fwlink/?LinkId=335731).\n\n\n"
}