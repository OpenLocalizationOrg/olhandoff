{
  "nodes": [
    {
      "content": "Get Started with mobile app backends for HTML/JavaScript apps | Azure App Service Mobile Apps",
      "pos": [
        27,
        120
      ]
    },
    {
      "content": "Follow this tutorial to get started using Azure mobile app backends for web app development in HTML5 and JavaScript.",
      "pos": [
        139,
        255
      ]
    },
    {
      "content": "Create an HTML app",
      "pos": [
        597,
        615
      ]
    },
    {
      "content": "&amp;nbsp;",
      "pos": [
        735,
        741
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.IMPORTANT]</ph> This topic is not currently supported by Mobile Apps because the quickstart for HTML/JavaScript apps has been temporarily removed from the Azure portal.",
      "pos": [
        872,
        1042
      ]
    },
    {
      "content": "We plan to bring it back in the very near future.",
      "pos": [
        1043,
        1092
      ]
    },
    {
      "content": "Thanks you for your patience.",
      "pos": [
        1093,
        1122
      ]
    },
    {
      "content": "Overview",
      "pos": [
        1126,
        1134
      ]
    },
    {
      "content": "This tutorial shows you how to add a cloud-based backend service to an HTML5/JavaScript web app.",
      "pos": [
        1136,
        1232
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>What are Mobile Apps<ept id=\"p1\">](app-service-mobile-value-prop.md)</ept>.",
      "pos": [
        1233,
        1316
      ]
    },
    {
      "content": "A screenshot from the completed app is below:",
      "pos": [
        1319,
        1364
      ]
    },
    {
      "content": "Screenshot of completed app",
      "pos": [
        1368,
        1395
      ]
    },
    {
      "content": "Completing this tutorial is a prerequisite for all other Mobile Apps tutorials for HTML apps.",
      "pos": [
        1480,
        1573
      ]
    },
    {
      "content": "Prerequisites",
      "pos": [
        1578,
        1591
      ]
    },
    {
      "content": "To complete this tutorial, you need the following:",
      "pos": [
        1593,
        1643
      ]
    },
    {
      "content": "An active Azure account.",
      "pos": [
        1647,
        1671
      ]
    },
    {
      "content": "If you don't have an account, you can sign up for an Azure trial and get up to 10 free Mobile Apps that you can keep using even after your trial ends.",
      "pos": [
        1672,
        1822
      ]
    },
    {
      "content": "For details, see <bpt id=\"p1\">[</bpt>Azure Free Trial<ept id=\"p1\">](http://azure.microsoft.com/pricing/free-trial/)</ept>.",
      "pos": [
        1823,
        1907
      ]
    },
    {
      "pos": [
        1911,
        1961
      ],
      "content": "<bpt id=\"p1\">[</bpt><ept id=\"p1\">Visual Studio Community 2013]</ept> or a later version."
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> If you want to get started with Azure App Service before signing up for an Azure account, go to <bpt id=\"p1\">[</bpt>Try App Service<ept id=\"p1\">](https://tryappservice.azure.com/?appServiceName=mobile)</ept>, where you can immediately create a short-lived starter Mobile App in App Service.",
      "pos": [
        1964,
        2229
      ]
    },
    {
      "content": "No credit cards required; no commitments.",
      "pos": [
        2230,
        2271
      ]
    },
    {
      "content": "Create a new Mobile App backend",
      "pos": [
        2275,
        2306
      ]
    },
    {
      "content": "Follow these steps to create a new Mobile App backend.",
      "pos": [
        2308,
        2362
      ]
    },
    {
      "content": "You have now provisioned an Azure Mobile App backend that can be used by your mobile client applications.",
      "pos": [
        2508,
        2613
      ]
    },
    {
      "content": "Next, you will download a server project for a simple \"todo list\" backend and publish it to Azure.",
      "pos": [
        2614,
        2712
      ]
    },
    {
      "content": "Download the server project",
      "pos": [
        2717,
        2744
      ]
    },
    {
      "pos": [
        2749,
        2865
      ],
      "content": "In the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Azure Portal]</ept>, click <bpt id=\"p2\">**</bpt>Browse All<ept id=\"p2\">**</ept> &gt; <bpt id=\"p3\">**</bpt>Web Apps<ept id=\"p3\">**</ept>, then click the Mobile App backend that you just created."
    },
    {
      "pos": [
        2871,
        2989
      ],
      "content": "In the Mobile App backend, click <bpt id=\"p1\">**</bpt>All settings<ept id=\"p1\">**</ept> and under <bpt id=\"p2\">**</bpt>Mobile App<ept id=\"p2\">**</ept> click <bpt id=\"p3\">**</bpt>Quickstart<ept id=\"p3\">**</ept> &gt; <bpt id=\"p4\">**</bpt>HTML/JavaScript<ept id=\"p4\">**</ept>."
    },
    {
      "pos": [
        2994,
        3186
      ],
      "content": "Under <bpt id=\"p1\">**</bpt>Download and run your server project<ept id=\"p1\">**</ept> in <bpt id=\"p2\">**</bpt>Create a new app<ept id=\"p2\">**</ept>, click <bpt id=\"p3\">**</bpt>Download<ept id=\"p3\">**</ept>, extract the compressed project files to your local computer, and open the solution in Visual Studio."
    },
    {
      "content": "Build the project to restore the NuGet packages.",
      "pos": [
        3191,
        3239
      ]
    },
    {
      "content": "Enable CORS in the server project",
      "pos": [
        3243,
        3276
      ]
    },
    {
      "content": "Cross-origin resource sharing (CORS) is a way for your web-based app to indicate from which domains requests are safe and should be permitted by the browser.",
      "pos": [
        3278,
        3435
      ]
    },
    {
      "content": "You must add a CORS entry for every web site that will access your Mobile App backend.",
      "pos": [
        3436,
        3522
      ]
    },
    {
      "content": "You control your CORS settings by using the standard ASP.NET Web API behaviors.",
      "pos": [
        3523,
        3602
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>Enabling Cross-Origin Requests in ASP.NET Web API<ept id=\"p1\">](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api#enable-cors)</ept>.",
      "pos": [
        3603,
        3781
      ]
    },
    {
      "content": "By default, the client quickstart project that you will download from the portal runs on localhost on port 8000.",
      "pos": [
        3783,
        3895
      ]
    },
    {
      "content": "Because of this, you will next enable CORS for <ph id=\"ph1\">`http://localhost:8000`</ph> in the server project.",
      "pos": [
        3896,
        3989
      ]
    },
    {
      "pos": [
        3996,
        4194
      ],
      "content": "In Visual Studio in the Tools menu, click <bpt id=\"p1\">**</bpt>NuGet Package Manager<ept id=\"p1\">**</ept> &gt; <bpt id=\"p2\">**</bpt>Package Manager Console<ept id=\"p2\">**</ept>, select Nuget.org as the <bpt id=\"p3\">**</bpt>Package source<ept id=\"p3\">**</ept> and execute the following command in the console window:"
    },
    {
      "content": "Open the App_Start/Startup.MobileApp.cs project file and add the following using statement:",
      "pos": [
        4256,
        4347
      ]
    },
    {
      "pos": [
        4389,
        4517
      ],
      "content": "Next, add the following code to the <bpt id=\"p1\">**</bpt>Startup.ConfigureMobileApp<ept id=\"p1\">**</ept> method after the <bpt id=\"p2\">**</bpt>HttpConfiguration<ept id=\"p2\">**</ept> (<bpt id=\"p3\">*</bpt>config<ept id=\"p3\">*</ept>) is created:"
    },
    {
      "content": "Save your updates.",
      "pos": [
        4716,
        4734
      ]
    },
    {
      "content": "Next, you will deploy your CORS-enabled project to Azure.",
      "pos": [
        4736,
        4793
      ]
    },
    {
      "content": "Publish the server project to Azure",
      "pos": [
        4797,
        4832
      ]
    },
    {
      "content": "Download and run the client project",
      "pos": [
        4974,
        5009
      ]
    },
    {
      "pos": [
        5014,
        5152
      ],
      "content": "Back in the blade for your Mobile App backend, click <bpt id=\"p1\">**</bpt>All settings<ept id=\"p1\">**</ept> and under <bpt id=\"p2\">**</bpt>Mobile App<ept id=\"p2\">**</ept> click <bpt id=\"p3\">**</bpt>Quickstart<ept id=\"p3\">**</ept> &gt; <bpt id=\"p4\">**</bpt>HTML/JavaScript<ept id=\"p4\">**</ept>."
    },
    {
      "pos": [
        5159,
        5320
      ],
      "content": "Under <bpt id=\"p1\">**</bpt>Download and run your HTML/Javascript project<ept id=\"p1\">**</ept> in <bpt id=\"p2\">**</bpt>Create a new app<ept id=\"p2\">**</ept>, click <bpt id=\"p3\">**</bpt>Download<ept id=\"p3\">**</ept> and save the compressed project files to your local computer."
    },
    {
      "pos": [
        5325,
        5505
      ],
      "content": "Browse to the location where you saved the compressed project files, expand the files on your computer, and launch one of the following command files from the <bpt id=\"p1\">**</bpt>server<ept id=\"p1\">**</ept> subfolder."
    },
    {
      "pos": [
        5513,
        5551
      ],
      "content": "<bpt id=\"p1\">**</bpt>launch-windows<ept id=\"p1\">**</ept> (Windows computers)"
    },
    {
      "pos": [
        5558,
        5601
      ],
      "content": "<bpt id=\"p1\">**</bpt>launch-mac.command<ept id=\"p1\">**</ept> (Mac OS X computers)"
    },
    {
      "pos": [
        5608,
        5645
      ],
      "content": "<bpt id=\"p1\">**</bpt>launch-linux.sh<ept id=\"p1\">**</ept> (Linux computers)"
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> On a Windows computer, type <ph id=\"ph2\">`R`</ph> when PowerShell asks you to confirm that you want to run the script.",
      "pos": [
        5653,
        5766
      ]
    },
    {
      "content": "Your web browser might warn you to not run the script because it was downloaded from the internet.",
      "pos": [
        5767,
        5865
      ]
    },
    {
      "content": "When this happens, you must request that the browser proceed to load the script.",
      "pos": [
        5866,
        5946
      ]
    },
    {
      "content": "This starts a web server on your local computer to host the new app.",
      "pos": [
        5952,
        6020
      ]
    },
    {
      "content": "Open the URL <ph id=\"ph1\">&lt;a href=\"http://localhost:8000/\" target=\"_blank\"&gt;</ph>http://localhost:8000/<ph id=\"ph2\">&lt;/a&gt;</ph> in a web browser to start the app.",
      "pos": [
        6025,
        6148
      ]
    },
    {
      "content": "The client app is configured to connect to your Mobile App backend in Azure.",
      "pos": [
        6149,
        6225
      ]
    },
    {
      "pos": [
        6230,
        6343
      ],
      "content": "In the app, type meaningful text, such as <bpt id=\"p1\">_</bpt>Complete the tutorial<ept id=\"p1\">_</ept>, in <bpt id=\"p2\">**</bpt>Enter new task<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>Add<ept id=\"p3\">**</ept>."
    },
    {
      "content": "Running the app",
      "pos": [
        6351,
        6366
      ]
    },
    {
      "content": "This sends a POST request to the new Mobile App backend hosted in Azure.",
      "pos": [
        6453,
        6525
      ]
    },
    {
      "content": "Data from the request is inserted into the TodoItem table in the Mobile App schema.",
      "pos": [
        6526,
        6609
      ]
    },
    {
      "content": "Items stored in the table are returned by the service, and the data is displayed in the second column in the app.",
      "pos": [
        6610,
        6723
      ]
    },
    {
      "pos": [
        6731,
        6861
      ],
      "content": "<ph id=\"ph1\">[AZURE.TIP]</ph> You can review the code that accesses your mobile service to query and insert data, which is found in the app.js file."
    }
  ],
  "content": "<properties\n    pageTitle=\"Get Started with mobile app backends for HTML/JavaScript apps | Azure App Service Mobile Apps\"\n    description=\"Follow this tutorial to get started using Azure mobile app backends for web app development in HTML5 and JavaScript.\"\n    services=\"app-service\\mobile\"\n    documentationCenter=\"\"\n    authors=\"ggailey777\"\n    manager=\"dwrede\"\n    editor=\"\"/>\n\n<tags\n    ms.service=\"app-service-mobile\"\n    ms.workload=\"mobile\"\n    ms.tgt_pltfrm=\"mobile-html5\"\n    ms.devlang=\"javascript\"\n    ms.topic=\"get-started-article\"\n    ms.date=\"11/18/2015\"\n    ms.author=\"glenga\"/>\n\n\n#Create an HTML app\n\n[AZURE.INCLUDE [app-service-mobile-selector-get-started](../../includes/app-service-mobile-selector-get-started.md)] \n&nbsp;  \n<!--- [AZURE.INCLUDE [app-service-mobile-note-mobile-services](../../includes/app-service-mobile-note-mobile-services.md)]-->\n\n>[AZURE.IMPORTANT] This topic is not currently supported by Mobile Apps because the quickstart for HTML/JavaScript apps has been temporarily removed from the Azure portal. We plan to bring it back in the very near future. Thanks you for your patience.\n\n##Overview\n\nThis tutorial shows you how to add a cloud-based backend service to an HTML5/JavaScript web app. For more information, see [What are Mobile Apps](app-service-mobile-value-prop.md). \n\nA screenshot from the completed app is below:\n\n![Screenshot of completed app](./media/app-service-mobile-html-get-started/mobile-quickstart-completed-html.png)\n\nCompleting this tutorial is a prerequisite for all other Mobile Apps tutorials for HTML apps. \n\n##Prerequisites\n\nTo complete this tutorial, you need the following:\n\n* An active Azure account. If you don't have an account, you can sign up for an Azure trial and get up to 10 free Mobile Apps that you can keep using even after your trial ends. For details, see [Azure Free Trial](http://azure.microsoft.com/pricing/free-trial/).\n\n* [Visual Studio Community 2013] or a later version.\n\n>[AZURE.NOTE] If you want to get started with Azure App Service before signing up for an Azure account, go to [Try App Service](https://tryappservice.azure.com/?appServiceName=mobile), where you can immediately create a short-lived starter Mobile App in App Service. No credit cards required; no commitments.\n\n##Create a new Mobile App backend\n\nFollow these steps to create a new Mobile App backend.\n\n[AZURE.INCLUDE [app-service-mobile-dotnet-backend-create-new-service](../../includes/app-service-mobile-dotnet-backend-create-new-service.md)]\n\nYou have now provisioned an Azure Mobile App backend that can be used by your mobile client applications. Next, you will download a server project for a simple \"todo list\" backend and publish it to Azure.\n\n## Download the server project\n\n1. In the [Azure Portal], click **Browse All** > **Web Apps**, then click the Mobile App backend that you just created. \n\n2. In the Mobile App backend, click **All settings** and under **Mobile App** click **Quickstart** > **HTML/JavaScript**.\n\n3. Under **Download and run your server project** in **Create a new app**, click **Download**, extract the compressed project files to your local computer, and open the solution in Visual Studio.\n\n4. Build the project to restore the NuGet packages.\n\n##Enable CORS in the server project\n\nCross-origin resource sharing (CORS) is a way for your web-based app to indicate from which domains requests are safe and should be permitted by the browser. You must add a CORS entry for every web site that will access your Mobile App backend. You control your CORS settings by using the standard ASP.NET Web API behaviors. For more information, see [Enabling Cross-Origin Requests in ASP.NET Web API](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api#enable-cors).\n\nBy default, the client quickstart project that you will download from the portal runs on localhost on port 8000. Because of this, you will next enable CORS for `http://localhost:8000` in the server project.  \n\n1. In Visual Studio in the Tools menu, click **NuGet Package Manager** > **Package Manager Console**, select Nuget.org as the **Package source** and execute the following command in the console window:\n \n        Install-Package Microsoft.AspNet.WebApi.Cors  \n\n2. Open the App_Start/Startup.MobileApp.cs project file and add the following using statement:\n\n        using System.Web.Http.Cors;\n\n3. Next, add the following code to the **Startup.ConfigureMobileApp** method after the **HttpConfiguration** (*config*) is created:\n\n        // Enable CORS support for localhost port 8000, all headers and methods.\n        var cors = new EnableCorsAttribute(\"http://localhost:8000\", \"*\", \"*\");\n        config.EnableCors(cors);\n\n4. Save your updates.\n\nNext, you will deploy your CORS-enabled project to Azure.\n\n##Publish the server project to Azure\n\n[AZURE.INCLUDE [app-service-mobile-dotnet-backend-publish-service](../../includes/app-service-mobile-dotnet-backend-publish-service.md)]\n\n##Download and run the client project\n\n1. Back in the blade for your Mobile App backend, click **All settings** and under **Mobile App** click **Quickstart** > **HTML/JavaScript**. \n\n2.  Under **Download and run your HTML/Javascript project** in **Create a new app**, click **Download** and save the compressed project files to your local computer.\n\n3. Browse to the location where you saved the compressed project files, expand the files on your computer, and launch one of the following command files from the **server** subfolder.\n\n    + **launch-windows** (Windows computers)\n    + **launch-mac.command** (Mac OS X computers)\n    + **launch-linux.sh** (Linux computers)\n\n    > [AZURE.NOTE] On a Windows computer, type `R` when PowerShell asks you to confirm that you want to run the script. Your web browser might warn you to not run the script because it was downloaded from the internet. When this happens, you must request that the browser proceed to load the script.\n\n    This starts a web server on your local computer to host the new app.\n\n4. Open the URL <a href=\"http://localhost:8000/\" target=\"_blank\">http://localhost:8000/</a> in a web browser to start the app. The client app is configured to connect to your Mobile App backend in Azure.\n\n5. In the app, type meaningful text, such as _Complete the tutorial_, in **Enter new task**, and then click **Add**.\n\n    ![Running the app](./media/app-service-mobile-html-get-started/mobile-quickstart-startup-html.png)\n\n    This sends a POST request to the new Mobile App backend hosted in Azure. Data from the request is inserted into the TodoItem table in the Mobile App schema. Items stored in the table are returned by the service, and the data is displayed in the second column in the app.\n\n    > [AZURE.TIP] You can review the code that accesses your mobile service to query and insert data, which is found in the app.js file. \n\n<!-- Anchors. -->\n<!-- Images. -->\n<!-- URLs. -->\n[Get started with authentication]: app-service-mobile-windows-store-dotnet-get-started-users.md\n[Mobile App SDK]: http://go.microsoft.com/fwlink/?LinkId=257545\n[Azure Portal]: https://portal.azure.com/\n\n[Visual Studio Community 2013]: https://www.visualstudio.com/downloads\n \n\n\n"
}