{
  "nodes": [
    {
      "content": "Manage Remote Hyper-V Hosts with Hyper-V Manager",
      "pos": [
        2,
        50
      ]
    },
    {
      "content": "Hyper-V Manager provides tools for diagnosing and managing your local Hyper-V host and a small number of remote hosts.",
      "pos": [
        54,
        172
      ]
    },
    {
      "content": "This article documents the configuration steps for connecting to Hyper-V hosts using Hyper-V Manager in all supported configurations.",
      "pos": [
        174,
        307
      ]
    },
    {
      "pos": [
        309,
        486
      ],
      "content": "To connect to a Hyper-V host in Hyper-V Manager, make sure <bpt id=\"p1\">**</bpt>Hyper-V Manager<ept id=\"p1\">**</ept> is selected in the left hand pane and then select <bpt id=\"p2\">**</bpt>Connect to Server...<ept id=\"p2\">**</ept> in the right-hand pane."
    },
    {
      "content": "Supported Hyper-V host combinations with Hyper-V Manager",
      "pos": [
        535,
        591
      ]
    },
    {
      "content": "Hyper-V Manager in Windows 10 allows you to manage:",
      "pos": [
        592,
        643
      ]
    },
    {
      "content": "Windows 10",
      "pos": [
        646,
        656
      ]
    },
    {
      "content": "Windows 8.1 and Windows Server 2012 R2 Hyper-V hosts",
      "pos": [
        659,
        711
      ]
    },
    {
      "content": "Windows 8 and Windows 2012 Hyper-V hosts",
      "pos": [
        714,
        754
      ]
    },
    {
      "content": "Hyper-V Manager in Windows 8.1 and Windows Server 2012 R2 allows you to manage:",
      "pos": [
        756,
        835
      ]
    },
    {
      "content": "Windows 8.1 and Windows Server 2012 R2 Hyper-V hosts",
      "pos": [
        838,
        890
      ]
    },
    {
      "content": "Windows 8 and Windows 2012 Hyper-V hosts",
      "pos": [
        893,
        933
      ]
    },
    {
      "pos": [
        937,
        1013
      ],
      "content": "<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> Not all Hyper-V Manager functionality works for all host versions."
    },
    {
      "content": "Manage localhost",
      "pos": [
        1018,
        1034
      ]
    },
    {
      "pos": [
        1038,
        1159
      ],
      "content": "To add localhost to Hyper-V Manager as a Hyper-V host, select <bpt id=\"p1\">**</bpt>Local computer<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>Select Computer<ept id=\"p2\">**</ept> dialogue box."
    },
    {
      "content": "If a connection can't be established:",
      "pos": [
        1210,
        1247
      ]
    },
    {
      "content": "Make sure the Hyper-V server role is enabled.",
      "pos": [
        1251,
        1296
      ]
    },
    {
      "content": "See the <bpt id=\"p1\">[</bpt>walkthrough section for checking compatability<ept id=\"p1\">](../quick_start/walkthrough_compatibility.md)</ept>.",
      "pos": [
        1298,
        1400
      ]
    },
    {
      "content": "Confirm that your user account is part of the Hyper-V Administrator group.",
      "pos": [
        1404,
        1478
      ]
    },
    {
      "content": "Manage a Hyper-V host in your domain",
      "pos": [
        1484,
        1520
      ]
    },
    {
      "pos": [
        1525,
        1717
      ],
      "content": "To add a remote Hyper-V host to Hyper-V Manager, select <bpt id=\"p1\">**</bpt>Another computer<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>Select Computer<ept id=\"p2\">**</ept> dialogue box and enter the remote host's hostname, NetBIOS, or FQDN into the text field."
    },
    {
      "content": "Windows 10 greatly expanded the possible combinations of remote connection types.",
      "pos": [
        1769,
        1850
      ]
    },
    {
      "content": "Now you can connect to a remote Windows 10 or later host using either the host name or IP address.",
      "pos": [
        1853,
        1951
      ]
    },
    {
      "content": "Hyper-V Manager now supports alternate credentials as well.",
      "pos": [
        1953,
        2012
      ]
    },
    {
      "content": "In order to manage remote Hyper-V hosts, remote management must be enabled on both computers.",
      "pos": [
        2016,
        2109
      ]
    },
    {
      "pos": [
        2111,
        2249
      ],
      "content": "You can do this through <ph id=\"ph1\">`System Properties -&gt; Remote Management Settings`</ph> or by running the following PowerShell command as Administrator:"
    },
    {
      "pos": [
        2291,
        2417
      ],
      "content": "If your current user account matches a Hyper-V Administrator account on the remote host, go ahead and press <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> to Connect."
    },
    {
      "content": "This is the only supported way to manage a remote host in Hyper-V Manager in Windows 8 or Windows 8.1.",
      "pos": [
        2421,
        2523
      ]
    },
    {
      "content": "Connect to the remote host as a different user",
      "pos": [
        2530,
        2576
      ]
    },
    {
      "content": "In Windows 10, if you are not running with the correct user account for the remote host, you can connect as another user with alternate credentials.",
      "pos": [
        2577,
        2725
      ]
    },
    {
      "pos": [
        2727,
        2884
      ],
      "content": "To specify credentials for the remote Hyper-V host, select **Connect as another user: ** in the <bpt id=\"p1\">**</bpt>Select Computer<ept id=\"p1\">**</ept> dialogue box then select <bpt id=\"p2\">**</bpt>Set User...<ept id=\"p2\">**</ept>."
    },
    {
      "content": "Note:  It's very easy to forget to set the user and click OK with user not specified.",
      "pos": [
        2946,
        3031
      ]
    },
    {
      "content": "If your connection fails, make sure you actually did set the user.",
      "pos": [
        3033,
        3099
      ]
    },
    {
      "content": "Connect to the remote host using IP address",
      "pos": [
        3105,
        3148
      ]
    },
    {
      "content": "Sometimes it's easier to connect using IP address rather than host name.",
      "pos": [
        3149,
        3221
      ]
    },
    {
      "content": "Windows 10 allows your to do just that.",
      "pos": [
        3223,
        3262
      ]
    },
    {
      "pos": [
        3264,
        3355
      ],
      "content": "To connect using IP address, enter the IP address into the <bpt id=\"p1\">**</bpt>Another Computer<ept id=\"p1\">**</ept> text field."
    },
    {
      "content": "Manage a Hyper-V host outside your domain (or with no domain)",
      "pos": [
        3361,
        3422
      ]
    },
    {
      "content": "Local Hyper-V Host:",
      "pos": [
        3485,
        3504
      ]
    },
    {
      "content": "Enable-PSRemoting",
      "pos": [
        3509,
        3526
      ]
    },
    {
      "content": "Came back with netowork set to public.",
      "pos": [
        3527,
        3565
      ]
    },
    {
      "content": "Ran",
      "pos": [
        3566,
        3569
      ]
    },
    {
      "content": "Set-NetConnectionProfile -Name \"name\" -NetworkCategory private",
      "pos": [
        3570,
        3632
      ]
    },
    {
      "content": "Set-Item WSMan:\\localhost\\Client\\TrustedHosts * -Force",
      "pos": [
        3636,
        3690
      ]
    },
    {
      "content": "Enable-WSManCredSSP -Role client -DelegateComputer *",
      "pos": [
        3694,
        3746
      ]
    },
    {
      "content": "For workgroup only:",
      "pos": [
        3748,
        3767
      ]
    },
    {
      "content": "(should be done) Computer Policy\\Administrative Templates\\System\\Credentials Delegation\\Allow Delegating Fresh Credentials → Set to enabled and add WSMAN/* ].",
      "pos": [
        3771,
        3929
      ]
    },
    {
      "content": "To list of computers, check the box forConcatenate OS defaults with input above",
      "pos": [
        3931,
        4010
      ]
    },
    {
      "content": "Computer Policy\\Administrative Templates\\System\\Credentials Delegation\\Allow Delegating Fresh Credentials with NTLM-only server authentication → Set to enabled and add WSMAN/* to list of computers, check the box for Concatenate OS defaults with input above",
      "pos": [
        4015,
        4271
      ]
    },
    {
      "content": "Computer Policy\\Administrative Templates\\Windows Components\\Windows Remote Management (WinRM)\\WinRM Client\\Allow CredSSP authentication → Set to enabled",
      "pos": [
        4275,
        4427
      ]
    },
    {
      "content": "Remote Hyper-V Host:",
      "pos": [
        4429,
        4449
      ]
    },
    {
      "content": "Disabled the firewall :)",
      "pos": [
        4453,
        4477
      ]
    },
    {
      "content": "Enable-PSRemoting",
      "pos": [
        4481,
        4498
      ]
    },
    {
      "content": "Set-Item WSMan:\\localhost\\Client\\TrustedHosts * -Force",
      "pos": [
        4502,
        4556
      ]
    },
    {
      "content": "So that's the demo-only instructions I used.",
      "pos": [
        4557,
        4601
      ]
    },
    {
      "content": "Replace * and turn off firewall with a single computer and letting credssp and winRM through",
      "pos": [
        4603,
        4695
      ]
    }
  ],
  "content": "# Manage Remote Hyper-V Hosts with Hyper-V Manager #\n\nHyper-V Manager provides tools for diagnosing and managing your local Hyper-V host and a small number of remote hosts.  This article documents the configuration steps for connecting to Hyper-V hosts using Hyper-V Manager in all supported configurations.\n\nTo connect to a Hyper-V host in Hyper-V Manager, make sure **Hyper-V Manager** is selected in the left hand pane and then select **Connect to Server...** in the right-hand pane.\n\n![](media/HyperVManager-ConnectToHost.png)\n\n## Supported Hyper-V host combinations with Hyper-V Manager\nHyper-V Manager in Windows 10 allows you to manage:\n* Windows 10\n* Windows 8.1 and Windows Server 2012 R2 Hyper-V hosts\n* Windows 8 and Windows 2012 Hyper-V hosts\n\nHyper-V Manager in Windows 8.1 and Windows Server 2012 R2 allows you to manage:\n* Windows 8.1 and Windows Server 2012 R2 Hyper-V hosts\n* Windows 8 and Windows 2012 Hyper-V hosts\n\n> **Note:** Not all Hyper-V Manager functionality works for all host versions.\n\n## Manage localhost ##\nTo add localhost to Hyper-V Manager as a Hyper-V host, select **Local computer** in the **Select Computer** dialogue box.\n\n![](media/HyperVManager-ConnectToLocalHost.png)\n\nIf a connection can't be established:\n*  Make sure the Hyper-V server role is enabled.  See the [walkthrough section for checking compatability](../quick_start/walkthrough_compatibility.md).\n*  Confirm that your user account is part of the Hyper-V Administrator group.\n\n\n## Manage a Hyper-V host in your domain ##\n\nTo add a remote Hyper-V host to Hyper-V Manager, select **Another computer** in the **Select Computer** dialogue box and enter the remote host's hostname, NetBIOS, or FQDN into the text field.\n\n![](media/HyperVManager-ConnectToRemoteHost.png)\n\nWindows 10 greatly expanded the possible combinations of remote connection types.  \nNow you can connect to a remote Windows 10 or later host using either the host name or IP address.  Hyper-V Manager now supports alternate credentials as well.  \n\nIn order to manage remote Hyper-V hosts, remote management must be enabled on both computers.\n\nYou can do this through `System Properties -> Remote Management Settings` or by running the following PowerShell command as Administrator:  \n\n``` PowerShell\nwinrm quickconfig\n```\n\nIf your current user account matches a Hyper-V Administrator account on the remote host, go ahead and press **OK** to Connect.  \n\nThis is the only supported way to manage a remote host in Hyper-V Manager in Windows 8 or Windows 8.1.\n\n\n### Connect to the remote host as a different user\nIn Windows 10, if you are not running with the correct user account for the remote host, you can connect as another user with alternate credentials.\n\nTo specify credentials for the remote Hyper-V host, select **Connect as another user: ** in the **Select Computer** dialogue box then select **Set User...**.\n\n![](media/HyperVManager-ConnectToRemoteHostAltCreds.png)\n\n> Note:  It's very easy to forget to set the user and click OK with user not specified.  If your connection fails, make sure you actually did set the user.\n\n### Connect to the remote host using IP address\nSometimes it's easier to connect using IP address rather than host name.  Windows 10 allows your to do just that.\n\nTo connect using IP address, enter the IP address into the **Another Computer** text field.\n\n\n## Manage a Hyper-V host outside your domain (or with no domain) ##\n<!--Assuming this isn't done yet...again needs context.-->\nLocal Hyper-V Host:\n1.  Enable-PSRemoting\nCame back with netowork set to public.\nRan\nSet-NetConnectionProfile -Name \"name\" -NetworkCategory private\n2. Set-Item WSMan:\\localhost\\Client\\TrustedHosts * -Force\n3. Enable-WSManCredSSP -Role client -DelegateComputer *\n\nFor workgroup only:\n1. (should be done) Computer Policy\\Administrative Templates\\System\\Credentials Delegation\\Allow Delegating Fresh Credentials → Set to enabled and add WSMAN/* ].  To list of computers, check the box forConcatenate OS defaults with input above\n\n2. Computer Policy\\Administrative Templates\\System\\Credentials Delegation\\Allow Delegating Fresh Credentials with NTLM-only server authentication → Set to enabled and add WSMAN/* to list of computers, check the box for Concatenate OS defaults with input above\n3. Computer Policy\\Administrative Templates\\Windows Components\\Windows Remote Management (WinRM)\\WinRM Client\\Allow CredSSP authentication → Set to enabled\n\nRemote Hyper-V Host:\n1. Disabled the firewall :)\n2. Enable-PSRemoting\n3. Set-Item WSMan:\\localhost\\Client\\TrustedHosts * -Force\nSo that's the demo-only instructions I used.  Replace * and turn off firewall with a single computer and letting credssp and winRM through\n\n\n"
}