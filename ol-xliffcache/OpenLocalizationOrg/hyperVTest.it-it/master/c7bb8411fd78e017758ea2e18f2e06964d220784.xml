{
  "nodes": [
    {
      "pos": [
        27,
        86
      ],
      "content": "Introduction to Apache Storm on HDInsight | Microsoft Azure"
    },
    {
      "pos": [
        105,
        244
      ],
      "content": "Get an introduction to Apache Storm, and learn how you can use Storm on HDInsight to build real-time data analytics solutions in the cloud."
    },
    {
      "pos": [
        566,
        639
      ],
      "content": "Introduction to Apache Storm on HDInsight: Real-time analytics for Hadoop"
    },
    {
      "pos": [
        641,
        807
      ],
      "content": "Apache Storm on HDInsight allows you to create distributed, real-time analytics solutions in the Azure environment by using <bpt id=\"p1\">[</bpt>Apache Hadoop<ept id=\"p1\">](http://hadoop.apache.org)</ept>."
    },
    {
      "pos": [
        811,
        832
      ],
      "content": "What is Apache Storm?"
    },
    {
      "pos": [
        834,
        1117
      ],
      "content": "Apache Storm is a distributed, fault-tolerant, open-source computation system that allows you to process data in real-time with Hadoop. Storm solutions can also provide guaranteed processing of data, with the ability to replay data that was not successfully processed the first time.",
      "nodes": [
        {
          "content": "Apache Storm is a distributed, fault-tolerant, open-source computation system that allows you to process data in real-time with Hadoop.",
          "pos": [
            0,
            135
          ]
        },
        {
          "content": "Storm solutions can also provide guaranteed processing of data, with the ability to replay data that was not successfully processed the first time.",
          "pos": [
            136,
            283
          ]
        }
      ]
    },
    {
      "pos": [
        1121,
        1148
      ],
      "content": "Why use Storm on HDInsight?"
    },
    {
      "pos": [
        1150,
        1275
      ],
      "content": "Apache Storm on HDInsight is a managed cluster integrated into the Azure environment. It provides the following key benefits:",
      "nodes": [
        {
          "content": "Apache Storm on HDInsight is a managed cluster integrated into the Azure environment.",
          "pos": [
            0,
            85
          ]
        },
        {
          "content": "It provides the following key benefits:",
          "pos": [
            86,
            125
          ]
        }
      ]
    },
    {
      "pos": [
        1279,
        1337
      ],
      "content": "Performs as a managed service with an SLA of 99.9% up time"
    },
    {
      "pos": [
        1341,
        1455
      ],
      "content": "Use the language of your choice: Provides support for Storm components written in <bpt id=\"p2\">**</bpt>Java<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>C#<ept id=\"p3\">**</ept>, and <bpt id=\"p4\">**</bpt>Python<ept id=\"p4\">**</ept>"
    },
    {
      "pos": [
        1463,
        1549
      ],
      "content": "Supports a mix of programming languages: Read data using Java, then process it using C"
    },
    {
      "pos": [
        1566,
        1648
      ],
      "content": "<ph id=\"ph2\">[AZURE.NOTE]</ph><ph id=\"ph3\"/> C# topologies are only supported on Windows-based HDInsight clusters."
    },
    {
      "pos": [
        1656,
        1856
      ],
      "content": "Use the <bpt id=\"p5\">**</bpt>Trident<ept id=\"p5\">**</ept><ph id=\"ph4\"/> Java interface to create Storm topologies that support \"exactly once\" processing of messages, \"transactional\" datastore persistence, and a set of common stream analytics operations"
    },
    {
      "pos": [
        1860,
        1981
      ],
      "content": "Includes built-in scale-up and scale-down features: Scale an HDInsight cluster with no impact to running Storm topologies"
    },
    {
      "pos": [
        1985,
        2108
      ],
      "content": "Integrate with other Azure services, including Event Hub, Azure Virtual Network, SQL Database, Blob storage, and DocumentDB"
    },
    {
      "pos": [
        2116,
        2275
      ],
      "content": "Combine the capabilities of multiple HDInsight clusters by using Azure Virtual Network: Create analytic pipelines that use HDInsight, HBase, or Hadoop clusters"
    },
    {
      "pos": [
        2277,
        2461
      ],
      "content": "For a list of companies that are using Apache Storm for their real-time analytics solutions, see <bpt id=\"p6\">[</bpt>Companies Using Apache Storm<ept id=\"p6\">](https://storm.apache.org/documentation/Powered-By.html)</ept>."
    },
    {
      "pos": [
        2463,
        2549
      ],
      "content": "To get started using Storm, see <bpt id=\"p7\">[</bpt>Get started with Storm on HDInsight<ept id=\"p7\">][gettingstarted]</ept>."
    },
    {
      "pos": [
        2554,
        2574
      ],
      "content": "Ease of provisioning"
    },
    {
      "pos": [
        2576,
        2809
      ],
      "content": "You can provision a new Storm on HDInsight cluster in minutes. Specify the cluster name, size, administrator account, and the storage account. Azure will create the cluster, including sample topologies and a web-management dashboard.",
      "nodes": [
        {
          "content": "You can provision a new Storm on HDInsight cluster in minutes.",
          "pos": [
            0,
            62
          ]
        },
        {
          "content": "Specify the cluster name, size, administrator account, and the storage account.",
          "pos": [
            63,
            142
          ]
        },
        {
          "content": "Azure will create the cluster, including sample topologies and a web-management dashboard.",
          "pos": [
            143,
            233
          ]
        }
      ]
    },
    {
      "pos": [
        2813,
        2972
      ],
      "content": "<ph id=\"ph5\">[AZURE.NOTE]</ph><ph id=\"ph6\"/> You can also provision Storm clusters by using the <bpt id=\"p8\">[</bpt>Azure CLI<ept id=\"p8\">](../xplat-cli-install.md)</ept><ph id=\"ph7\"/> or <bpt id=\"p9\">[</bpt>Azure PowerShell<ept id=\"p9\">](../powershell-install-configure.md)</ept>."
    },
    {
      "pos": [
        2974,
        3115
      ],
      "content": "Within 15 minutes of submitting the request, you will have a new Storm cluster running and ready for your first real-time analytics pipeline."
    },
    {
      "pos": [
        3120,
        3131
      ],
      "content": "Ease of use"
    },
    {
      "pos": [
        3133,
        3403
      ],
      "content": "<bpt id=\"p10\">__</bpt>For Linux-based Storm on HDInsight clusters<ept id=\"p10\">__</ept>, you can connect to the cluster using SSH and use the <ph id=\"ph8\">`storm`</ph><ph id=\"ph9\"/> command to start and manage topologies. Additionally, you can use Ambari to monitor the Storm service and the Storm UI to monitor and manage running topologies.",
      "nodes": [
        {
          "content": "<bpt id=\"p10\">__</bpt>For Linux-based Storm on HDInsight clusters<ept id=\"p10\">__</ept>, you can connect to the cluster using SSH and use the <ph id=\"ph8\">`storm`</ph><ph id=\"ph9\"/> command to start and manage topologies.",
          "pos": [
            0,
            221
          ]
        },
        {
          "content": "Additionally, you can use Ambari to monitor the Storm service and the Storm UI to monitor and manage running topologies.",
          "pos": [
            222,
            342
          ]
        }
      ]
    },
    {
      "pos": [
        3405,
        3585
      ],
      "content": "For more information on working with Linux-based Storm clusters, see <bpt id=\"p11\">[</bpt>Get started with Apache Storm on Linux-based HDInsight<ept id=\"p11\">](hdinsight-apache-storm-tutorial-get-started-linux.md)</ept>."
    },
    {
      "pos": [
        3587,
        3786
      ],
      "content": "<bpt id=\"p12\">__</bpt>For Windows-based Storm on HDInsight clusters<ept id=\"p12\">__</ept>, the HDInsight Tools for Visual Studio allow you to create C# and hybrid C#/Java topologies, and then submit them to your Storm on HDInsight cluster."
    },
    {
      "pos": [
        3790,
        3867
      ],
      "content": "<ph id=\"ph10\">![</ph>Storm Project creation<ph id=\"ph11\">](./media/hdinsight-storm-overview/createproject.png)</ph>"
    },
    {
      "pos": [
        3869,
        3998
      ],
      "content": "HDInsight Tools for Visual Studio also provides an interface that allows you to monitor and manage Storm topologies on a cluster."
    },
    {
      "pos": [
        4000,
        4067
      ],
      "content": "<ph id=\"ph12\">![</ph>Storm management<ph id=\"ph13\">](./media/hdinsight-storm-overview/stormview.png)</ph>"
    },
    {
      "pos": [
        4069,
        4279
      ],
      "content": "For an example of using the HDInsight Tools to create a Storm application, see <bpt id=\"p13\">[</bpt>Develop C# Storm topologies with the HDInsight Tools for Visual Studio<ept id=\"p13\">](hdinsight-storm-develop-csharp-visual-studio-topology.md)</ept>."
    },
    {
      "pos": [
        4281,
        4475
      ],
      "content": "For more information about the HDInsight Tools for Visual Studio, see <bpt id=\"p14\">[</bpt>Get started using the HDInsight Tools for Visual Studio<ept id=\"p14\">](../HDInsight/hdinsight-hadoop-visual-studio-tools-get-started.md)</ept>."
    },
    {
      "pos": [
        4477,
        4638
      ],
      "content": "Each Storm on HDInsight cluster also provides a web-based Storm Dashboard that allows you to submit, monitor, and manage Storm topologies running on the cluster."
    },
    {
      "pos": [
        4640,
        4706
      ],
      "content": "<ph id=\"ph14\">![</ph>Storm dashboard<ph id=\"ph15\">](./media/hdinsight-storm-overview/dashboard.png)</ph>"
    },
    {
      "pos": [
        4708,
        4867
      ],
      "content": "For more information about using the Storm Dashboard, see <bpt id=\"p15\">[</bpt>Deploy and manage Apache Storm topologies on HDInsight<ept id=\"p15\">](hdinsight-storm-deploy-monitor-topology.md)</ept>."
    },
    {
      "pos": [
        4869,
        5192
      ],
      "content": "Storm on HDInsight also provides easy integration with Azure Event Hubs through the <bpt id=\"p16\">**</bpt>Event Hub Spout<ept id=\"p16\">**</ept>. This is available on each storm cluster at <bpt id=\"p17\">**</bpt>%STORM_HOME%\\examples\\eventhubspout\\eventhubs-storm-spout-0.9-jar-with-dependencies.jar<ept id=\"p17\">**</ept>. For examples of using this spout in a Storm topology, see the following documents:",
      "nodes": [
        {
          "content": "Storm on HDInsight also provides easy integration with Azure Event Hubs through the <bpt id=\"p16\">**</bpt>Event Hub Spout<ept id=\"p16\">**</ept>.",
          "pos": [
            0,
            144
          ]
        },
        {
          "content": "This is available on each storm cluster at <bpt id=\"p17\">**</bpt>%STORM_HOME%\\examples\\eventhubspout\\eventhubs-storm-spout-0.9-jar-with-dependencies.jar<ept id=\"p17\">**</ept>.",
          "pos": [
            145,
            320
          ]
        },
        {
          "content": "For examples of using this spout in a Storm topology, see the following documents:",
          "pos": [
            321,
            403
          ]
        }
      ]
    },
    {
      "pos": [
        5196,
        5300
      ],
      "content": "<bpt id=\"p18\">[</bpt>Develop a C# topology that uses Azure Event Hubs<ept id=\"p18\">](hdinsight-storm-develop-csharp-event-hub-topology.md)</ept>"
    },
    {
      "pos": [
        5304,
        5408
      ],
      "content": "<bpt id=\"p19\">[</bpt>Develop a Java topology that uses Azure Event Hubs<ept id=\"p19\">](hdinsight-storm-develop-java-event-hub-topology.md)</ept>"
    },
    {
      "pos": [
        5413,
        5424
      ],
      "content": "Reliability"
    },
    {
      "pos": [
        5426,
        5570
      ],
      "content": "Apache Storm always guarantees that each incoming message will be fully processed, even when the data analysis is spread over hundreds of nodes."
    },
    {
      "pos": [
        5572,
        5995
      ],
      "content": "The <bpt id=\"p20\">**</bpt>Nimbus node<ept id=\"p20\">**</ept><ph id=\"ph16\"/> provides similar functionality to the Hadoop JobTracker, and it assigns tasks to other nodes in the cluster through <bpt id=\"p21\">**</bpt>Zookeeper<ept id=\"p21\">**</ept>. Zookeeper nodes provide coordination for the cluster and facilitate communication between Nimbus and the <bpt id=\"p22\">**</bpt>Supervisor<ept id=\"p22\">**</ept><ph id=\"ph17\"/> process on the worker nodes. If one processing node goes down, the Nimbus node is informed, and it assigns the task and associated data to another node.",
      "nodes": [
        {
          "content": "The <bpt id=\"p20\">**</bpt>Nimbus node<ept id=\"p20\">**</ept><ph id=\"ph16\"/> provides similar functionality to the Hadoop JobTracker, and it assigns tasks to other nodes in the cluster through <bpt id=\"p21\">**</bpt>Zookeeper<ept id=\"p21\">**</ept>.",
          "pos": [
            0,
            245
          ]
        },
        {
          "content": "Zookeeper nodes provide coordination for the cluster and facilitate communication between Nimbus and the <bpt id=\"p22\">**</bpt>Supervisor<ept id=\"p22\">**</ept><ph id=\"ph17\"/> process on the worker nodes.",
          "pos": [
            246,
            449
          ]
        },
        {
          "content": "If one processing node goes down, the Nimbus node is informed, and it assigns the task and associated data to another node.",
          "pos": [
            450,
            573
          ]
        }
      ]
    },
    {
      "pos": [
        5997,
        6234
      ],
      "content": "The default configuration for Apache Storm is to have only one Nimbus node. Storm on HDInsight runs two Nimbus nodes. If the primary node fails, the HDInsight cluster will switch to the secondary node while the primary node is recovered.",
      "nodes": [
        {
          "content": "The default configuration for Apache Storm is to have only one Nimbus node.",
          "pos": [
            0,
            75
          ]
        },
        {
          "content": "Storm on HDInsight runs two Nimbus nodes.",
          "pos": [
            76,
            117
          ]
        },
        {
          "content": "If the primary node fails, the HDInsight cluster will switch to the secondary node while the primary node is recovered.",
          "pos": [
            118,
            237
          ]
        }
      ]
    },
    {
      "pos": [
        6236,
        6328
      ],
      "content": "<ph id=\"ph18\">![</ph>Diagram of nimbus, zookeeper, and supervisor<ph id=\"ph19\">](./media/hdinsight-storm-overview/nimbus.png)</ph>"
    },
    {
      "pos": [
        6333,
        6338
      ],
      "content": "Scale"
    },
    {
      "pos": [
        6340,
        6586
      ],
      "content": "Although you can specify the number of nodes in your cluster during creation, you may want to grow or shrink the cluster to match workload. All HDInsight clusters allow you to change the number of nodes in the cluster, even while processing data.",
      "nodes": [
        {
          "content": "Although you can specify the number of nodes in your cluster during creation, you may want to grow or shrink the cluster to match workload.",
          "pos": [
            0,
            139
          ]
        },
        {
          "content": "All HDInsight clusters allow you to change the number of nodes in the cluster, even while processing data.",
          "pos": [
            140,
            246
          ]
        }
      ]
    },
    {
      "pos": [
        6590,
        6741
      ],
      "content": "<ph id=\"ph20\">[AZURE.NOTE]</ph><ph id=\"ph21\"/> To take advantage of new nodes added through scaling, you will need to rebalance topologies started before the cluster size was increased."
    },
    {
      "pos": [
        6746,
        6753
      ],
      "content": "Support"
    },
    {
      "pos": [
        6755,
        6966
      ],
      "content": "Storm on HDInsight comes with full enterprise-level 24/7 support. Storm on HDInsight also has an SLA of 99.9%. That means we guarantee that the cluster will have external connectivity at least 99.9% of the time.",
      "nodes": [
        {
          "content": "Storm on HDInsight comes with full enterprise-level 24/7 support.",
          "pos": [
            0,
            65
          ]
        },
        {
          "content": "Storm on HDInsight also has an SLA of 99.9%.",
          "pos": [
            66,
            110
          ]
        },
        {
          "content": "That means we guarantee that the cluster will have external connectivity at least 99.9% of the time.",
          "pos": [
            111,
            211
          ]
        }
      ]
    },
    {
      "pos": [
        6970,
        7010
      ],
      "content": "Common use cases for real-time analytics"
    },
    {
      "pos": [
        7012,
        7250
      ],
      "content": "The following are some common scenarios for which you might use Apache storm on HDInsight. For information about real-world scenarios, read <bpt id=\"p23\">[</bpt>How companies are using Storm<ept id=\"p23\">](https://storm.incubator.apache.org/documentation/Powered-By.html)</ept>.",
      "nodes": [
        {
          "content": "The following are some common scenarios for which you might use Apache storm on HDInsight.",
          "pos": [
            0,
            90
          ]
        },
        {
          "content": "For information about real-world scenarios, read <bpt id=\"p23\">[</bpt>How companies are using Storm<ept id=\"p23\">](https://storm.incubator.apache.org/documentation/Powered-By.html)</ept>.",
          "pos": [
            91,
            278
          ]
        }
      ]
    },
    {
      "pos": [
        7254,
        7278
      ],
      "content": "Internet of Things (IoT)"
    },
    {
      "pos": [
        7281,
        7296
      ],
      "content": "Fraud detection"
    },
    {
      "pos": [
        7299,
        7315
      ],
      "content": "Social analytics"
    },
    {
      "pos": [
        7318,
        7348
      ],
      "content": "Extract, Transform, Load (ETL)"
    },
    {
      "pos": [
        7351,
        7369
      ],
      "content": "Network monitoring"
    },
    {
      "pos": [
        7372,
        7378
      ],
      "content": "Search"
    },
    {
      "pos": [
        7381,
        7398
      ],
      "content": "Mobile engagement"
    },
    {
      "pos": [
        7402,
        7443
      ],
      "content": "How is data in HDInsight Storm processed?"
    },
    {
      "pos": [
        7445,
        7692
      ],
      "content": "Apache Storm runs <bpt id=\"p24\">**</bpt>topologies<ept id=\"p24\">**</ept><ph id=\"ph22\"/> instead of the MapReduce jobs that you may be familiar with in HDInsight or Hadoop. A Storm on HDInsight cluster contains two types of nodes: head nodes that run <bpt id=\"p25\">**</bpt>Nimbus<ept id=\"p25\">**</ept><ph id=\"ph23\"/> and worker nodes that run <bpt id=\"p26\">**</bpt>Supervisor<ept id=\"p26\">**</ept>.",
      "nodes": [
        {
          "content": "Apache Storm runs <bpt id=\"p24\">**</bpt>topologies<ept id=\"p24\">**</ept><ph id=\"ph22\"/> instead of the MapReduce jobs that you may be familiar with in HDInsight or Hadoop.",
          "pos": [
            0,
            171
          ]
        },
        {
          "content": "A Storm on HDInsight cluster contains two types of nodes: head nodes that run <bpt id=\"p25\">**</bpt>Nimbus<ept id=\"p25\">**</ept><ph id=\"ph23\"/> and worker nodes that run <bpt id=\"p26\">**</bpt>Supervisor<ept id=\"p26\">**</ept>.",
          "pos": [
            172,
            397
          ]
        }
      ]
    },
    {
      "pos": [
        7696,
        7972
      ],
      "content": "<bpt id=\"p27\">**</bpt>Nimbus<ept id=\"p27\">**</ept>: Similar to the JobTracker in Hadoop, it is responsible for distributing code throughout the cluster, assigning tasks to virtual machines, and monitoring for failure. HDInsight provides two Nimbus nodes, so there is no single point of failure for Storm on HDInsight",
      "nodes": [
        {
          "content": "<bpt id=\"p27\">**</bpt>Nimbus<ept id=\"p27\">**</ept>: Similar to the JobTracker in Hadoop, it is responsible for distributing code throughout the cluster, assigning tasks to virtual machines, and monitoring for failure.",
          "pos": [
            0,
            217
          ]
        },
        {
          "content": "HDInsight provides two Nimbus nodes, so there is no single point of failure for Storm on HDInsight",
          "pos": [
            218,
            316
          ]
        }
      ]
    },
    {
      "pos": [
        7976,
        8102
      ],
      "content": "<bpt id=\"p28\">**</bpt>Supervisor<ept id=\"p28\">**</ept>: The supervisor for each worker node is responsible for starting and stopping <bpt id=\"p29\">**</bpt>worker processes<ept id=\"p29\">**</ept><ph id=\"ph24\"/> on the node."
    },
    {
      "pos": [
        8106,
        8245
      ],
      "content": "<bpt id=\"p30\">**</bpt>Worker process<ept id=\"p30\">**</ept>: Runs a subset of a <bpt id=\"p31\">**</bpt>topology<ept id=\"p31\">**</ept>. A running topology is distributed across many worker processes throughout the cluster.",
      "nodes": [
        {
          "content": "<bpt id=\"p30\">**</bpt>Worker process<ept id=\"p30\">**</ept>: Runs a subset of a <bpt id=\"p31\">**</bpt>topology<ept id=\"p31\">**</ept>.",
          "pos": [
            0,
            132
          ]
        },
        {
          "content": "A running topology is distributed across many worker processes throughout the cluster.",
          "pos": [
            133,
            219
          ]
        }
      ]
    },
    {
      "pos": [
        8249,
        8388
      ],
      "content": "<bpt id=\"p32\">**</bpt>Topology<ept id=\"p32\">**</ept>: Defines a graph of computation that processes <bpt id=\"p33\">**</bpt>streams<ept id=\"p33\">**</ept><ph id=\"ph25\"/> of data. Unlike MapReduce jobs, topologies run until you stop them.",
      "nodes": [
        {
          "content": "<bpt id=\"p32\">**</bpt>Topology<ept id=\"p32\">**</ept>: Defines a graph of computation that processes <bpt id=\"p33\">**</bpt>streams<ept id=\"p33\">**</ept><ph id=\"ph25\"/> of data.",
          "pos": [
            0,
            175
          ]
        },
        {
          "content": "Unlike MapReduce jobs, topologies run until you stop them.",
          "pos": [
            176,
            234
          ]
        }
      ]
    },
    {
      "pos": [
        8392,
        8526
      ],
      "content": "<bpt id=\"p34\">**</bpt>Stream<ept id=\"p34\">**</ept>: An unbound collection of <bpt id=\"p35\">**</bpt>tuples<ept id=\"p35\">**</ept>. Streams are produced by <bpt id=\"p36\">**</bpt>spouts<ept id=\"p36\">**</ept><ph id=\"ph26\"/> and <bpt id=\"p37\">**</bpt>bolts<ept id=\"p37\">**</ept>, and they are consumed by <bpt id=\"p38\">**</bpt>bolts<ept id=\"p38\">**</ept>.",
      "nodes": [
        {
          "content": "<bpt id=\"p34\">**</bpt>Stream<ept id=\"p34\">**</ept>: An unbound collection of <bpt id=\"p35\">**</bpt>tuples<ept id=\"p35\">**</ept>.",
          "pos": [
            0,
            128
          ]
        },
        {
          "content": "Streams are produced by <bpt id=\"p36\">**</bpt>spouts<ept id=\"p36\">**</ept><ph id=\"ph26\"/> and <bpt id=\"p37\">**</bpt>bolts<ept id=\"p37\">**</ept>, and they are consumed by <bpt id=\"p38\">**</bpt>bolts<ept id=\"p38\">**</ept>.",
          "pos": [
            129,
            349
          ]
        }
      ]
    },
    {
      "pos": [
        8530,
        8582
      ],
      "content": "<bpt id=\"p39\">**</bpt>Tuple<ept id=\"p39\">**</ept>: A named list of dynamically typed values."
    },
    {
      "pos": [
        8586,
        8664
      ],
      "content": "<bpt id=\"p40\">**</bpt>Spout<ept id=\"p40\">**</ept>: Consumes data from a data source and emits one or more <bpt id=\"p41\">**</bpt>streams<ept id=\"p41\">**</ept>."
    },
    {
      "pos": [
        8672,
        8846
      ],
      "content": "<ph id=\"ph27\">[AZURE.NOTE]</ph><ph id=\"ph28\"/> In many cases, data is read from a queue, such as Kafka, Azure Service Bus queues, or Event hubs. The queue ensures that data is persisted if there is an outage.",
      "nodes": [
        {
          "content": "<ph id=\"ph27\">[AZURE.NOTE]</ph><ph id=\"ph28\"/> In many cases, data is read from a queue, such as Kafka, Azure Service Bus queues, or Event hubs.",
          "pos": [
            0,
            144
          ]
        },
        {
          "content": "The queue ensures that data is persisted if there is an outage.",
          "pos": [
            145,
            208
          ]
        }
      ]
    },
    {
      "pos": [
        8850,
        9071
      ],
      "content": "<bpt id=\"p42\">**</bpt>Bolt<ept id=\"p42\">**</ept>: Consumes <bpt id=\"p43\">**</bpt>streams<ept id=\"p43\">**</ept>, performs processing on <bpt id=\"p44\">**</bpt>tuples<ept id=\"p44\">**</ept>, and may emit <bpt id=\"p45\">**</bpt>streams<ept id=\"p45\">**</ept>. Bolts are also responsible for writing data to external storage, such as a queue, HDInsight, HBase, a blob, or other data store.",
      "nodes": [
        {
          "content": "<bpt id=\"p42\">**</bpt>Bolt<ept id=\"p42\">**</ept>: Consumes <bpt id=\"p43\">**</bpt>streams<ept id=\"p43\">**</ept>, performs processing on <bpt id=\"p44\">**</bpt>tuples<ept id=\"p44\">**</ept>, and may emit <bpt id=\"p45\">**</bpt>streams<ept id=\"p45\">**</ept>.",
          "pos": [
            0,
            252
          ]
        },
        {
          "content": "Bolts are also responsible for writing data to external storage, such as a queue, HDInsight, HBase, a blob, or other data store.",
          "pos": [
            253,
            381
          ]
        }
      ]
    },
    {
      "pos": [
        9075,
        9330
      ],
      "content": "<bpt id=\"p46\">**</bpt>Apache Thrift<ept id=\"p46\">**</ept>: A software framework for scalable cross-language service development. It allows you to build services that work between C++, Java, Python, PHP, Ruby, Erlang, Perl, Haskell, C#, Cocoa, JavaScript, Node.js, Smalltalk, and other languages.",
      "nodes": [
        {
          "content": "<bpt id=\"p46\">**</bpt>Apache Thrift<ept id=\"p46\">**</ept>: A software framework for scalable cross-language service development.",
          "pos": [
            0,
            128
          ]
        },
        {
          "content": "It allows you to build services that work between C++, Java, Python, PHP, Ruby, Erlang, Perl, Haskell, C#, Cocoa, JavaScript, Node.js, Smalltalk, and other languages.",
          "pos": [
            129,
            295
          ]
        }
      ]
    },
    {
      "pos": [
        9338,
        9494
      ],
      "content": "<bpt id=\"p47\">**</bpt>Nimbus<ept id=\"p47\">**</ept><ph id=\"ph29\"/> is a Thrift service, and a <bpt id=\"p48\">**</bpt>topology<ept id=\"p48\">**</ept><ph id=\"ph30\"/> is a Thrift definition, so it is possible to develop topologies using a variety of programming languages."
    },
    {
      "pos": [
        9496,
        9596
      ],
      "content": "For more information about Storm components, see the <bpt id=\"p49\">[</bpt>Storm tutorial<ept id=\"p49\">][apachetutorial]</ept><ph id=\"ph31\"/> at apache.org."
    },
    {
      "pos": [
        9601,
        9638
      ],
      "content": "What programming languages can I use?"
    },
    {
      "pos": [
        9640,
        9713
      ],
      "content": "The Storm on HDInsight cluster provides support for C#, Java, and Python."
    },
    {
      "pos": [
        9719,
        9725
      ],
      "content": "C&amp;#35;"
    },
    {
      "pos": [
        9727,
        9899
      ],
      "content": "The HDInsight Tools for Visual Studio allow .NET developers to design and implement a topology in C#. You can also create hybrid topologies that use Java and C# components.",
      "nodes": [
        {
          "content": "The HDInsight Tools for Visual Studio allow .NET developers to design and implement a topology in C#.",
          "pos": [
            0,
            101
          ]
        },
        {
          "content": "You can also create hybrid topologies that use Java and C# components.",
          "pos": [
            102,
            172
          ]
        }
      ]
    },
    {
      "pos": [
        9901,
        10059
      ],
      "content": "For more information, see <bpt id=\"p50\">[</bpt>Develop C# topologies for Apache Storm on HDInsight using Visual Studio<ept id=\"p50\">](hdinsight-storm-develop-csharp-visual-studio-topology.md)</ept>."
    },
    {
      "pos": [
        10064,
        10068
      ],
      "content": "Java"
    },
    {
      "pos": [
        10070,
        10369
      ],
      "content": "Most Java examples you encounter will be plain Java or Trident. Trident is a high-level abstraction that makes it easier to do things such as joins, aggregations, grouping, and filtering. However, Trident acts on batches of tuples, whereas a raw Java solution processes a stream one tuple at a time.",
      "nodes": [
        {
          "content": "Most Java examples you encounter will be plain Java or Trident.",
          "pos": [
            0,
            63
          ]
        },
        {
          "content": "Trident is a high-level abstraction that makes it easier to do things such as joins, aggregations, grouping, and filtering.",
          "pos": [
            64,
            187
          ]
        },
        {
          "content": "However, Trident acts on batches of tuples, whereas a raw Java solution processes a stream one tuple at a time.",
          "pos": [
            188,
            299
          ]
        }
      ]
    },
    {
      "pos": [
        10371,
        10520
      ],
      "content": "For more information about Trident, see the <bpt id=\"p51\">[</bpt>Trident tutorial<ept id=\"p51\">](https://storm.incubator.apache.org/documentation/Trident-tutorial.html)</ept><ph id=\"ph32\"/> at apache.org."
    },
    {
      "pos": [
        10522,
        10703
      ],
      "content": "For examples of Java and Trident topologies, see the <bpt id=\"p52\">[</bpt>list of example Storm topologies<ept id=\"p52\">](hdinsight-storm-example-topology.md)</ept><ph id=\"ph33\"/> or the storm-starter examples on your HDInsight cluster."
    },
    {
      "pos": [
        10705,
        10926
      ],
      "content": "The storm-starter examples are located in the __ /usr/hdp/current/storm-client/contrib/storm-starter__ directory on Linux-based clusters, and the <bpt id=\"p53\">**</bpt>%storm_home%\\contrib\\storm-starter<ept id=\"p53\">**</ept><ph id=\"ph34\"/> directory on Windows-based clusters."
    },
    {
      "pos": [
        10930,
        10972
      ],
      "content": "What are some common development patterns?"
    },
    {
      "pos": [
        10977,
        11006
      ],
      "content": "Guaranteed message processing"
    },
    {
      "pos": [
        11008,
        11206
      ],
      "content": "Storm can provide different levels of guaranteed message processing. For example, a basic Storm application can guarantee at-least-once processing, and Trident can guarantee exactly-once processing.",
      "nodes": [
        {
          "content": "Storm can provide different levels of guaranteed message processing.",
          "pos": [
            0,
            68
          ]
        },
        {
          "content": "For example, a basic Storm application can guarantee at-least-once processing, and Trident can guarantee exactly-once processing.",
          "pos": [
            69,
            198
          ]
        }
      ]
    },
    {
      "pos": [
        11208,
        11344
      ],
      "content": "For more information, see <bpt id=\"p54\">[</bpt>Guarantees on data processing<ept id=\"p54\">](https://storm.apache.org/about/guarantees-data-processing.html)</ept><ph id=\"ph35\"/> at apache.org."
    },
    {
      "pos": [
        11349,
        11359
      ],
      "content": "IBasicBolt"
    },
    {
      "pos": [
        11361,
        11668
      ],
      "content": "The pattern of reading an input tuple, emitting zero or more tuples, and then acking the input tuple immediately at the end of the execute method is very common, and Storm provides the <bpt id=\"p55\">[</bpt>IBasicBolt<ept id=\"p55\">](https://storm.apache.org/apidocs/backtype/storm/topology/IBasicBolt.html)</ept><ph id=\"ph36\"/> interface to automate this pattern."
    },
    {
      "pos": [
        11673,
        11678
      ],
      "content": "Joins"
    },
    {
      "pos": [
        11680,
        12187
      ],
      "content": "Joining two streams of data will vary between applications. For example, you could join each tuple from multiple streams into one new stream, or you could join only batches of tuples for a specific window. Either way, joining can be accomplished by using <bpt id=\"p56\">[</bpt>fieldsGrouping<ept id=\"p56\">](http://javadox.com/org.apache.storm/storm-core/0.9.1-incubating/backtype/storm/topology/InputDeclarer.html#fieldsGrouping%28java.lang.String,%20backtype.storm.tuple.Fields%29)</ept>, which is a way of defining how tuples are routed to bolts.",
      "nodes": [
        {
          "content": "Joining two streams of data will vary between applications.",
          "pos": [
            0,
            59
          ]
        },
        {
          "content": "For example, you could join each tuple from multiple streams into one new stream, or you could join only batches of tuples for a specific window.",
          "pos": [
            60,
            205
          ]
        },
        {
          "content": "Either way, joining can be accomplished by using <bpt id=\"p56\">[</bpt>fieldsGrouping<ept id=\"p56\">](http://javadox.com/org.apache.storm/storm-core/0.9.1-incubating/backtype/storm/topology/InputDeclarer.html#fieldsGrouping%28java.lang.String,%20backtype.storm.tuple.Fields%29)</ept>, which is a way of defining how tuples are routed to bolts.",
          "pos": [
            206,
            547
          ]
        }
      ]
    },
    {
      "pos": [
        12189,
        12333
      ],
      "content": "In the following Java example, fieldsGrouping is used to route tuples that originate from components \"1\", \"2\", and \"3\" to the <bpt id=\"p57\">**</bpt>MyJoiner<ept id=\"p57\">**</ept><ph id=\"ph37\"/> bolt."
    },
    {
      "pos": [
        12580,
        12588
      ],
      "content": "Batching"
    },
    {
      "pos": [
        12590,
        12838
      ],
      "content": "Batching can be accomplished several ways. With a basic Storm Java topology, you might use simple counter to batch X number of tuples before emitting them, or use an internal timing mechanism known as a \"tick tuple\" to emit a batch every X seconds.",
      "nodes": [
        {
          "content": "Batching can be accomplished several ways.",
          "pos": [
            0,
            42
          ]
        },
        {
          "content": "With a basic Storm Java topology, you might use simple counter to batch X number of tuples before emitting them, or use an internal timing mechanism known as a \"tick tuple\" to emit a batch every X seconds.",
          "pos": [
            43,
            248
          ]
        }
      ]
    },
    {
      "pos": [
        12840,
        12980
      ],
      "content": "For an example of using tick tuples, see <bpt id=\"p58\">[</bpt>Analyzing sensor data with Storm and HBase on HDInsight<ept id=\"p58\">](hdinsight-storm-sensor-data-analysis.md)</ept>."
    },
    {
      "pos": [
        12982,
        13052
      ],
      "content": "If you are using Trident, it is based on processing batches of tuples."
    },
    {
      "pos": [
        13057,
        13064
      ],
      "content": "Caching"
    },
    {
      "pos": [
        13066,
        13680
      ],
      "content": "In-memory caching is often used as a mechanism for speeding up processing because it keeps frequently used assets in memory. Because a topology is distributed across multiple nodes, and multiple processes within each node, you should consider using <bpt id=\"p59\">[</bpt>fieldsGrouping<ept id=\"p59\">](http://javadox.com/org.apache.storm/storm-core/0.9.1-incubating/backtype/storm/topology/InputDeclarer.html#fieldsGrouping%28java.lang.String,%20backtype.storm.tuple.Fields%29)</ept><ph id=\"ph38\"/> to ensure that tuples containing the fields that are used for cache lookup are always routed to the same process. This avoids duplication of cache entries across processes.",
      "nodes": [
        {
          "content": "In-memory caching is often used as a mechanism for speeding up processing because it keeps frequently used assets in memory.",
          "pos": [
            0,
            124
          ]
        },
        {
          "content": "Because a topology is distributed across multiple nodes, and multiple processes within each node, you should consider using <bpt id=\"p59\">[</bpt>fieldsGrouping<ept id=\"p59\">](http://javadox.com/org.apache.storm/storm-core/0.9.1-incubating/backtype/storm/topology/InputDeclarer.html#fieldsGrouping%28java.lang.String,%20backtype.storm.tuple.Fields%29)</ept><ph id=\"ph38\"/> to ensure that tuples containing the fields that are used for cache lookup are always routed to the same process.",
          "pos": [
            125,
            610
          ]
        },
        {
          "content": "This avoids duplication of cache entries across processes.",
          "pos": [
            611,
            669
          ]
        }
      ]
    },
    {
      "pos": [
        13685,
        13700
      ],
      "content": "Streaming top N"
    },
    {
      "pos": [
        13702,
        14287
      ],
      "content": "When your topology depends on calculating a \"top N\" value, such as the top 5 trends on Twitter, you should calculate the top N value in parallel and then merge the output from those calculations into a global value. This can be done by using <bpt id=\"p60\">[</bpt>fieldsGrouping<ept id=\"p60\">](http://javadox.com/org.apache.storm/storm-core/0.9.1-incubating/backtype/storm/topology/InputDeclarer.html#fieldsGrouping%28java.lang.String,%20backtype.storm.tuple.Fields%29)</ept><ph id=\"ph39\"/> to route by field to the parallel bolts (which partitions the data by field value), and then route to a bolt that globally determines the top N value.",
      "nodes": [
        {
          "content": "When your topology depends on calculating a \"top N\" value, such as the top 5 trends on Twitter, you should calculate the top N value in parallel and then merge the output from those calculations into a global value.",
          "pos": [
            0,
            215
          ]
        },
        {
          "content": "This can be done by using <bpt id=\"p60\">[</bpt>fieldsGrouping<ept id=\"p60\">](http://javadox.com/org.apache.storm/storm-core/0.9.1-incubating/backtype/storm/topology/InputDeclarer.html#fieldsGrouping%28java.lang.String,%20backtype.storm.tuple.Fields%29)</ept><ph id=\"ph39\"/> to route by field to the parallel bolts (which partitions the data by field value), and then route to a bolt that globally determines the top N value.",
          "pos": [
            216,
            640
          ]
        }
      ]
    },
    {
      "pos": [
        14289,
        14447
      ],
      "content": "For an example of this, see the <bpt id=\"p61\">[</bpt>RollingTopWords<ept id=\"p61\">](https://github.com/nathanmarz/storm-starter/blob/master/src/jvm/storm/starter/RollingTopWords.java)</ept><ph id=\"ph40\"/> example."
    },
    {
      "pos": [
        14451,
        14461
      ],
      "content": "Next steps"
    },
    {
      "pos": [
        14463,
        14541
      ],
      "content": "Learn more about real-time analytics solutions with Apache Storm in HDInsight:"
    },
    {
      "pos": [
        14545,
        14602
      ],
      "content": "<bpt id=\"p62\">[</bpt>Getting Started with Storm on HDInsight<ept id=\"p62\">][gettingstarted]</ept>"
    },
    {
      "pos": [
        14606,
        14686
      ],
      "content": "<bpt id=\"p63\">[</bpt>Example topologies for Storm on HDInsight<ept id=\"p63\">](hdinsight-storm-example-topology.md)</ept>"
    }
  ],
  "content": "<properties\n    pageTitle=\"Introduction to Apache Storm on HDInsight | Microsoft Azure\"\n    description=\"Get an introduction to Apache Storm, and learn how you can use Storm on HDInsight to build real-time data analytics solutions in the cloud.\"\n    services=\"hdinsight\"\n    documentationCenter=\"\"\n    authors=\"Blackmist\"\n    manager=\"paulettm\"\n    editor=\"cgronlun\"\n    tags=\"azure-portal\"/>\n\n<tags\n   ms.service=\"hdinsight\"\n   ms.devlang=\"na\"\n   ms.topic=\"article\"\n   ms.tgt_pltfrm=\"na\"\n   ms.workload=\"big-data\"\n   ms.date=\"01/08/2016\"\n   ms.author=\"larryfr\"/>\n\n#Introduction to Apache Storm on HDInsight: Real-time analytics for Hadoop\n\nApache Storm on HDInsight allows you to create distributed, real-time analytics solutions in the Azure environment by using [Apache Hadoop](http://hadoop.apache.org).\n\n##What is Apache Storm?\n\nApache Storm is a distributed, fault-tolerant, open-source computation system that allows you to process data in real-time with Hadoop. Storm solutions can also provide guaranteed processing of data, with the ability to replay data that was not successfully processed the first time.\n\n##Why use Storm on HDInsight?\n\nApache Storm on HDInsight is a managed cluster integrated into the Azure environment. It provides the following key benefits:\n\n* Performs as a managed service with an SLA of 99.9% up time\n\n* Use the language of your choice: Provides support for Storm components written in **Java**, **C#**, and **Python**\n\n    * Supports a mix of programming languages: Read data using Java, then process it using C#\n    \n        > [AZURE.NOTE] C# topologies are only supported on Windows-based HDInsight clusters.\n\n    * Use the **Trident** Java interface to create Storm topologies that support \"exactly once\" processing of messages, \"transactional\" datastore persistence, and a set of common stream analytics operations\n\n* Includes built-in scale-up and scale-down features: Scale an HDInsight cluster with no impact to running Storm topologies\n\n* Integrate with other Azure services, including Event Hub, Azure Virtual Network, SQL Database, Blob storage, and DocumentDB\n\n    * Combine the capabilities of multiple HDInsight clusters by using Azure Virtual Network: Create analytic pipelines that use HDInsight, HBase, or Hadoop clusters\n\nFor a list of companies that are using Apache Storm for their real-time analytics solutions, see [Companies Using Apache Storm](https://storm.apache.org/documentation/Powered-By.html).\n\nTo get started using Storm, see [Get started with Storm on HDInsight][gettingstarted].\n\n###Ease of provisioning\n\nYou can provision a new Storm on HDInsight cluster in minutes. Specify the cluster name, size, administrator account, and the storage account. Azure will create the cluster, including sample topologies and a web-management dashboard.\n\n> [AZURE.NOTE] You can also provision Storm clusters by using the [Azure CLI](../xplat-cli-install.md) or [Azure PowerShell](../powershell-install-configure.md).\n\nWithin 15 minutes of submitting the request, you will have a new Storm cluster running and ready for your first real-time analytics pipeline.\n\n###Ease of use\n\n__For Linux-based Storm on HDInsight clusters__, you can connect to the cluster using SSH and use the `storm` command to start and manage topologies. Additionally, you can use Ambari to monitor the Storm service and the Storm UI to monitor and manage running topologies.\n\nFor more information on working with Linux-based Storm clusters, see [Get started with Apache Storm on Linux-based HDInsight](hdinsight-apache-storm-tutorial-get-started-linux.md).\n\n__For Windows-based Storm on HDInsight clusters__, the HDInsight Tools for Visual Studio allow you to create C# and hybrid C#/Java topologies, and then submit them to your Storm on HDInsight cluster.  \n\n![Storm Project creation](./media/hdinsight-storm-overview/createproject.png)\n\nHDInsight Tools for Visual Studio also provides an interface that allows you to monitor and manage Storm topologies on a cluster.\n\n![Storm management](./media/hdinsight-storm-overview/stormview.png)\n\nFor an example of using the HDInsight Tools to create a Storm application, see [Develop C# Storm topologies with the HDInsight Tools for Visual Studio](hdinsight-storm-develop-csharp-visual-studio-topology.md).\n\nFor more information about the HDInsight Tools for Visual Studio, see [Get started using the HDInsight Tools for Visual Studio](../HDInsight/hdinsight-hadoop-visual-studio-tools-get-started.md).\n\nEach Storm on HDInsight cluster also provides a web-based Storm Dashboard that allows you to submit, monitor, and manage Storm topologies running on the cluster.\n\n![Storm dashboard](./media/hdinsight-storm-overview/dashboard.png)\n\nFor more information about using the Storm Dashboard, see [Deploy and manage Apache Storm topologies on HDInsight](hdinsight-storm-deploy-monitor-topology.md).\n\nStorm on HDInsight also provides easy integration with Azure Event Hubs through the **Event Hub Spout**. This is available on each storm cluster at **%STORM_HOME%\\examples\\eventhubspout\\eventhubs-storm-spout-0.9-jar-with-dependencies.jar**. For examples of using this spout in a Storm topology, see the following documents:\n\n* [Develop a C# topology that uses Azure Event Hubs](hdinsight-storm-develop-csharp-event-hub-topology.md)\n\n* [Develop a Java topology that uses Azure Event Hubs](hdinsight-storm-develop-java-event-hub-topology.md)\n\n###Reliability\n\nApache Storm always guarantees that each incoming message will be fully processed, even when the data analysis is spread over hundreds of nodes.\n\nThe **Nimbus node** provides similar functionality to the Hadoop JobTracker, and it assigns tasks to other nodes in the cluster through **Zookeeper**. Zookeeper nodes provide coordination for the cluster and facilitate communication between Nimbus and the **Supervisor** process on the worker nodes. If one processing node goes down, the Nimbus node is informed, and it assigns the task and associated data to another node.\n\nThe default configuration for Apache Storm is to have only one Nimbus node. Storm on HDInsight runs two Nimbus nodes. If the primary node fails, the HDInsight cluster will switch to the secondary node while the primary node is recovered.\n\n![Diagram of nimbus, zookeeper, and supervisor](./media/hdinsight-storm-overview/nimbus.png)\n\n###Scale\n\nAlthough you can specify the number of nodes in your cluster during creation, you may want to grow or shrink the cluster to match workload. All HDInsight clusters allow you to change the number of nodes in the cluster, even while processing data.\n\n> [AZURE.NOTE] To take advantage of new nodes added through scaling, you will need to rebalance topologies started before the cluster size was increased.\n\n###Support\n\nStorm on HDInsight comes with full enterprise-level 24/7 support. Storm on HDInsight also has an SLA of 99.9%. That means we guarantee that the cluster will have external connectivity at least 99.9% of the time.\n\n##Common use cases for real-time analytics\n\nThe following are some common scenarios for which you might use Apache storm on HDInsight. For information about real-world scenarios, read [How companies are using Storm](https://storm.incubator.apache.org/documentation/Powered-By.html).\n\n* Internet of Things (IoT)\n* Fraud detection\n* Social analytics\n* Extract, Transform, Load (ETL)\n* Network monitoring\n* Search\n* Mobile engagement\n\n##How is data in HDInsight Storm processed?\n\nApache Storm runs **topologies** instead of the MapReduce jobs that you may be familiar with in HDInsight or Hadoop. A Storm on HDInsight cluster contains two types of nodes: head nodes that run **Nimbus** and worker nodes that run **Supervisor**.\n\n* **Nimbus**: Similar to the JobTracker in Hadoop, it is responsible for distributing code throughout the cluster, assigning tasks to virtual machines, and monitoring for failure. HDInsight provides two Nimbus nodes, so there is no single point of failure for Storm on HDInsight\n\n* **Supervisor**: The supervisor for each worker node is responsible for starting and stopping **worker processes** on the node.\n\n* **Worker process**: Runs a subset of a **topology**. A running topology is distributed across many worker processes throughout the cluster.\n\n* **Topology**: Defines a graph of computation that processes **streams** of data. Unlike MapReduce jobs, topologies run until you stop them.\n\n* **Stream**: An unbound collection of **tuples**. Streams are produced by **spouts** and **bolts**, and they are consumed by **bolts**.\n\n* **Tuple**: A named list of dynamically typed values.\n\n* **Spout**: Consumes data from a data source and emits one or more **streams**.\n\n    > [AZURE.NOTE] In many cases, data is read from a queue, such as Kafka, Azure Service Bus queues, or Event hubs. The queue ensures that data is persisted if there is an outage.\n\n* **Bolt**: Consumes **streams**, performs processing on **tuples**, and may emit **streams**. Bolts are also responsible for writing data to external storage, such as a queue, HDInsight, HBase, a blob, or other data store.\n\n* **Apache Thrift**: A software framework for scalable cross-language service development. It allows you to build services that work between C++, Java, Python, PHP, Ruby, Erlang, Perl, Haskell, C#, Cocoa, JavaScript, Node.js, Smalltalk, and other languages.\n\n    * **Nimbus** is a Thrift service, and a **topology** is a Thrift definition, so it is possible to develop topologies using a variety of programming languages.\n\nFor more information about Storm components, see the [Storm tutorial][apachetutorial] at apache.org.\n\n\n##What programming languages can I use?\n\nThe Storm on HDInsight cluster provides support for C#, Java, and Python.\n\n### C&#35;\n\nThe HDInsight Tools for Visual Studio allow .NET developers to design and implement a topology in C#. You can also create hybrid topologies that use Java and C# components.\n\nFor more information, see [Develop C# topologies for Apache Storm on HDInsight using Visual Studio](hdinsight-storm-develop-csharp-visual-studio-topology.md).\n\n###Java\n\nMost Java examples you encounter will be plain Java or Trident. Trident is a high-level abstraction that makes it easier to do things such as joins, aggregations, grouping, and filtering. However, Trident acts on batches of tuples, whereas a raw Java solution processes a stream one tuple at a time.\n\nFor more information about Trident, see the [Trident tutorial](https://storm.incubator.apache.org/documentation/Trident-tutorial.html) at apache.org.\n\nFor examples of Java and Trident topologies, see the [list of example Storm topologies](hdinsight-storm-example-topology.md) or the storm-starter examples on your HDInsight cluster.\n\nThe storm-starter examples are located in the __ /usr/hdp/current/storm-client/contrib/storm-starter__ directory on Linux-based clusters, and the **%storm_home%\\contrib\\storm-starter** directory on Windows-based clusters.\n\n##What are some common development patterns?\n\n###Guaranteed message processing\n\nStorm can provide different levels of guaranteed message processing. For example, a basic Storm application can guarantee at-least-once processing, and Trident can guarantee exactly-once processing.\n\nFor more information, see [Guarantees on data processing](https://storm.apache.org/about/guarantees-data-processing.html) at apache.org.\n\n###IBasicBolt\n\nThe pattern of reading an input tuple, emitting zero or more tuples, and then acking the input tuple immediately at the end of the execute method is very common, and Storm provides the [IBasicBolt](https://storm.apache.org/apidocs/backtype/storm/topology/IBasicBolt.html) interface to automate this pattern.\n\n###Joins\n\nJoining two streams of data will vary between applications. For example, you could join each tuple from multiple streams into one new stream, or you could join only batches of tuples for a specific window. Either way, joining can be accomplished by using [fieldsGrouping](http://javadox.com/org.apache.storm/storm-core/0.9.1-incubating/backtype/storm/topology/InputDeclarer.html#fieldsGrouping%28java.lang.String,%20backtype.storm.tuple.Fields%29), which is a way of defining how tuples are routed to bolts.\n\nIn the following Java example, fieldsGrouping is used to route tuples that originate from components \"1\", \"2\", and \"3\" to the **MyJoiner** bolt.\n\n    builder.setBolt(\"join\", new MyJoiner(), parallelism) .fieldsGrouping(\"1\", new Fields(\"joinfield1\", \"joinfield2\")) .fieldsGrouping(\"2\", new Fields(\"joinfield1\", \"joinfield2\")) .fieldsGrouping(\"3\", new Fields(\"joinfield1\", \"joinfield2\"));\n\n###Batching\n\nBatching can be accomplished several ways. With a basic Storm Java topology, you might use simple counter to batch X number of tuples before emitting them, or use an internal timing mechanism known as a \"tick tuple\" to emit a batch every X seconds.\n\nFor an example of using tick tuples, see [Analyzing sensor data with Storm and HBase on HDInsight](hdinsight-storm-sensor-data-analysis.md).\n\nIf you are using Trident, it is based on processing batches of tuples.\n\n###Caching\n\nIn-memory caching is often used as a mechanism for speeding up processing because it keeps frequently used assets in memory. Because a topology is distributed across multiple nodes, and multiple processes within each node, you should consider using [fieldsGrouping](http://javadox.com/org.apache.storm/storm-core/0.9.1-incubating/backtype/storm/topology/InputDeclarer.html#fieldsGrouping%28java.lang.String,%20backtype.storm.tuple.Fields%29) to ensure that tuples containing the fields that are used for cache lookup are always routed to the same process. This avoids duplication of cache entries across processes.\n\n###Streaming top N\n\nWhen your topology depends on calculating a \"top N\" value, such as the top 5 trends on Twitter, you should calculate the top N value in parallel and then merge the output from those calculations into a global value. This can be done by using [fieldsGrouping](http://javadox.com/org.apache.storm/storm-core/0.9.1-incubating/backtype/storm/topology/InputDeclarer.html#fieldsGrouping%28java.lang.String,%20backtype.storm.tuple.Fields%29) to route by field to the parallel bolts (which partitions the data by field value), and then route to a bolt that globally determines the top N value.\n\nFor an example of this, see the [RollingTopWords](https://github.com/nathanmarz/storm-starter/blob/master/src/jvm/storm/starter/RollingTopWords.java) example.\n\n##Next steps\n\nLearn more about real-time analytics solutions with Apache Storm in HDInsight:\n\n* [Getting Started with Storm on HDInsight][gettingstarted]\n\n* [Example topologies for Storm on HDInsight](hdinsight-storm-example-topology.md)\n\n[stormtrident]: https://storm.incubator.apache.org/documentation/Trident-API-Overview.html\n[samoa]: http://yahooeng.tumblr.com/post/65453012905/introducing-samoa-an-open-source-platform-for-mining\n[apachetutorial]: https://storm.incubator.apache.org/documentation/Tutorial.html\n[gettingstarted]: hdinsight-apache-storm-tutorial-get-started-linux.md\n"
}