{
  "nodes": [
    {
      "pos": [
        27,
        150
      ],
      "content": "Cortana Analytics Solution Template Playbook for predictive maintenance in aerospace and other businesses | Microsoft Azure"
    },
    {
      "pos": [
        169,
        293
      ],
      "content": "A Solution Template with Microsoft Cortana Analytics for predictive maintenance in aerospace, utilities, and transportation."
    },
    {
      "pos": [
        617,
        722
      ],
      "content": "Cortana Analytics Solution Template Playbook for predictive maintenance in aerospace and other businesses"
    },
    {
      "pos": [
        727,
        744
      ],
      "content": "Executive summary"
    },
    {
      "pos": [
        747,
        2186
      ],
      "content": "Predictive maintenance is one of the most demanded applications of\npredictive analytics with unarguable benefits including tremendous\namount of cost savings. This playbook aims at providing a reference for\npredictive maintenance solutions with the emphasis on major use cases.\nIt is prepared to give the reader an understanding of the most common\nbusiness scenarios of predictive maintenance, challenges of qualifying\nbusiness problems for such solutions, data required to solve these\nbusiness problems, predictive modeling techniques to build solutions\nusing such data and best practices with sample solution architectures.\nIt also describes the specifics of the predictive models developed such\nas feature engineering, model development and performance evaluation. In\nessence, this playbook brings together the business and analytical\nguidelines needed for a successful development and deployment of\npredictive maintenance solutions. These guidelines are prepared to help\nthe audience create an initial solution using Cortana Analytics Suite\nand specifically Azure Machine Learning as a starting point in their\nlong term predictive maintenance strategy. The documentation regarding\nCortana Analytics Suite and Azure Machine Learning can be found in\n<bpt id=\"p1\">[</bpt>Cortana\nAnalytics<ept id=\"p1\">](http://www.microsoft.com/server-cloud/cortana-analytics-suite/overview.aspx)</ept>\nand <bpt id=\"p2\">[</bpt>Azure Machine\nLearning<ept id=\"p2\">](https://azure.microsoft.com/services/machine-learning/)</ept>\npages.",
      "nodes": [
        {
          "content": "Predictive maintenance is one of the most demanded applications of\npredictive analytics with unarguable benefits including tremendous\namount of cost savings.",
          "pos": [
            0,
            157
          ]
        },
        {
          "content": "This playbook aims at providing a reference for\npredictive maintenance solutions with the emphasis on major use cases.",
          "pos": [
            158,
            276
          ]
        },
        {
          "content": "It is prepared to give the reader an understanding of the most common\nbusiness scenarios of predictive maintenance, challenges of qualifying\nbusiness problems for such solutions, data required to solve these\nbusiness problems, predictive modeling techniques to build solutions\nusing such data and best practices with sample solution architectures.",
          "pos": [
            277,
            624
          ]
        },
        {
          "content": "It also describes the specifics of the predictive models developed such\nas feature engineering, model development and performance evaluation.",
          "pos": [
            625,
            766
          ]
        },
        {
          "content": "In\nessence, this playbook brings together the business and analytical\nguidelines needed for a successful development and deployment of\npredictive maintenance solutions.",
          "pos": [
            767,
            935
          ]
        },
        {
          "content": "These guidelines are prepared to help\nthe audience create an initial solution using Cortana Analytics Suite\nand specifically Azure Machine Learning as a starting point in their\nlong term predictive maintenance strategy.",
          "pos": [
            936,
            1155
          ]
        },
        {
          "content": "The documentation regarding\nCortana Analytics Suite and Azure Machine Learning can be found in\n<bpt id=\"p1\">[</bpt>Cortana\nAnalytics<ept id=\"p1\">](http://www.microsoft.com/server-cloud/cortana-analytics-suite/overview.aspx)</ept>\nand <bpt id=\"p2\">[</bpt>Azure Machine\nLearning<ept id=\"p2\">](https://azure.microsoft.com/services/machine-learning/)</ept>\npages.",
          "pos": [
            1156,
            1515
          ]
        }
      ]
    },
    {
      "pos": [
        2189,
        2644
      ],
      "content": "<ph id=\"ph2\">[AZURE.TIP]</ph>\nFor a technical guide to implementing this Solution Template, see <bpt id=\"p3\">[</bpt>Technical guide to the Cortana Analytics Solution Template for predictive maintenance<ept id=\"p3\">](cortana-analytics-technical-guide-predictive-maintenance.md)</ept>.\nTo download a diagram that provides an architectural overview of this template, see\n<bpt id=\"p4\">[</bpt>Architecture of the Cortana Analytics Solution Template for predictive maintenance<ept id=\"p4\">](cortana-analytics-architecture-predictive-maintenance.md)</ept>.",
      "nodes": [
        {
          "content": "<ph id=\"ph2\">[AZURE.TIP]</ph>\nFor a technical guide to implementing this Solution Template, see <bpt id=\"p3\">[</bpt>Technical guide to the Cortana Analytics Solution Template for predictive maintenance<ept id=\"p3\">](cortana-analytics-technical-guide-predictive-maintenance.md)</ept>.",
          "pos": [
            0,
            283
          ]
        },
        {
          "content": "To download a diagram that provides an architectural overview of this template, see\n<bpt id=\"p4\">[</bpt>Architecture of the Cortana Analytics Solution Template for predictive maintenance<ept id=\"p4\">](cortana-analytics-architecture-predictive-maintenance.md)</ept>.",
          "pos": [
            284,
            549
          ]
        }
      ]
    },
    {
      "pos": [
        2649,
        2686
      ],
      "content": "Playbook overview and target audience"
    },
    {
      "pos": [
        2689,
        2741
      ],
      "content": "This playbook is organized to benefit both technical"
    },
    {
      "pos": [
        2742,
        2810
      ],
      "content": "and non-technical audience with varying backgrounds and interests in"
    },
    {
      "pos": [
        2811,
        2877
      ],
      "content": "predictive maintenance space. The playbook covers both high level\n",
      "nodes": [
        {
          "content": "predictive maintenance space.",
          "pos": [
            0,
            29
          ]
        },
        {
          "content": "The playbook covers both high level",
          "pos": [
            30,
            65
          ]
        }
      ]
    },
    {
      "pos": [
        2877,
        2947
      ],
      "content": "aspects of the different types of predictive maintenance solutions and"
    },
    {
      "pos": [
        2948,
        3009
      ],
      "content": "details of how to implement them. The content is balanced to\n",
      "nodes": [
        {
          "content": "details of how to implement them.",
          "pos": [
            0,
            33
          ]
        },
        {
          "content": "The content is balanced to",
          "pos": [
            34,
            60
          ]
        }
      ]
    },
    {
      "pos": [
        3009,
        3080
      ],
      "content": "cater both to the audience who are only interested in understanding the"
    },
    {
      "pos": [
        3081,
        3149
      ],
      "content": "solution space and the type of applications as well as those who are"
    },
    {
      "pos": [
        3150,
        3218
      ],
      "content": "looking to implement these solutions and are hence interested in the"
    },
    {
      "pos": [
        3219,
        3237
      ],
      "content": "technical details."
    },
    {
      "pos": [
        3239,
        3306
      ],
      "content": "Majority of the content in this playbook does not assume prior data"
    },
    {
      "pos": [
        3307,
        3380
      ],
      "content": "science knowledge or expertise. However, some parts of the playbook will\n",
      "nodes": [
        {
          "content": "science knowledge or expertise.",
          "pos": [
            0,
            31
          ]
        },
        {
          "content": "However, some parts of the playbook will",
          "pos": [
            32,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        3380,
        3449
      ],
      "content": "require somewhat familiarity with data science concepts to be able to"
    },
    {
      "pos": [
        3450,
        3520
      ],
      "content": "follow implementation details. Introductory level data science skills\n",
      "nodes": [
        {
          "content": "follow implementation details.",
          "pos": [
            0,
            30
          ]
        },
        {
          "content": "Introductory level data science skills",
          "pos": [
            31,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        3520,
        3586
      ],
      "content": "are required to fully benefit from the material in those sections."
    },
    {
      "pos": [
        3588,
        3655
      ],
      "content": "The first half of the playbook covers an introduction to predictive"
    },
    {
      "pos": [
        3656,
        3721
      ],
      "content": "maintenance applications, how to qualify a predictive maintenance"
    },
    {
      "pos": [
        3722,
        3788
      ],
      "content": "solution, a collection of common use cases with the details of the"
    },
    {
      "pos": [
        3789,
        3860
      ],
      "content": "business problem, the data surrounding these use cases and the business"
    },
    {
      "pos": [
        3861,
        3932
      ],
      "content": "benefits of implementing these predictive maintenance solutions. These\n",
      "nodes": [
        {
          "content": "benefits of implementing these predictive maintenance solutions.",
          "pos": [
            0,
            64
          ]
        },
        {
          "content": "These",
          "pos": [
            65,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        3932,
        3996
      ],
      "content": "sections don’t require any technical knowledge in the predictive"
    },
    {
      "pos": [
        3997,
        4014
      ],
      "content": "analytics domain."
    },
    {
      "pos": [
        4016,
        4084
      ],
      "content": "In the second half of the playbook, we cover the types of predictive"
    },
    {
      "pos": [
        4085,
        4155
      ],
      "content": "modeling techniques for predictive maintenance applications and how to"
    },
    {
      "pos": [
        4156,
        4226
      ],
      "content": "implement these models through examples from the use cases outlined in"
    },
    {
      "pos": [
        4227,
        4300
      ],
      "content": "the first half of the playbook. This is illustrated by going through the\n",
      "nodes": [
        {
          "content": "the first half of the playbook.",
          "pos": [
            0,
            31
          ]
        },
        {
          "content": "This is illustrated by going through the",
          "pos": [
            32,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        4300,
        4361
      ],
      "content": "steps of data preprocessing such as data labeling and feature"
    },
    {
      "pos": [
        4362,
        4435
      ],
      "content": "engineering, model selection, training/testing and performance evaluation"
    },
    {
      "pos": [
        4436,
        4503
      ],
      "content": "best practices. These sections are suitable for technical audience.",
      "nodes": [
        {
          "content": "best practices.",
          "pos": [
            0,
            15
          ]
        },
        {
          "content": "These sections are suitable for technical audience.",
          "pos": [
            16,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        4509,
        4538
      ],
      "content": "Predictive maintenance in IoT"
    },
    {
      "pos": [
        4539,
        4600
      ],
      "content": "The impact of unscheduled equipment downtime can be extremely"
    },
    {
      "pos": [
        4601,
        4668
      ],
      "content": "destructive for businesses. It is critical to keep field equipment\n",
      "nodes": [
        {
          "content": "destructive for businesses.",
          "pos": [
            0,
            27
          ]
        },
        {
          "content": "It is critical to keep field equipment",
          "pos": [
            28,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        4668,
        4742
      ],
      "content": "running in order to maximize utilization and performance and by minimizing"
    },
    {
      "pos": [
        4743,
        4814
      ],
      "content": "costly, unscheduled downtime. Simply, waiting for the failure to occur\n",
      "nodes": [
        {
          "content": "costly, unscheduled downtime.",
          "pos": [
            0,
            29
          ]
        },
        {
          "content": "Simply, waiting for the failure to occur",
          "pos": [
            30,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        4814,
        4862
      ],
      "content": "is not affordable in today’s business operations"
    },
    {
      "pos": [
        4863,
        4933
      ],
      "content": "scene. To remain competitive, companies look for new ways to maximize\n",
      "nodes": [
        {
          "content": "scene.",
          "pos": [
            0,
            6
          ]
        },
        {
          "content": "To remain competitive, companies look for new ways to maximize",
          "pos": [
            7,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        4933,
        4999
      ],
      "content": "asset performance by making use of the data collected from various"
    },
    {
      "pos": [
        5000,
        5070
      ],
      "content": "channels. One important way to analyze such information is to utilize\n",
      "nodes": [
        {
          "content": "channels.",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "One important way to analyze such information is to utilize",
          "pos": [
            10,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        5070,
        5140
      ],
      "content": "predictive analytic techniques that use historical patterns to predict"
    },
    {
      "pos": [
        5141,
        5211
      ],
      "content": "future outcomes. One of the most popular of these solutions is called\n",
      "nodes": [
        {
          "content": "future outcomes.",
          "pos": [
            0,
            16
          ]
        },
        {
          "content": "One of the most popular of these solutions is called",
          "pos": [
            17,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        5211,
        5283
      ],
      "content": "Predictive Maintenance which can generally be defined as but not limited"
    },
    {
      "pos": [
        5284,
        5354
      ],
      "content": "to predicting possibility of failure of an asset in the near future so"
    },
    {
      "pos": [
        5355,
        5424
      ],
      "content": "that the assets can be monitored to proactively identify failures and"
    },
    {
      "pos": [
        5425,
        5495
      ],
      "content": "take action before the failures occur. These solutions detect failure\n",
      "nodes": [
        {
          "content": "take action before the failures occur.",
          "pos": [
            0,
            38
          ]
        },
        {
          "content": "These solutions detect failure",
          "pos": [
            39,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        5495,
        5566
      ],
      "content": "patterns to determine assets that are at the greatest risk of failure.\n",
      "nodes": [
        {
          "content": "patterns to determine assets that are at the greatest risk of failure.",
          "pos": [
            0,
            70
          ]
        },
        {
          "content": "\n",
          "pos": [
            70,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        5566,
        5634
      ],
      "content": "This early identification of issues helps deploy limited maintenance"
    },
    {
      "pos": [
        5635,
        5704
      ],
      "content": "resources in a more cost-effective way and enhance quality and supply"
    },
    {
      "pos": [
        5705,
        5721
      ],
      "content": "chain processes."
    },
    {
      "pos": [
        5723,
        5793
      ],
      "content": "With the rise of the Internet of Things (IoT) applications, predictive"
    },
    {
      "pos": [
        5794,
        5866
      ],
      "content": "maintenance has been gaining increasing attention in the industry as the"
    },
    {
      "pos": [
        5867,
        5932
      ],
      "content": "data collection and processing technologies has matured enough to"
    },
    {
      "pos": [
        5933,
        6005
      ],
      "content": "generate, transmit, store and analyze all kinds of data in batches or in"
    },
    {
      "pos": [
        6006,
        6077
      ],
      "content": "real-time. Such technologies enable easy development and deployment of\n",
      "nodes": [
        {
          "content": "real-time.",
          "pos": [
            0,
            10
          ]
        },
        {
          "content": "Such technologies enable easy development and deployment of",
          "pos": [
            11,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        6077,
        6137
      ],
      "content": "end-to-end solutions with advanced analytics solutions, with"
    },
    {
      "pos": [
        6138,
        6180
      ],
      "content": "predictive maintenance solutions providing"
    },
    {
      "pos": [
        6181,
        6221
      ],
      "content": "arguably the largest amount of benefits."
    },
    {
      "pos": [
        6223,
        6293
      ],
      "content": "Business problems in the predictive maintenance domain range from high"
    },
    {
      "pos": [
        6294,
        6366
      ],
      "content": "operational risk due to unexpected failures and limited insight into the"
    },
    {
      "pos": [
        6367,
        6440
      ],
      "content": "root cause of problems in complex business environments. The majority of\n",
      "nodes": [
        {
          "content": "root cause of problems in complex business environments.",
          "pos": [
            0,
            56
          ]
        },
        {
          "content": "The majority of",
          "pos": [
            57,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        6440,
        6510
      ],
      "content": "these problems can be categorized to fall under the following business"
    },
    {
      "pos": [
        6511,
        6521
      ],
      "content": "questions:"
    },
    {
      "pos": [
        6527,
        6602
      ],
      "leadings": [
        "",
        "    "
      ],
      "content": "What is the probability that an equipment will fail in the near\nfuture?"
    },
    {
      "pos": [
        6607,
        6658
      ],
      "content": "What is the remaining useful life of the equipment?"
    },
    {
      "pos": [
        6663,
        6768
      ],
      "leadings": [
        "",
        "    "
      ],
      "content": "What are the causes of failures and what maintenance actions should\nbe performed to fix these issues?"
    },
    {
      "pos": [
        6770,
        6832
      ],
      "content": "By utilizing predictive maintenance to answer these questions,"
    },
    {
      "pos": [
        6833,
        6848
      ],
      "content": "businesses can:"
    },
    {
      "pos": [
        6853,
        6960
      ],
      "leadings": [
        "",
        "    "
      ],
      "content": "Reduce operational risk and increase rate of return on assets by\nspotting failures before they occurred"
    },
    {
      "pos": [
        6965,
        7053
      ],
      "leadings": [
        "",
        "    "
      ],
      "content": "Reduce unnecessary time-based maintenance operations and control\ncost of maintenance"
    },
    {
      "pos": [
        7058,
        7164
      ],
      "leadings": [
        "",
        "    "
      ],
      "content": "Improve overall brand image, eliminate bad publicity and resulting\nlost sales from customer attrition."
    },
    {
      "pos": [
        7169,
        7255
      ],
      "leadings": [
        "",
        "    "
      ],
      "content": "Lower inventory costs by reducing inventory levels by predicting the\nreorder point"
    },
    {
      "pos": [
        7260,
        7319
      ],
      "content": "Discover patterns connected to various maintenance problems"
    },
    {
      "pos": [
        7321,
        7385
      ],
      "content": "Predictive maintenance solutions can provide businesses with key"
    },
    {
      "pos": [
        7386,
        7457
      ],
      "content": "performance indicators such as health scores to monitor real-time asset"
    },
    {
      "pos": [
        7458,
        7517
      ],
      "content": "condition, an estimate of the remaining lifespan of assets,"
    },
    {
      "pos": [
        7518,
        7589
      ],
      "content": "recommendation for proactive maintenance activities and estimated order"
    },
    {
      "pos": [
        7590,
        7621
      ],
      "content": "dates for replacement of parts."
    },
    {
      "pos": [
        7626,
        7675
      ],
      "content": "Qualification criteria for predictive maintenance"
    },
    {
      "pos": [
        7676,
        7748
      ],
      "content": "It is important to emphasize that not all use cases or business problems"
    },
    {
      "pos": [
        7749,
        7812
      ],
      "content": "can be effectively solved by predictive maintenance. Important\n",
      "nodes": [
        {
          "content": "can be effectively solved by predictive maintenance.",
          "pos": [
            0,
            52
          ]
        },
        {
          "content": "Important",
          "pos": [
            53,
            62
          ]
        }
      ]
    },
    {
      "pos": [
        7812,
        7887
      ],
      "content": "qualification criteria include whether the problem is predictive in nature,"
    },
    {
      "pos": [
        7888,
        7961
      ],
      "content": "that a clear path of action exists in order to prevent failures when they"
    },
    {
      "pos": [
        7962,
        8028
      ],
      "content": "are detected beforehand and most importantly, data with sufficient"
    },
    {
      "pos": [
        8029,
        8102
      ],
      "content": "quality to support the use case is available. Here, we focus on the data\n",
      "nodes": [
        {
          "content": "quality to support the use case is available.",
          "pos": [
            0,
            45
          ]
        },
        {
          "content": "Here, we focus on the data",
          "pos": [
            46,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        8102,
        8173
      ],
      "content": "requirements for building a successful predictive maintenance solution."
    },
    {
      "pos": [
        8175,
        8243
      ],
      "content": "When building predictive models, we use historical data to train the"
    },
    {
      "pos": [
        8244,
        8312
      ],
      "content": "model which will then recognize hidden patterns and further identify"
    },
    {
      "pos": [
        8313,
        8378
      ],
      "content": "these patterns in the future data. These models are trained with\n",
      "nodes": [
        {
          "content": "these patterns in the future data.",
          "pos": [
            0,
            34
          ]
        },
        {
          "content": "These models are trained with",
          "pos": [
            35,
            64
          ]
        }
      ]
    },
    {
      "pos": [
        8378,
        8449
      ],
      "content": "examples described by their features and the target of prediction. The\n",
      "nodes": [
        {
          "content": "examples described by their features and the target of prediction.",
          "pos": [
            0,
            66
          ]
        },
        {
          "content": "The",
          "pos": [
            67,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        8449,
        8516
      ],
      "content": "trained model is expected to make predictions on the target by only"
    },
    {
      "pos": [
        8517,
        8585
      ],
      "content": "looking at the features of the new examples. It is crucial that the\n",
      "nodes": [
        {
          "content": "looking at the features of the new examples.",
          "pos": [
            0,
            44
          ]
        },
        {
          "content": "It is crucial that the",
          "pos": [
            45,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        8585,
        8650
      ],
      "content": "model capture the relationship between features and the target of"
    },
    {
      "pos": [
        8651,
        8721
      ],
      "content": "prediction. In order to train an effective machine learning model, we\n",
      "nodes": [
        {
          "content": "prediction.",
          "pos": [
            0,
            11
          ]
        },
        {
          "content": "In order to train an effective machine learning model, we",
          "pos": [
            12,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        8721,
        8793
      ],
      "content": "need training data which includes features that actually have predictive"
    },
    {
      "pos": [
        8794,
        8868
      ],
      "content": "power towards the target of prediction meaning the data should be relevant"
    },
    {
      "pos": [
        8869,
        8923
      ],
      "content": "to the prediction goal to expect accurate predictions."
    },
    {
      "pos": [
        8925,
        8995
      ],
      "content": "For example, if the target is to predict failures of train wheels, the"
    },
    {
      "pos": [
        8996,
        9063
      ],
      "content": "training data should contain wheel related features (e.g. telemetry"
    },
    {
      "pos": [
        9064,
        9134
      ],
      "content": "reflecting the health status of wheels, the mileage, car load, etc.).\n",
      "nodes": [
        {
          "content": "reflecting the health status of wheels, the mileage, car load, etc.).",
          "pos": [
            0,
            69
          ]
        },
        {
          "content": "\n",
          "pos": [
            69,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        9134,
        9205
      ],
      "content": "However, if the target is to predict train engine failures, we probably"
    },
    {
      "pos": [
        9206,
        9274
      ],
      "content": "need another set of training data that has engine related features.\n",
      "nodes": [
        {
          "content": "need another set of training data that has engine related features.",
          "pos": [
            0,
            67
          ]
        },
        {
          "content": "\n",
          "pos": [
            67,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        9274,
        9341
      ],
      "content": "Before building predictive models, we expect the business expert to"
    },
    {
      "pos": [
        9342,
        9406
      ],
      "content": "understand the data relevancy requirement and provide the domain"
    },
    {
      "pos": [
        9407,
        9484
      ],
      "content": "knowledge that is needed to select relevant subsets of data for the analysis."
    },
    {
      "pos": [
        9486,
        9554
      ],
      "content": "There are three essential data sources we look for when qualifying a"
    },
    {
      "pos": [
        9555,
        9625
      ],
      "content": "business problem to be suitable for a predictive maintenance solution:"
    },
    {
      "pos": [
        9630,
        10367
      ],
      "leadings": [
        "",
        "    ",
        "    ",
        "    ",
        "    ",
        "    ",
        "    ",
        "    ",
        "    ",
        "    ",
        "    "
      ],
      "content": "Failure History: Typically, in predictive maintenance applications,\nfailure events are very rare. However, when building predictive\nmodels that will predict failures, the algorithm needs to learn the\nnormal operation pattern as well as the failure pattern through the\ntraining process. Hence, it is essential that the training data\ncontains sufficient number of examples in both categories in order\nto learn these two different patterns. For that reason, we require\nthat data has sufficient number of failure events. Failure events\ncan be found in maintenance records and parts replacement history or\nanomalies in the training data can also be used as failures as\nidentified by the domain experts.",
      "nodes": [
        {
          "content": "Failure History: Typically, in predictive maintenance applications,\nfailure events are very rare.",
          "pos": [
            0,
            97
          ]
        },
        {
          "content": "However, when building predictive\nmodels that will predict failures, the algorithm needs to learn the\nnormal operation pattern as well as the failure pattern through the\ntraining process.",
          "pos": [
            98,
            285
          ]
        },
        {
          "content": "Hence, it is essential that the training data\ncontains sufficient number of examples in both categories in order\nto learn these two different patterns.",
          "pos": [
            286,
            437
          ]
        },
        {
          "content": "For that reason, we require\nthat data has sufficient number of failure events.",
          "pos": [
            438,
            516
          ]
        },
        {
          "content": "Failure events\ncan be found in maintenance records and parts replacement history or\nanomalies in the training data can also be used as failures as\nidentified by the domain experts.",
          "pos": [
            517,
            697
          ]
        }
      ]
    },
    {
      "pos": [
        10372,
        10799
      ],
      "leadings": [
        "",
        "    ",
        "    ",
        "    ",
        "    ",
        "    ",
        "    "
      ],
      "content": "Maintenance/Repair History: An essential source of data for\npredictive maintenance solutions is the detailed maintenance history\nof the asset containing information about the components replaced,\npreventive maintenance activates performed, etc. It is extremely\nimportant to capture these events as these will affect the\ndegradation patterns and absence of this information will cause\nmisleading results."
    },
    {
      "pos": [
        10804,
        11463
      ],
      "leadings": [
        "",
        "    ",
        "    ",
        "    ",
        "    ",
        "    ",
        "    ",
        "    ",
        "    ",
        "    "
      ],
      "content": "Machine Conditions: In order to predict how many more days (hours,\nmiles, transactions, etc.) a machine will last before it fails, we\nassume the machine’s health status will degrade over time during\nits operation. Therefore, we expect the data to contain time-varying\nfeatures that capture this aging pattern and any anomalies that will\nlead to degradation. In IoT applications, the telemetry data from\ndifferent sensors represent one good example. In order to predict if\na machine is going to fail within a time frame, ideally the data\nshould capture degrading trend during this time frame before the\nactual failure event.",
      "nodes": [
        {
          "content": "Machine Conditions: In order to predict how many more days (hours,\nmiles, transactions, etc.) a machine will last before it fails, we\nassume the machine’s health status will degrade over time during\nits operation.",
          "pos": [
            0,
            213
          ]
        },
        {
          "content": "Therefore, we expect the data to contain time-varying\nfeatures that capture this aging pattern and any anomalies that will\nlead to degradation.",
          "pos": [
            214,
            357
          ]
        },
        {
          "content": "In IoT applications, the telemetry data from\ndifferent sensors represent one good example.",
          "pos": [
            358,
            448
          ]
        },
        {
          "content": "In order to predict if\na machine is going to fail within a time frame, ideally the data\nshould capture degrading trend during this time frame before the\nactual failure event.",
          "pos": [
            449,
            623
          ]
        }
      ]
    },
    {
      "pos": [
        11465,
        11536
      ],
      "content": "Additionally, we require data that is directly related to the operating"
    },
    {
      "pos": [
        11537,
        11609
      ],
      "content": "conditions of the target asset of prediction. The decision of target is\n",
      "nodes": [
        {
          "content": "conditions of the target asset of prediction.",
          "pos": [
            0,
            45
          ]
        },
        {
          "content": "The decision of target is",
          "pos": [
            46,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        11609,
        11678
      ],
      "content": "based on both business needs and data availability. Taking the train\n",
      "nodes": [
        {
          "content": "based on both business needs and data availability.",
          "pos": [
            0,
            51
          ]
        },
        {
          "content": "Taking the train",
          "pos": [
            52,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        11678,
        11749
      ],
      "content": "wheel failure prediction as an example, we may predict \"if the wheel is"
    },
    {
      "pos": [
        11750,
        11813
      ],
      "content": "going to have a failure\" or \"if the whole train is going have a"
    },
    {
      "pos": [
        11814,
        11884
      ],
      "content": "failure\". The first one targets a more specific component whereas the\n",
      "nodes": [
        {
          "content": "failure\".",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "The first one targets a more specific component whereas the",
          "pos": [
            10,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        11884,
        11967
      ],
      "content": "second one targets failure of the train. The second one is a more general question\n",
      "nodes": [
        {
          "content": "second one targets failure of the train.",
          "pos": [
            0,
            40
          ]
        },
        {
          "content": "The second one is a more general question",
          "pos": [
            41,
            82
          ]
        }
      ]
    },
    {
      "pos": [
        11967,
        12039
      ],
      "content": "that will require a lot more dispersed data elements than the first one,"
    },
    {
      "pos": [
        12040,
        12111
      ],
      "content": "making it harder to build a model. Conversely, trying to predict wheel\n",
      "nodes": [
        {
          "content": "making it harder to build a model.",
          "pos": [
            0,
            34
          ]
        },
        {
          "content": "Conversely, trying to predict wheel",
          "pos": [
            35,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        12111,
        12182
      ],
      "content": "failures just by looking at the high level train condition data may not"
    },
    {
      "pos": [
        12183,
        12254
      ],
      "content": "be feasible as it does not contain information at the component level.\n",
      "nodes": [
        {
          "content": "be feasible as it does not contain information at the component level.",
          "pos": [
            0,
            70
          ]
        },
        {
          "content": "\n",
          "pos": [
            70,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        12254,
        12325
      ],
      "content": "In general, it is more sensible to predict specific failure events than"
    },
    {
      "pos": [
        12326,
        12344
      ],
      "content": "more general ones."
    },
    {
      "pos": [
        12346,
        12417
      ],
      "content": "One common question that is usually asked about failure history data is"
    },
    {
      "pos": [
        12418,
        12488
      ],
      "content": "\"How many failure events are required to train a model and how many is"
    },
    {
      "pos": [
        12489,
        12561
      ],
      "content": "considered as \"enough\"? There is no clear answer to that question as in\n",
      "nodes": [
        {
          "content": "considered as \"enough\"?",
          "pos": [
            0,
            23
          ]
        },
        {
          "content": "There is no clear answer to that question as in",
          "pos": [
            24,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        12561,
        12630
      ],
      "content": "many predictive analytics scenarios, it is usually the quality of the"
    },
    {
      "pos": [
        12631,
        12702
      ],
      "content": "data that dictates what is acceptable. If the dataset does not include\n",
      "nodes": [
        {
          "content": "data that dictates what is acceptable.",
          "pos": [
            0,
            38
          ]
        },
        {
          "content": "If the dataset does not include",
          "pos": [
            39,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        12702,
        12774
      ],
      "content": "features that are relevant to failure prediction, then even if there are"
    },
    {
      "pos": [
        12775,
        12848
      ],
      "content": "many failure events, building a good model may not be possible. However,\n",
      "nodes": [
        {
          "content": "many failure events, building a good model may not be possible.",
          "pos": [
            0,
            63
          ]
        },
        {
          "content": "However,",
          "pos": [
            64,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        12848,
        12916
      ],
      "content": "the rule of thumb is that the more the failure events the better the"
    },
    {
      "pos": [
        12917,
        12984
      ],
      "content": "model will be and a rough estimate of how many failure examples are"
    },
    {
      "pos": [
        12985,
        13054
      ],
      "content": "required is a very context and data dependent measure. This issue is\n",
      "nodes": [
        {
          "content": "required is a very context and data dependent measure.",
          "pos": [
            0,
            54
          ]
        },
        {
          "content": "This issue is",
          "pos": [
            55,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        13054,
        13120
      ],
      "content": "discussed in the section for handling imbalanced datasets where we"
    },
    {
      "pos": [
        13121,
        13192
      ],
      "content": "propose methods to cope with the problem of not having enough failures."
    },
    {
      "pos": [
        13197,
        13213
      ],
      "content": "Sample use cases"
    },
    {
      "pos": [
        13214,
        13286
      ],
      "content": "This section focuses on a collection of predictive maintenance use cases"
    },
    {
      "pos": [
        13287,
        13360
      ],
      "content": "from several industries such as Aerospace, Utilities and Transportation.\n",
      "nodes": [
        {
          "content": "from several industries such as Aerospace, Utilities and Transportation.",
          "pos": [
            0,
            72
          ]
        },
        {
          "content": "\n",
          "pos": [
            72,
            73
          ]
        }
      ]
    },
    {
      "pos": [
        13360,
        13430
      ],
      "content": "Each subsection drills into the use cases collected in these areas and"
    },
    {
      "pos": [
        13431,
        13502
      ],
      "content": "discuss business problem, the data surrounding the business problem and"
    },
    {
      "pos": [
        13503,
        13553
      ],
      "content": "the benefits of a predictive maintenance solution."
    },
    {
      "pos": [
        13559,
        13568
      ],
      "content": "Aerospace"
    },
    {
      "pos": [
        13574,
        13616
      ],
      "content": "Use Case 1: Flight delay and cancellations"
    },
    {
      "pos": [
        13623,
        13658
      ],
      "content": "<bpt id=\"p5\">*</bpt>Business problem and data sources<ept id=\"p5\">*</ept>"
    },
    {
      "pos": [
        13659,
        13731
      ],
      "content": "One of the major business problems that airlines face is the significant"
    },
    {
      "pos": [
        13732,
        13802
      ],
      "content": "costs that are associated with flights being delayed due to mechanical"
    },
    {
      "pos": [
        13803,
        13872
      ],
      "content": "problems. If the mechanical failures cannot be repaired, flights may\n",
      "nodes": [
        {
          "content": "problems.",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "If the mechanical failures cannot be repaired, flights may",
          "pos": [
            10,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        13872,
        13945
      ],
      "content": "even be cancelled. This is extremely costly as delays create problems in\n",
      "nodes": [
        {
          "content": "even be cancelled.",
          "pos": [
            0,
            18
          ]
        },
        {
          "content": "This is extremely costly as delays create problems in",
          "pos": [
            19,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        13945,
        14006
      ],
      "content": "scheduling and operations, causes bad reputation and customer"
    },
    {
      "pos": [
        14007,
        14068
      ],
      "content": "dissatisfaction along with many other problems. Airlines are\n",
      "nodes": [
        {
          "content": "dissatisfaction along with many other problems.",
          "pos": [
            0,
            47
          ]
        },
        {
          "content": "Airlines are",
          "pos": [
            48,
            60
          ]
        }
      ]
    },
    {
      "pos": [
        14068,
        14133
      ],
      "content": "particularly interested in predicting such mechanical failures in"
    },
    {
      "pos": [
        14134,
        14207
      ],
      "content": "advance so that they can reduce flight delays or cancellations. The goal\n",
      "nodes": [
        {
          "content": "advance so that they can reduce flight delays or cancellations.",
          "pos": [
            0,
            63
          ]
        },
        {
          "content": "The goal",
          "pos": [
            64,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        14207,
        14279
      ],
      "content": "of the predictive maintenance solution for these cases is to predict the"
    },
    {
      "pos": [
        14280,
        14351
      ],
      "content": "probability of aircrafts being delayed or canceled in the future, based"
    },
    {
      "pos": [
        14352,
        14421
      ],
      "content": "on relevant data sources such as maintenance history and flight route"
    },
    {
      "pos": [
        14422,
        14495
      ],
      "content": "information. The two major data sources for this use case are the flight\n",
      "nodes": [
        {
          "content": "information.",
          "pos": [
            0,
            12
          ]
        },
        {
          "content": "The two major data sources for this use case are the flight",
          "pos": [
            13,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        14495,
        14568
      ],
      "content": "legs and page logs. Flight leg data includes data about the flight route\n",
      "nodes": [
        {
          "content": "legs and page logs.",
          "pos": [
            0,
            19
          ]
        },
        {
          "content": "Flight leg data includes data about the flight route",
          "pos": [
            20,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        14568,
        14637
      ],
      "content": "details such as the date and time of departure and arrival, departure"
    },
    {
      "pos": [
        14638,
        14709
      ],
      "content": "and arrival airports, etc. Page log data includes a series of error and"
    },
    {
      "pos": [
        14710,
        14775
      ],
      "content": "maintenance codes that are recorded by the maintenance personnel."
    },
    {
      "pos": [
        14783,
        14823
      ],
      "content": "<bpt id=\"p6\">*</bpt>Business value of the predictive model<ept id=\"p6\">*</ept>"
    },
    {
      "pos": [
        14824,
        14895
      ],
      "content": "Using the available historical data, a predictive model was built using"
    },
    {
      "pos": [
        14896,
        14968
      ],
      "content": "a multi-classification algorithm to predict the type of mechanical issue"
    },
    {
      "pos": [
        14969,
        15052
      ],
      "content": "which will result in a delay or cancellation of a flight within the next 24 hours.\n",
      "nodes": [
        {
          "content": "which will result in a delay or cancellation of a flight within the next 24 hours.",
          "pos": [
            0,
            82
          ]
        },
        {
          "content": "\n",
          "pos": [
            82,
            83
          ]
        }
      ]
    },
    {
      "pos": [
        15052,
        15121
      ],
      "content": "By making this prediction, necessary maintenance actions can be taken"
    },
    {
      "pos": [
        15122,
        15198
      ],
      "content": "to mitigate the risk while the aircrafts are being serviced and thus prevent"
    },
    {
      "pos": [
        15199,
        15262
      ],
      "content": "possible delays or cancellations. Using Azure Machine Learning\n",
      "nodes": [
        {
          "content": "possible delays or cancellations.",
          "pos": [
            0,
            33
          ]
        },
        {
          "content": "Using Azure Machine Learning",
          "pos": [
            34,
            62
          ]
        }
      ]
    },
    {
      "pos": [
        15262,
        15336
      ],
      "content": "web service, the predictive models can seamlessly and easily be integrated"
    },
    {
      "pos": [
        15337,
        15381
      ],
      "content": "into airlines’ existing operating platforms."
    },
    {
      "pos": [
        15389,
        15427
      ],
      "content": "Use Case 2: Aircraft component failure"
    },
    {
      "pos": [
        15434,
        15469
      ],
      "content": "<bpt id=\"p7\">*</bpt>Business problem and data sources<ept id=\"p7\">*</ept>"
    },
    {
      "pos": [
        15470,
        15539
      ],
      "content": "Aircraft engines are very sensitive and expensive pieces of equipment"
    },
    {
      "pos": [
        15540,
        15612
      ],
      "content": "and engine part replacements are among the most common maintenance tasks"
    },
    {
      "pos": [
        15613,
        15681
      ],
      "content": "in the airline industry. Maintenance solutions for airlines require\n",
      "nodes": [
        {
          "content": "in the airline industry.",
          "pos": [
            0,
            24
          ]
        },
        {
          "content": "Maintenance solutions for airlines require",
          "pos": [
            25,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        15681,
        15745
      ],
      "content": "careful management of component stock availability, delivery and"
    },
    {
      "pos": [
        15746,
        15815
      ],
      "content": "planning. Being able to gather intelligence on component reliability\n",
      "nodes": [
        {
          "content": "planning.",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "Being able to gather intelligence on component reliability",
          "pos": [
            10,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        15815,
        15886
      ],
      "content": "will lead to substantial reduction on investment costs. The major data\n",
      "nodes": [
        {
          "content": "will lead to substantial reduction on investment costs.",
          "pos": [
            0,
            55
          ]
        },
        {
          "content": "The major data",
          "pos": [
            56,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        15886,
        15955
      ],
      "content": "source for this use case is telemetry data collected from a number of"
    },
    {
      "pos": [
        15956,
        16025
      ],
      "content": "sensors in the aircraft providing information on the condition of the"
    },
    {
      "pos": [
        16026,
        16098
      ],
      "content": "aircraft. Maintenance records were also used to identify when component\n",
      "nodes": [
        {
          "content": "aircraft.",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "Maintenance records were also used to identify when component",
          "pos": [
            10,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        16098,
        16143
      ],
      "content": "failures occurred and replacements were made."
    },
    {
      "pos": [
        16151,
        16189
      ],
      "content": "Business value of the predictive model"
    },
    {
      "pos": [
        16190,
        16252
      ],
      "content": "A multi-class classification model was built that predicts the"
    },
    {
      "pos": [
        16253,
        16320
      ],
      "content": "probability of a failure due to a certain component within the next"
    },
    {
      "pos": [
        16321,
        16388
      ],
      "content": "month. By employing these solutions, airlines can reduce component\n",
      "nodes": [
        {
          "content": "month.",
          "pos": [
            0,
            6
          ]
        },
        {
          "content": "By employing these solutions, airlines can reduce component",
          "pos": [
            7,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        16388,
        16456
      ],
      "content": "repair costs, improve component stock availability, reduce inventory"
    },
    {
      "pos": [
        16457,
        16515
      ],
      "content": "levels of related assets and improve maintenance planning."
    },
    {
      "pos": [
        16521,
        16530
      ],
      "content": "Utilities"
    },
    {
      "pos": [
        16536,
        16573
      ],
      "content": "Use Case 1: ATM cash dispense failure"
    },
    {
      "pos": [
        16580,
        16615
      ],
      "content": "<bpt id=\"p8\">*</bpt>Business problem and data sources<ept id=\"p8\">*</ept>"
    },
    {
      "pos": [
        16616,
        16681
      ],
      "content": "Executives in asset intensive industries often state that primary"
    },
    {
      "pos": [
        16682,
        16750
      ],
      "content": "operational risk to their businesses is unexpected failures of their"
    },
    {
      "pos": [
        16751,
        16819
      ],
      "content": "assets. As an example, failure of machinery such as ATMs in banking\n",
      "nodes": [
        {
          "content": "assets.",
          "pos": [
            0,
            7
          ]
        },
        {
          "content": "As an example, failure of machinery such as ATMs in banking",
          "pos": [
            8,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        16819,
        16891
      ],
      "content": "industry is a very common problem that occurs frequently. These type of\n",
      "nodes": [
        {
          "content": "industry is a very common problem that occurs frequently.",
          "pos": [
            0,
            57
          ]
        },
        {
          "content": "These type of",
          "pos": [
            58,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        16891,
        16957
      ],
      "content": "problems makes predictive maintenance solutions very desirable for"
    },
    {
      "pos": [
        16958,
        17027
      ],
      "content": "operators of such machinery. In this use case, prediction problem is\n",
      "nodes": [
        {
          "content": "operators of such machinery.",
          "pos": [
            0,
            28
          ]
        },
        {
          "content": "In this use case, prediction problem is",
          "pos": [
            29,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        17027,
        17095
      ],
      "content": "to calculate the probability that an ATM cash withdrawal transaction"
    },
    {
      "pos": [
        17096,
        17165
      ],
      "content": "will get interrupted due to a failure in the cash dispenser such as a"
    },
    {
      "pos": [
        17166,
        17239
      ],
      "content": "paper jam or a part failure. Major data sources for this case are sensor\n",
      "nodes": [
        {
          "content": "paper jam or a part failure.",
          "pos": [
            0,
            28
          ]
        },
        {
          "content": "Major data sources for this case are sensor",
          "pos": [
            29,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        17239,
        17310
      ],
      "content": "readings that collect measurements while cash notes are being dispensed"
    },
    {
      "pos": [
        17311,
        17382
      ],
      "content": "and also maintenance records collected over time. Sensor data included\n",
      "nodes": [
        {
          "content": "and also maintenance records collected over time.",
          "pos": [
            0,
            49
          ]
        },
        {
          "content": "Sensor data included",
          "pos": [
            50,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        17382,
        17453
      ],
      "content": "sensor readings per each transaction completed and also sensor readings"
    },
    {
      "pos": [
        17454,
        17526
      ],
      "content": "per each note dispensed. The sensor readings provided measurements such\n",
      "nodes": [
        {
          "content": "per each note dispensed.",
          "pos": [
            0,
            24
          ]
        },
        {
          "content": "The sensor readings provided measurements such",
          "pos": [
            25,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        17526,
        17598
      ],
      "content": "as gaps between notes, thickness, note arrival distance etc. Maintenance"
    },
    {
      "pos": [
        17599,
        17668
      ],
      "content": "data included error codes and repair information. These were used to\n",
      "nodes": [
        {
          "content": "data included error codes and repair information.",
          "pos": [
            0,
            49
          ]
        },
        {
          "content": "These were used to",
          "pos": [
            50,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        17668,
        17691
      ],
      "content": "identify failure cases."
    },
    {
      "pos": [
        17699,
        17739
      ],
      "content": "<bpt id=\"p9\">*</bpt>Business value of the predictive model<ept id=\"p9\">*</ept>"
    },
    {
      "pos": [
        17740,
        17804
      ],
      "content": "Two predictive models were built to predict failures in the cash"
    },
    {
      "pos": [
        17805,
        17875
      ],
      "content": "withdrawal transactions and failures in the individual notes dispensed"
    },
    {
      "pos": [
        17876,
        17944
      ],
      "content": "during a transaction. By being able to predict transaction failures\n",
      "nodes": [
        {
          "content": "during a transaction.",
          "pos": [
            0,
            21
          ]
        },
        {
          "content": "By being able to predict transaction failures",
          "pos": [
            22,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        17944,
        18013
      ],
      "content": "beforehand, ATMs can be serviced proactively to prevent failures from"
    },
    {
      "pos": [
        18014,
        18081
      ],
      "content": "occurring. Also, with note failure prediction, if a transaction is\n",
      "nodes": [
        {
          "content": "occurring.",
          "pos": [
            0,
            10
          ]
        },
        {
          "content": "Also, with note failure prediction, if a transaction is",
          "pos": [
            11,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        18081,
        18152
      ],
      "content": "likely to fail before it is complete due to a note dispense failure, it"
    },
    {
      "pos": [
        18153,
        18221
      ],
      "content": "may be best to stop the process and warn the customer for incomplete"
    },
    {
      "pos": [
        18222,
        18291
      ],
      "content": "transaction rather than waiting for the maintenance service to arrive"
    },
    {
      "pos": [
        18292,
        18348
      ],
      "content": "after the error occurs which may lead to larger customer"
    },
    {
      "pos": [
        18349,
        18365
      ],
      "content": "dissatisfaction."
    },
    {
      "pos": [
        18372,
        18405
      ],
      "content": "Use Case 2: Wind turbine failures"
    },
    {
      "pos": [
        18412,
        18447
      ],
      "content": "<bpt id=\"p10\">*</bpt>Business problem and data sources<ept id=\"p10\">*</ept>"
    },
    {
      "pos": [
        18448,
        18520
      ],
      "content": "With the raise of environmental awareness, wind turbines have become one"
    },
    {
      "pos": [
        18521,
        18593
      ],
      "content": "of the major sources of energy generation and they usually cost millions"
    },
    {
      "pos": [
        18594,
        18666
      ],
      "content": "of dollars. One of the key components of wind turbines is the generator\n",
      "nodes": [
        {
          "content": "of dollars.",
          "pos": [
            0,
            11
          ]
        },
        {
          "content": "One of the key components of wind turbines is the generator",
          "pos": [
            12,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        18666,
        18737
      ],
      "content": "motor which is equipped with many sensors that helps to monitor turbine"
    },
    {
      "pos": [
        18738,
        18810
      ],
      "content": "conditions and status. The sensor readings contain valuable information\n",
      "nodes": [
        {
          "content": "conditions and status.",
          "pos": [
            0,
            22
          ]
        },
        {
          "content": "The sensor readings contain valuable information",
          "pos": [
            23,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        18810,
        18909
      ],
      "content": "which can be used to build a predictive model to predict critical Key Performance Indicators (KPIs)"
    },
    {
      "pos": [
        18910,
        18980
      ],
      "content": "such as mean time to failure for components of the wind turbine. Data\n",
      "nodes": [
        {
          "content": "such as mean time to failure for components of the wind turbine.",
          "pos": [
            0,
            64
          ]
        },
        {
          "content": "Data",
          "pos": [
            65,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        18980,
        19051
      ],
      "content": "for this use case comes from multiple wind turbines that are located in"
    },
    {
      "pos": [
        19052,
        19135
      ],
      "content": "3 different farm locations. Measurements from close to a hundred sensors from each\n",
      "nodes": [
        {
          "content": "3 different farm locations.",
          "pos": [
            0,
            27
          ]
        },
        {
          "content": "Measurements from close to a hundred sensors from each",
          "pos": [
            28,
            82
          ]
        }
      ]
    },
    {
      "pos": [
        19135,
        19203
      ],
      "content": "turbine were recorded every 10 seconds for one year. These readings\n",
      "nodes": [
        {
          "content": "turbine were recorded every 10 seconds for one year.",
          "pos": [
            0,
            52
          ]
        },
        {
          "content": "These readings",
          "pos": [
            53,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        19203,
        19275
      ],
      "content": "include measurements such as temperature, generator speed, turbine power"
    },
    {
      "pos": [
        19276,
        19298
      ],
      "content": "and generator winding."
    },
    {
      "pos": [
        19306,
        19346
      ],
      "content": "<bpt id=\"p11\">*</bpt>Business value of the predictive model<ept id=\"p11\">*</ept>"
    },
    {
      "pos": [
        19347,
        19413
      ],
      "content": "Predictive models were built to estimate remaining useful life for"
    },
    {
      "pos": [
        19414,
        19483
      ],
      "content": "generators and temperature sensors. By predicting the probability of\n",
      "nodes": [
        {
          "content": "generators and temperature sensors.",
          "pos": [
            0,
            35
          ]
        },
        {
          "content": "By predicting the probability of",
          "pos": [
            36,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        19483,
        19553
      ],
      "content": "failure, maintenance technicians can focus on suspicious turbines that"
    },
    {
      "pos": [
        19554,
        19624
      ],
      "content": "are likely to fail soon to complement time based maintenance regimes.\n",
      "nodes": [
        {
          "content": "are likely to fail soon to complement time based maintenance regimes.",
          "pos": [
            0,
            69
          ]
        },
        {
          "content": "\n",
          "pos": [
            69,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        19624,
        19685
      ],
      "content": "Additionally, predictive models bring insight to the level of"
    },
    {
      "pos": [
        19686,
        19758
      ],
      "content": "contribution for different factors to the probability of a failure which"
    },
    {
      "pos": [
        19759,
        19829
      ],
      "content": "helps business to have a better understanding of the root cause of the"
    },
    {
      "pos": [
        19830,
        19839
      ],
      "content": "problems."
    },
    {
      "pos": [
        19846,
        19882
      ],
      "content": "Use Case 3: Circuit breaker failures"
    },
    {
      "pos": [
        19889,
        19924
      ],
      "content": "<bpt id=\"p12\">*</bpt>Business problem and data sources<ept id=\"p12\">*</ept>"
    },
    {
      "pos": [
        19925,
        19997
      ],
      "content": "Electricity and gas operations that include generation, distribution and"
    },
    {
      "pos": [
        19998,
        20068
      ],
      "content": "sale of electrical energy require significant amount of maintenance to"
    },
    {
      "pos": [
        20069,
        20141
      ],
      "content": "ensure power lines are operational at all times to guarantee delivery of"
    },
    {
      "pos": [
        20142,
        20213
      ],
      "content": "energy to households. Failure of such operations is critical as almost\n",
      "nodes": [
        {
          "content": "energy to households.",
          "pos": [
            0,
            21
          ]
        },
        {
          "content": "Failure of such operations is critical as almost",
          "pos": [
            22,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        20213,
        20280
      ],
      "content": "every entity is effected by power problems in the regions that they"
    },
    {
      "pos": [
        20281,
        20352
      ],
      "content": "occur. Circuit breakers are critical for such operations as they are a\n",
      "nodes": [
        {
          "content": "occur.",
          "pos": [
            0,
            6
          ]
        },
        {
          "content": "Circuit breakers are critical for such operations as they are a",
          "pos": [
            7,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        20352,
        20422
      ],
      "content": "piece of equipment that cut electrical current in case of problems and"
    },
    {
      "pos": [
        20423,
        20495
      ],
      "content": "short circuits to prevent any damage to power lines from happening. The\n",
      "nodes": [
        {
          "content": "short circuits to prevent any damage to power lines from happening.",
          "pos": [
            0,
            67
          ]
        },
        {
          "content": "The",
          "pos": [
            68,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        20495,
        20559
      ],
      "content": "business problem for this use case is to predict circuit breaker"
    },
    {
      "pos": [
        20560,
        20622
      ],
      "content": "failures given maintenance logs, command history and technical"
    },
    {
      "pos": [
        20623,
        20638
      ],
      "content": "specifications."
    },
    {
      "pos": [
        20640,
        20712
      ],
      "content": "Three major data sources for this case are maintenance logs that include"
    },
    {
      "pos": [
        20713,
        20781
      ],
      "content": "corrective, preventive and systematic actions, operational data that"
    },
    {
      "pos": [
        20782,
        20853
      ],
      "content": "includes automatic and manual commands send to circuit breakers such as"
    },
    {
      "pos": [
        20854,
        20923
      ],
      "content": "for open and close actions and technical specification data about the"
    },
    {
      "pos": [
        20924,
        20994
      ],
      "content": "properties of each circuit breaker such as year made, location, model,"
    },
    {
      "pos": [
        20995,
        20999
      ],
      "content": "etc."
    },
    {
      "pos": [
        21007,
        21047
      ],
      "content": "<bpt id=\"p13\">*</bpt>Business value of the predictive model<ept id=\"p13\">*</ept>"
    },
    {
      "pos": [
        21048,
        21118
      ],
      "content": "Predictive maintenance solutions help reduce repair costs and increase"
    },
    {
      "pos": [
        21119,
        21190
      ],
      "content": "the lifecycle of equipment such as circuit breakers. These models will\n",
      "nodes": [
        {
          "content": "the lifecycle of equipment such as circuit breakers.",
          "pos": [
            0,
            52
          ]
        },
        {
          "content": "These models will",
          "pos": [
            53,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        21190,
        21258
      ],
      "content": "also help improve the quality of the power network since models will"
    },
    {
      "pos": [
        21259,
        21326
      ],
      "content": "provide warnings ahead of time that will reduce unexpected failures"
    },
    {
      "pos": [
        21327,
        21380
      ],
      "content": "which will lead to less interruptions to the service."
    },
    {
      "pos": [
        21387,
        21421
      ],
      "content": "Use Case 4: Elevator door failures"
    },
    {
      "pos": [
        21428,
        21463
      ],
      "content": "<bpt id=\"p14\">*</bpt>Business problem and data sources<ept id=\"p14\">*</ept>"
    },
    {
      "pos": [
        21464,
        22503
      ],
      "content": "Most large elevator companies typically have millions of elevators running around the world. To gain a competitive edge, they focus on reliability which is what matters most to their customers. Drawing on the potential of the Internet of Things, by connecting their elevators to the cloud and gathering data from elevator sensors and systems, they will be able to transform data into valuable business intelligence which will vastly improve operations by offering predictive and preemptive maintenance that is not something that is available to the competitors yet. The business requirement for this case is to provide a knowledge base predictive application that will predict the potential causes of door failures. The required data for this implementation consists of three parts which are elevator static features (e.g. identifiers, contract maintenance frequency, building type, etc.), usage information (e.g. number of door cycles, average door close time, etc.) and failure history (i.e. historical failure records and their causes).",
      "nodes": [
        {
          "content": "Most large elevator companies typically have millions of elevators running around the world.",
          "pos": [
            0,
            92
          ]
        },
        {
          "content": "To gain a competitive edge, they focus on reliability which is what matters most to their customers.",
          "pos": [
            93,
            193
          ]
        },
        {
          "content": "Drawing on the potential of the Internet of Things, by connecting their elevators to the cloud and gathering data from elevator sensors and systems, they will be able to transform data into valuable business intelligence which will vastly improve operations by offering predictive and preemptive maintenance that is not something that is available to the competitors yet.",
          "pos": [
            194,
            565
          ]
        },
        {
          "content": "The business requirement for this case is to provide a knowledge base predictive application that will predict the potential causes of door failures.",
          "pos": [
            566,
            715
          ]
        },
        {
          "content": "The required data for this implementation consists of three parts which are elevator static features (e.g. identifiers, contract maintenance frequency, building type, etc.), usage information (e.g. number of door cycles, average door close time, etc.) and failure history (i.e. historical failure records and their causes).",
          "pos": [
            716,
            1039
          ]
        }
      ]
    },
    {
      "pos": [
        22505,
        22572
      ],
      "content": "A multiclass logistic regression model was built with Azure Machine"
    },
    {
      "pos": [
        22573,
        22641
      ],
      "content": "Learning to solve the prediction problem, with the integrated static"
    },
    {
      "pos": [
        22642,
        22707
      ],
      "content": "features and usage data as features, and the causes of historical"
    },
    {
      "pos": [
        22708,
        22780
      ],
      "content": "failure records as class labels. This predictive model will be consumed\n",
      "nodes": [
        {
          "content": "failure records as class labels.",
          "pos": [
            0,
            32
          ]
        },
        {
          "content": "This predictive model will be consumed",
          "pos": [
            33,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        22780,
        22851
      ],
      "content": "by an app on a mobile device which will be used by field technicians to"
    },
    {
      "pos": [
        22852,
        22919
      ],
      "content": "help improve working efficiency. When a technician goes on site to\n",
      "nodes": [
        {
          "content": "help improve working efficiency.",
          "pos": [
            0,
            32
          ]
        },
        {
          "content": "When a technician goes on site to",
          "pos": [
            33,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        22919,
        22990
      ],
      "content": "repair an elevator, he/she can refer to this app for recommended causes"
    },
    {
      "pos": [
        22991,
        23059
      ],
      "content": "and best courses of maintenance actions to fix the elevator doors as"
    },
    {
      "pos": [
        23060,
        23077
      ],
      "content": "fast as possible."
    },
    {
      "pos": [
        23083,
        23111
      ],
      "content": "Transportation and logistics"
    },
    {
      "pos": [
        23117,
        23148
      ],
      "content": "Use Case 1: Brake disc failures"
    },
    {
      "pos": [
        23155,
        23190
      ],
      "content": "<bpt id=\"p15\">*</bpt>Business problem and data sources<ept id=\"p15\">*</ept>"
    },
    {
      "pos": [
        23191,
        23255
      ],
      "content": "Typical maintenance policies for vehicles include corrective and"
    },
    {
      "pos": [
        23256,
        23328
      ],
      "content": "preventive maintenance. Corrective maintenance implies that the vehicle\n",
      "nodes": [
        {
          "content": "preventive maintenance.",
          "pos": [
            0,
            23
          ]
        },
        {
          "content": "Corrective maintenance implies that the vehicle",
          "pos": [
            24,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        23328,
        23393
      ],
      "content": "is repaired after a failure has occurred which can cause a severe"
    },
    {
      "pos": [
        23394,
        23466
      ],
      "content": "inconvenience to the driver as a result of an unexpected malfunction and"
    },
    {
      "pos": [
        23467,
        23538
      ],
      "content": "the time wasted on a visit to mechanic. Most vehicles are also subject\n",
      "nodes": [
        {
          "content": "the time wasted on a visit to mechanic.",
          "pos": [
            0,
            39
          ]
        },
        {
          "content": "Most vehicles are also subject",
          "pos": [
            40,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        23538,
        23607
      ],
      "content": "to a preventive maintenance policy, which requires performing certain"
    },
    {
      "pos": [
        23608,
        23677
      ],
      "content": "inspections at a schedule which does not take into account the actual"
    },
    {
      "pos": [
        23678,
        23751
      ],
      "content": "condition of the car subsystems. None of these approaches are successful\n",
      "nodes": [
        {
          "content": "condition of the car subsystems.",
          "pos": [
            0,
            32
          ]
        },
        {
          "content": "None of these approaches are successful",
          "pos": [
            33,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        23751,
        23823
      ],
      "content": "in fully eliminating problems. The specific use case here is brake disc\n",
      "nodes": [
        {
          "content": "in fully eliminating problems.",
          "pos": [
            0,
            30
          ]
        },
        {
          "content": "The specific use case here is brake disc",
          "pos": [
            31,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        23823,
        23894
      ],
      "content": "failure prediction based on data collected through sensors installed in"
    },
    {
      "pos": [
        23895,
        23968
      ],
      "content": "the tire system of a car which keeps track of historical driving patterns"
    },
    {
      "pos": [
        23969,
        24042
      ],
      "content": "and other conditions that the car is exposed to. The most important data\n",
      "nodes": [
        {
          "content": "and other conditions that the car is exposed to.",
          "pos": [
            0,
            48
          ]
        },
        {
          "content": "The most important data",
          "pos": [
            49,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        24042,
        24109
      ],
      "content": "source for this case is the sensor data that measure, for instance,"
    },
    {
      "pos": [
        24110,
        24181
      ],
      "content": "accelerations, braking patterns, driving distances, velocity, etc. This"
    },
    {
      "pos": [
        24182,
        24254
      ],
      "content": "information, coupled with other static information such as car features,"
    },
    {
      "pos": [
        24255,
        24343
      ],
      "content": "help build a good set of predictors that can be used in a predictive model. Another set\n",
      "nodes": [
        {
          "content": "help build a good set of predictors that can be used in a predictive model.",
          "pos": [
            0,
            75
          ]
        },
        {
          "content": "Another set",
          "pos": [
            76,
            87
          ]
        }
      ]
    },
    {
      "pos": [
        24343,
        24414
      ],
      "content": "of essential information is the failure data which is inferred from the"
    },
    {
      "pos": [
        24415,
        24479
      ],
      "content": "part order database (used to keep the spare part order dates and"
    },
    {
      "pos": [
        24480,
        24538
      ],
      "content": "quantities as cars are being serviced in the dealerships)."
    },
    {
      "pos": [
        24546,
        24586
      ],
      "content": "<bpt id=\"p16\">*</bpt>Business value of the predictive model<ept id=\"p16\">*</ept>"
    },
    {
      "pos": [
        24587,
        24654
      ],
      "content": "The business value of a predictive approach here is substantial. A\n",
      "nodes": [
        {
          "content": "The business value of a predictive approach here is substantial.",
          "pos": [
            0,
            64
          ]
        },
        {
          "content": "A",
          "pos": [
            65,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        24654,
        24724
      ],
      "content": "predictive maintenance system can schedule a visit to the dealer based"
    },
    {
      "pos": [
        24725,
        24819
      ],
      "content": "on a predictive model. The model can be based on sensory information that is representing the\n",
      "nodes": [
        {
          "content": "on a predictive model.",
          "pos": [
            0,
            22
          ]
        },
        {
          "content": "The model can be based on sensory information that is representing the",
          "pos": [
            23,
            93
          ]
        }
      ]
    },
    {
      "pos": [
        24819,
        24863
      ],
      "content": "current condition of the car and the driving"
    },
    {
      "pos": [
        24864,
        24933
      ],
      "content": "history. This approach can minimize the risk of unexpected failures,\n",
      "nodes": [
        {
          "content": "history.",
          "pos": [
            0,
            8
          ]
        },
        {
          "content": "This approach can minimize the risk of unexpected failures,",
          "pos": [
            9,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        24933,
        24995
      ],
      "content": "which may as well occur before the next periodic maintenance.\n",
      "nodes": [
        {
          "content": "which may as well occur before the next periodic maintenance.",
          "pos": [
            0,
            61
          ]
        },
        {
          "content": "\n",
          "pos": [
            61,
            62
          ]
        }
      ]
    },
    {
      "pos": [
        24995,
        25062
      ],
      "content": "It can also reduce the amount of unnecessary preventive maintenance"
    },
    {
      "pos": [
        25063,
        25133
      ],
      "content": "activities. Driver can proactively be informed that a change of parts\n",
      "nodes": [
        {
          "content": "activities.",
          "pos": [
            0,
            11
          ]
        },
        {
          "content": "Driver can proactively be informed that a change of parts",
          "pos": [
            12,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        25133,
        25198
      ],
      "content": "might be necessary in a few weeks and supply the dealer with that"
    },
    {
      "pos": [
        25199,
        25268
      ],
      "content": "information. The dealer could than prepare an individual maintenance\n",
      "nodes": [
        {
          "content": "information.",
          "pos": [
            0,
            12
          ]
        },
        {
          "content": "The dealer could than prepare an individual maintenance",
          "pos": [
            13,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        25268,
        25302
      ],
      "content": "package for the driver in advance."
    },
    {
      "pos": [
        25309,
        25347
      ],
      "content": "Use Case 2: Subway train door failures"
    },
    {
      "pos": [
        25354,
        25389
      ],
      "content": "<bpt id=\"p17\">*</bpt>Business problem and data sources<ept id=\"p17\">*</ept>"
    },
    {
      "pos": [
        25390,
        25461
      ],
      "content": "One of the major reasons of delays and problems on subway operations is"
    },
    {
      "pos": [
        25462,
        25533
      ],
      "content": "door failures of train cars. Predicting if a train car may have a door\n",
      "nodes": [
        {
          "content": "door failures of train cars.",
          "pos": [
            0,
            28
          ]
        },
        {
          "content": "Predicting if a train car may have a door",
          "pos": [
            29,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        25533,
        25600
      ],
      "content": "failure, or being able to forecast the number of days till the next"
    },
    {
      "pos": [
        25601,
        25677
      ],
      "content": "door failure, is extremely important foresight. It provides the opportunity\n",
      "nodes": [
        {
          "content": "door failure, is extremely important foresight.",
          "pos": [
            0,
            47
          ]
        },
        {
          "content": "It provides the opportunity",
          "pos": [
            48,
            75
          ]
        }
      ]
    },
    {
      "pos": [
        25677,
        25743
      ],
      "content": "to optimize train door servicing and reduce the train's down time."
    },
    {
      "pos": [
        25750,
        25762
      ],
      "content": "Data sources"
    },
    {
      "pos": [
        25764,
        25797
      ],
      "content": "Three sources of data in this use"
    },
    {
      "pos": [
        25798,
        25868
      ],
      "content": "case are train event data which is historical records of train events,"
    },
    {
      "pos": [
        25869,
        25939
      ],
      "content": "maintenance data such as maintenance types, work order types, priority"
    },
    {
      "pos": [
        25940,
        25974
      ],
      "content": "codes etc and records of failures."
    },
    {
      "pos": [
        25982,
        26022
      ],
      "content": "<bpt id=\"p18\">*</bpt>Business value of the predictive model<ept id=\"p18\">*</ept>"
    },
    {
      "pos": [
        26023,
        26090
      ],
      "content": "Two models were built to predict next day failure probability using"
    },
    {
      "pos": [
        26091,
        26164
      ],
      "content": "binary classification and days till failure using regression. Similar to\n",
      "nodes": [
        {
          "content": "binary classification and days till failure using regression.",
          "pos": [
            0,
            61
          ]
        },
        {
          "content": "Similar to",
          "pos": [
            62,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        26164,
        26234
      ],
      "content": "the earlier cases, the models create tremendous opportunity to improve"
    },
    {
      "pos": [
        26235,
        26305
      ],
      "content": "quality of service and increase customer satisfaction by complementing"
    },
    {
      "pos": [
        26306,
        26338
      ],
      "content": "the regular maintenance regimes."
    },
    {
      "pos": [
        26343,
        26359
      ],
      "content": "Data preparation"
    },
    {
      "pos": [
        26364,
        26376
      ],
      "content": "Data sources"
    },
    {
      "pos": [
        26377,
        26444
      ],
      "content": "The common data elements for predictive maintenance problems can be"
    },
    {
      "pos": [
        26445,
        26467
      ],
      "content": "summarized as follows:"
    },
    {
      "pos": [
        26472,
        26558
      ],
      "leadings": [
        "",
        "    "
      ],
      "content": "Failure history: The failure history of a machine or component\nwithin the machine."
    },
    {
      "pos": [
        26563,
        26697
      ],
      "leadings": [
        "",
        "    "
      ],
      "content": "Maintenance history: The repair history of a machine, e.g. error\ncodes, previous maintenance activities or component replacements."
    },
    {
      "pos": [
        26702,
        26807
      ],
      "leadings": [
        "",
        "    "
      ],
      "content": "Machine conditions and usage: The operating conditions of a\nmachine e.g. data collected from sensors."
    },
    {
      "pos": [
        26812,
        26904
      ],
      "leadings": [
        "",
        "    "
      ],
      "content": "Machine features: The features of a machine, e.g. engine size, make\nand model, location."
    },
    {
      "pos": [
        26909,
        26991
      ],
      "leadings": [
        "",
        "    "
      ],
      "content": "Operator features: The features of the operator, e.g. gender,\npast experience."
    },
    {
      "pos": [
        26993,
        27065
      ],
      "content": "It is possible and usually the case that failure history is contained in"
    },
    {
      "pos": [
        27066,
        27137
      ],
      "content": "maintenance history such as in the form of special error codes or order"
    },
    {
      "pos": [
        27138,
        27208
      ],
      "content": "dates for spare parts. In those cases, failures can be extracted from\n",
      "nodes": [
        {
          "content": "dates for spare parts.",
          "pos": [
            0,
            22
          ]
        },
        {
          "content": "In those cases, failures can be extracted from",
          "pos": [
            23,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        27208,
        27280
      ],
      "content": "the maintenance data. Additionally, different business domains may have\n",
      "nodes": [
        {
          "content": "the maintenance data.",
          "pos": [
            0,
            21
          ]
        },
        {
          "content": "Additionally, different business domains may have",
          "pos": [
            22,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        27280,
        27349
      ],
      "content": "a variety of other data sources that influence failure patterns which"
    },
    {
      "pos": [
        27350,
        27414
      ],
      "content": "are not listed here exhaustively. These should be identified by\n",
      "nodes": [
        {
          "content": "are not listed here exhaustively.",
          "pos": [
            0,
            33
          ]
        },
        {
          "content": "These should be identified by",
          "pos": [
            34,
            63
          ]
        }
      ]
    },
    {
      "pos": [
        27414,
        27476
      ],
      "content": "consulting the domain experts when building predictive models."
    },
    {
      "pos": [
        27478,
        27534
      ],
      "content": "Some examples of above data elements from use cases are:"
    },
    {
      "pos": [
        27536,
        27608
      ],
      "content": "Failure history: fight delay dates, aircraft component failure dates and"
    },
    {
      "pos": [
        27609,
        27677
      ],
      "content": "types, ATM cash withdrawal transaction failures, train/elevator door"
    },
    {
      "pos": [
        27678,
        27750
      ],
      "content": "failures, brake disk replacement order dates, wind turbine failure dates"
    },
    {
      "pos": [
        27751,
        27788
      ],
      "content": "and circuit breaker command failures."
    },
    {
      "pos": [
        27790,
        27857
      ],
      "content": "Maintenance history: Flight error logs, ATM transaction error logs,"
    },
    {
      "pos": [
        27858,
        27929
      ],
      "content": "train maintenance records including maintenance type, short description"
    },
    {
      "pos": [
        27930,
        27975
      ],
      "content": "etc. and circuit breaker maintenance records."
    },
    {
      "pos": [
        27977,
        28043
      ],
      "content": "Machine conditions and usage: Flight routes and times, sensor data"
    },
    {
      "pos": [
        28044,
        28115
      ],
      "content": "collected from aircraft engines, sensor readings from ATM transactions,"
    },
    {
      "pos": [
        28116,
        28184
      ],
      "content": "train events data, sensor readings from wind turbines, elevators and"
    },
    {
      "pos": [
        28185,
        28200
      ],
      "content": "connected cars."
    },
    {
      "pos": [
        28202,
        28268
      ],
      "content": "Machine features: Circuit breaker technical specifications such as"
    },
    {
      "pos": [
        28269,
        28340
      ],
      "content": "voltage levels, geolocation or car features such as make, model, engine"
    },
    {
      "pos": [
        28341,
        28383
      ],
      "content": "size, tire types, production facility etc."
    },
    {
      "pos": [
        28385,
        28452
      ],
      "content": "Given the above data sources, the two main data types we observe in"
    },
    {
      "pos": [
        28453,
        28518
      ],
      "content": "predictive maintenance domain are temporal data and static data.\n",
      "nodes": [
        {
          "content": "predictive maintenance domain are temporal data and static data.",
          "pos": [
            0,
            64
          ]
        },
        {
          "content": "\n",
          "pos": [
            64,
            65
          ]
        }
      ]
    },
    {
      "pos": [
        28518,
        28584
      ],
      "content": "Failure history, machine conditions, repair history, usage history"
    },
    {
      "pos": [
        28585,
        28654
      ],
      "content": "almost always come with time-stamps indicating the time of collection"
    },
    {
      "pos": [
        28655,
        28721
      ],
      "content": "for each piece of data. Machine features and operator features in\n",
      "nodes": [
        {
          "content": "for each piece of data.",
          "pos": [
            0,
            23
          ]
        },
        {
          "content": "Machine features and operator features in",
          "pos": [
            24,
            65
          ]
        }
      ]
    },
    {
      "pos": [
        28721,
        28781
      ],
      "content": "general are static since they usually describe the technical"
    },
    {
      "pos": [
        28782,
        28854
      ],
      "content": "specifications of machines or operator’s properties. It is possible for\n",
      "nodes": [
        {
          "content": "specifications of machines or operator’s properties.",
          "pos": [
            0,
            52
          ]
        },
        {
          "content": "It is possible for",
          "pos": [
            53,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        28854,
        28924
      ],
      "content": "these features to change over time and if so they should be treated as"
    },
    {
      "pos": [
        28925,
        28951
      ],
      "content": "time stamped data sources."
    },
    {
      "pos": [
        28957,
        28977
      ],
      "content": "Merging data sources"
    },
    {
      "pos": [
        28979,
        29051
      ],
      "content": "Before getting into any type of feature engineering or labeling process,"
    },
    {
      "pos": [
        29052,
        29116
      ],
      "content": "we need to first prepare our data in the form required to create"
    },
    {
      "pos": [
        29117,
        29188
      ],
      "content": "features from. The ultimate goal is to generate a record for each time\n",
      "nodes": [
        {
          "content": "features from.",
          "pos": [
            0,
            14
          ]
        },
        {
          "content": "The ultimate goal is to generate a record for each time",
          "pos": [
            15,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        29188,
        29255
      ],
      "content": "unit for each asset with its features and labels to be fed into the"
    },
    {
      "pos": [
        29256,
        29326
      ],
      "content": "machine learning algorithm. In order to prepare that clean final data\n",
      "nodes": [
        {
          "content": "machine learning algorithm.",
          "pos": [
            0,
            27
          ]
        },
        {
          "content": "In order to prepare that clean final data",
          "pos": [
            28,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        29326,
        29398
      ],
      "content": "set, some pre-processing steps should be taken. First step is to divide\n",
      "nodes": [
        {
          "content": "set, some pre-processing steps should be taken.",
          "pos": [
            0,
            47
          ]
        },
        {
          "content": "First step is to divide",
          "pos": [
            48,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        29398,
        29463
      ],
      "content": "the duration of data collection into time units where each record"
    },
    {
      "pos": [
        29464,
        29537
      ],
      "content": "belongs to a time unit for an asset. Data collection can also be divided\n",
      "nodes": [
        {
          "content": "belongs to a time unit for an asset.",
          "pos": [
            0,
            36
          ]
        },
        {
          "content": "Data collection can also be divided",
          "pos": [
            37,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        29537,
        29609
      ],
      "content": "into other units such as actions however for simplicity we will use time"
    },
    {
      "pos": [
        29610,
        29648
      ],
      "content": "unit for the rest of the explanations."
    },
    {
      "pos": [
        29650,
        29720
      ],
      "content": "The measurement unit for time can be in seconds, minutes, hours, days,"
    },
    {
      "pos": [
        29721,
        29789
      ],
      "content": "months, cycles, miles or transactions depending on the efficiency of"
    },
    {
      "pos": [
        29790,
        29862
      ],
      "content": "data preparation and the changes observed in the conditions of the asset"
    },
    {
      "pos": [
        29863,
        29934
      ],
      "content": "from a time unit to the other or other factors specific to the domain.\n",
      "nodes": [
        {
          "content": "from a time unit to the other or other factors specific to the domain.",
          "pos": [
            0,
            70
          ]
        },
        {
          "content": "\n",
          "pos": [
            70,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        29934,
        29999
      ],
      "content": "In other words, the time unit does not have to be the same as the"
    },
    {
      "pos": [
        30000,
        30067
      ],
      "content": "frequency of data collection as in many cases data may not show any"
    },
    {
      "pos": [
        30068,
        30135
      ],
      "content": "difference from one unit to the other. For example, if temperature\n",
      "nodes": [
        {
          "content": "difference from one unit to the other.",
          "pos": [
            0,
            38
          ]
        },
        {
          "content": "For example, if temperature",
          "pos": [
            39,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        30135,
        30206
      ],
      "content": "values were being collected every 10 seconds, picking a time unit of 10"
    },
    {
      "pos": [
        30207,
        30273
      ],
      "content": "seconds for the whole analysis will inflate the number of examples"
    },
    {
      "pos": [
        30274,
        30345
      ],
      "content": "without providing any additional information. Better strategy would be\n",
      "nodes": [
        {
          "content": "without providing any additional information.",
          "pos": [
            0,
            45
          ]
        },
        {
          "content": "Better strategy would be",
          "pos": [
            46,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        30345,
        30387
      ],
      "content": "to use average over an hour as an example."
    },
    {
      "pos": [
        30389,
        30460
      ],
      "content": "Example generic data schemas for the possible data sources explained in"
    },
    {
      "pos": [
        30461,
        30485
      ],
      "content": "the earlier section are:"
    },
    {
      "pos": [
        30487,
        30552
      ],
      "content": "Maintenance records: These are the records of maintenance actions"
    },
    {
      "pos": [
        30553,
        30624
      ],
      "content": "performed. The raw maintenance data usually comes with an Asset ID and\n",
      "nodes": [
        {
          "content": "performed.",
          "pos": [
            0,
            10
          ]
        },
        {
          "content": "The raw maintenance data usually comes with an Asset ID and",
          "pos": [
            11,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        30624,
        30695
      ],
      "content": "time stamp with information about what maintenance activities have been"
    },
    {
      "pos": [
        30696,
        30769
      ],
      "content": "performed at that time. In case of such raw data, maintenance activities\n",
      "nodes": [
        {
          "content": "performed at that time.",
          "pos": [
            0,
            23
          ]
        },
        {
          "content": "In case of such raw data, maintenance activities",
          "pos": [
            24,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        30769,
        30834
      ],
      "content": "need to be translated into categorical columns with each category"
    },
    {
      "pos": [
        30835,
        30905
      ],
      "content": "corresponding to a maintenance action type. The basic data schema for\n",
      "nodes": [
        {
          "content": "corresponding to a maintenance action type.",
          "pos": [
            0,
            43
          ]
        },
        {
          "content": "The basic data schema for",
          "pos": [
            44,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        30905,
        30976
      ],
      "content": "maintenance records would include asset ID, time and maintenance action"
    },
    {
      "pos": [
        30977,
        30985
      ],
      "content": "columns."
    },
    {
      "pos": [
        30987,
        31054
      ],
      "content": "Failure records: These are the records that belong to the target of"
    },
    {
      "pos": [
        31055,
        31121
      ],
      "content": "prediction which we call failures or failure reason. These can be\n",
      "nodes": [
        {
          "content": "prediction which we call failures or failure reason.",
          "pos": [
            0,
            52
          ]
        },
        {
          "content": "These can be",
          "pos": [
            53,
            65
          ]
        }
      ]
    },
    {
      "pos": [
        31121,
        31192
      ],
      "content": "specific error codes or events of failures defined by specific business"
    },
    {
      "pos": [
        31193,
        31262
      ],
      "content": "condition. In some cases, data includes multiple error codes some of\n",
      "nodes": [
        {
          "content": "condition.",
          "pos": [
            0,
            10
          ]
        },
        {
          "content": "In some cases, data includes multiple error codes some of",
          "pos": [
            11,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        31262,
        31333
      ],
      "content": "which correspond to failures of interest. Not all errors are target of\n",
      "nodes": [
        {
          "content": "which correspond to failures of interest.",
          "pos": [
            0,
            41
          ]
        },
        {
          "content": "Not all errors are target of",
          "pos": [
            42,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        31333,
        31403
      ],
      "content": "prediction so other errors are usually used to construct features that"
    },
    {
      "pos": [
        31404,
        31475
      ],
      "content": "may correlate with failures. The basic data schema for failure records\n",
      "nodes": [
        {
          "content": "may correlate with failures.",
          "pos": [
            0,
            28
          ]
        },
        {
          "content": "The basic data schema for failure records",
          "pos": [
            29,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        31475,
        31544
      ],
      "content": "would include asset ID, time and failure or failure reason columns if"
    },
    {
      "pos": [
        31545,
        31565
      ],
      "content": "reason is available."
    },
    {
      "pos": [
        31567,
        31639
      ],
      "content": "Machine conditions: These are preferably real-time monitoring data about"
    },
    {
      "pos": [
        31640,
        31710
      ],
      "content": "the operating conditions of the data. For example, for door failures,\n",
      "nodes": [
        {
          "content": "the operating conditions of the data.",
          "pos": [
            0,
            37
          ]
        },
        {
          "content": "For example, for door failures,",
          "pos": [
            38,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        31710,
        31778
      ],
      "content": "door opening and closing times are good indicators about the current"
    },
    {
      "pos": [
        31779,
        31850
      ],
      "content": "condition of doors. The basic data schema for machine conditions would\n",
      "nodes": [
        {
          "content": "condition of doors.",
          "pos": [
            0,
            19
          ]
        },
        {
          "content": "The basic data schema for machine conditions would",
          "pos": [
            20,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        31850,
        31901
      ],
      "content": "include asset ID, time and condition value columns."
    },
    {
      "pos": [
        31903,
        31974
      ],
      "content": "Machine and operator data: Machine and operator data can be merged into"
    },
    {
      "pos": [
        31975,
        32046
      ],
      "content": "one schema to identify which asset was operated by which operator along"
    },
    {
      "pos": [
        32047,
        32119
      ],
      "content": "with asset and operator properties. For example, a car is usually owned\n",
      "nodes": [
        {
          "content": "with asset and operator properties.",
          "pos": [
            0,
            35
          ]
        },
        {
          "content": "For example, a car is usually owned",
          "pos": [
            36,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        32119,
        32191
      ],
      "content": "by a driver with attributes such as age, driving experience etc. If this"
    },
    {
      "pos": [
        32192,
        32263
      ],
      "content": "data changes over time, this data should also include a time column and"
    },
    {
      "pos": [
        32264,
        32337
      ],
      "content": "should be treated as time varying data for feature generation. The basic\n",
      "nodes": [
        {
          "content": "should be treated as time varying data for feature generation.",
          "pos": [
            0,
            62
          ]
        },
        {
          "content": "The basic",
          "pos": [
            63,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        32337,
        32401
      ],
      "content": "data schema for machine conditions would include asset ID, asset"
    },
    {
      "pos": [
        32402,
        32446
      ],
      "content": "features, operator ID and operator features."
    },
    {
      "pos": [
        32448,
        32519
      ],
      "content": "The final table before labeling and feature generation can be generated"
    },
    {
      "pos": [
        32520,
        32590
      ],
      "content": "by left joining machine conditions table with failure records on Asset"
    },
    {
      "pos": [
        32591,
        32658
      ],
      "content": "ID and time fields. This table can then be joined with maintenance\n",
      "nodes": [
        {
          "content": "ID and time fields.",
          "pos": [
            0,
            19
          ]
        },
        {
          "content": "This table can then be joined with maintenance",
          "pos": [
            20,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        32658,
        32722
      ],
      "content": "records on Asset ID and Time fields and finally with machine and"
    },
    {
      "pos": [
        32723,
        32790
      ],
      "content": "operator features on Asset ID. The first left join will leave null\n",
      "nodes": [
        {
          "content": "operator features on Asset ID.",
          "pos": [
            0,
            30
          ]
        },
        {
          "content": "The first left join will leave null",
          "pos": [
            31,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        32790,
        32862
      ],
      "content": "values for failure column when machine is in normal operation, these can"
    },
    {
      "pos": [
        32863,
        32931
      ],
      "content": "be imputed by an indicator value for normal operation. This failure\n",
      "nodes": [
        {
          "content": "be imputed by an indicator value for normal operation.",
          "pos": [
            0,
            54
          ]
        },
        {
          "content": "This failure",
          "pos": [
            55,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        32931,
        32993
      ],
      "content": "column will be used to create labels for the predictive model."
    },
    {
      "pos": [
        32999,
        33018
      ],
      "content": "Feature engineering"
    },
    {
      "pos": [
        33019,
        33070
      ],
      "content": "The first step in modeling is feature engineering.\n",
      "nodes": [
        {
          "content": "The first step in modeling is feature engineering.",
          "pos": [
            0,
            50
          ]
        },
        {
          "content": "\n",
          "pos": [
            50,
            51
          ]
        }
      ]
    },
    {
      "pos": [
        33070,
        33119
      ],
      "content": "The idea of feature generation is to conceptually"
    },
    {
      "pos": [
        33120,
        33192
      ],
      "content": "describe and abstract a machine’s health condition at a given time using"
    },
    {
      "pos": [
        33193,
        33266
      ],
      "content": "historical data that was collected up to that point in time. In the next\n",
      "nodes": [
        {
          "content": "historical data that was collected up to that point in time.",
          "pos": [
            0,
            60
          ]
        },
        {
          "content": "In the next",
          "pos": [
            61,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        33266,
        33335
      ],
      "content": "section, we provide an overview of the type of techniques that can be"
    },
    {
      "pos": [
        33336,
        33405
      ],
      "content": "used for predictive maintenance and how the labeling is done for each"
    },
    {
      "pos": [
        33406,
        33479
      ],
      "content": "technique. The exact technique that should be used will highly depend on\n",
      "nodes": [
        {
          "content": "technique.",
          "pos": [
            0,
            10
          ]
        },
        {
          "content": "The exact technique that should be used will highly depend on",
          "pos": [
            11,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        33479,
        33551
      ],
      "content": "the data and business problem. However, the feature engineering methods\n",
      "nodes": [
        {
          "content": "the data and business problem.",
          "pos": [
            0,
            30
          ]
        },
        {
          "content": "However, the feature engineering methods",
          "pos": [
            31,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        33551,
        33624
      ],
      "content": "described below can be used as baseline for creating features. Below, we\n",
      "nodes": [
        {
          "content": "described below can be used as baseline for creating features.",
          "pos": [
            0,
            62
          ]
        },
        {
          "content": "Below, we",
          "pos": [
            63,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        33624,
        33694
      ],
      "content": "discuss lag features that should be constructed from data sources that"
    },
    {
      "pos": [
        33695,
        33766
      ],
      "content": "come with time-stamps and also static features created from static data"
    },
    {
      "pos": [
        33767,
        33815
      ],
      "content": "sources and provide examples from the use cases."
    },
    {
      "pos": [
        33822,
        33834
      ],
      "content": "Lag features"
    },
    {
      "pos": [
        33835,
        33907
      ],
      "content": "As mentioned earlier, in predictive maintenance, historical data usually"
    },
    {
      "pos": [
        33908,
        33978
      ],
      "content": "comes with timestamps indicating the time of collection for each piece"
    },
    {
      "pos": [
        33979,
        34048
      ],
      "content": "of data. There are many ways of creating features from the data that\n",
      "nodes": [
        {
          "content": "of data.",
          "pos": [
            0,
            8
          ]
        },
        {
          "content": "There are many ways of creating features from the data that",
          "pos": [
            9,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        34048,
        34127
      ],
      "content": "comes with timestamped data. In this section, we discuss some of these methods\n",
      "nodes": [
        {
          "content": "comes with timestamped data.",
          "pos": [
            0,
            28
          ]
        },
        {
          "content": "In this section, we discuss some of these methods",
          "pos": [
            29,
            78
          ]
        }
      ]
    },
    {
      "pos": [
        34127,
        34197
      ],
      "content": "used for predictive maintenance. However, we are not limited by these\n",
      "nodes": [
        {
          "content": "used for predictive maintenance.",
          "pos": [
            0,
            32
          ]
        },
        {
          "content": "However, we are not limited by these",
          "pos": [
            33,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        34197,
        34274
      ],
      "content": "methods alone. Since feature engineering is considered to be one of the most\n",
      "nodes": [
        {
          "content": "methods alone.",
          "pos": [
            0,
            14
          ]
        },
        {
          "content": "Since feature engineering is considered to be one of the most",
          "pos": [
            15,
            76
          ]
        }
      ]
    },
    {
      "pos": [
        34274,
        34343
      ],
      "content": "creative areas of predictive modeling, there could be many other ways"
    },
    {
      "pos": [
        34344,
        34405
      ],
      "content": "to create features. Here, we provide some general techniques.",
      "nodes": [
        {
          "content": "to create features.",
          "pos": [
            0,
            19
          ]
        },
        {
          "content": "Here, we provide some general techniques.",
          "pos": [
            20,
            61
          ]
        }
      ]
    },
    {
      "pos": [
        34413,
        34433
      ],
      "content": "<bpt id=\"p19\">*</bpt>Rolling aggregates<ept id=\"p19\">*</ept>"
    },
    {
      "pos": [
        34434,
        34505
      ],
      "content": "For each record of an asset, we pick a rolling window of size \"W\" which"
    },
    {
      "pos": [
        34506,
        34577
      ],
      "content": "is the number of units of time that we would like to compute historical"
    },
    {
      "pos": [
        34578,
        34649
      ],
      "content": "aggregates for. We then compute rolling aggregate features using the W\n",
      "nodes": [
        {
          "content": "aggregates for.",
          "pos": [
            0,
            15
          ]
        },
        {
          "content": "We then compute rolling aggregate features using the W",
          "pos": [
            16,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        34649,
        34721
      ],
      "content": "periods before the date of that record. Some example rolling aggregates\n",
      "nodes": [
        {
          "content": "periods before the date of that record.",
          "pos": [
            0,
            39
          ]
        },
        {
          "content": "Some example rolling aggregates",
          "pos": [
            40,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        34721,
        34789
      ],
      "content": "can be rolling counts, means, standard deviations, outliers based on"
    },
    {
      "pos": [
        34790,
        34861
      ],
      "content": "standard deviations, CUSUM measures, minimum and maximum values for the"
    },
    {
      "pos": [
        34862,
        34929
      ],
      "content": "window. Another interesting technique is to capture trend changes,\n",
      "nodes": [
        {
          "content": "window.",
          "pos": [
            0,
            7
          ]
        },
        {
          "content": "Another interesting technique is to capture trend changes,",
          "pos": [
            8,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        34929,
        35000
      ],
      "content": "spikes and level changes using algorithms that detect anomalies in data"
    },
    {
      "pos": [
        35001,
        35036
      ],
      "content": "using anomaly detection algorithms."
    },
    {
      "pos": [
        35038,
        35102
      ],
      "content": "For demonstration, see Figure 1 where we represent sensor values"
    },
    {
      "pos": [
        35103,
        35175
      ],
      "content": "recorded for an asset for each unit of time with the blue lines and mark"
    },
    {
      "pos": [
        35176,
        35244
      ],
      "content": "the rolling average feature calculation for W=3 for the records at t"
    },
    {
      "pos": [
        35249,
        35250
      ],
      "content": "1"
    },
    {
      "pos": [
        35257,
        35262
      ],
      "content": "and t"
    },
    {
      "pos": [
        35267,
        35268
      ],
      "content": "2"
    },
    {
      "pos": [
        35275,
        35338
      ],
      "content": "which are indicated by orange and green groupings respectively."
    },
    {
      "pos": [
        35340,
        35467
      ],
      "content": "<ph id=\"ph3\">![</ph>Figure 1. Rolling aggregate features<ph id=\"ph4\">](media/cortana-analytics-playbook-predictive-maintenance/rolling-aggregate-features.png)</ph>",
      "nodes": [
        {
          "content": "<ph id=\"ph3\">![</ph>Figure 1.",
          "pos": [
            0,
            29
          ]
        },
        {
          "content": "Rolling aggregate features<ph id=\"ph4\">](media/cortana-analytics-playbook-predictive-maintenance/rolling-aggregate-features.png)</ph>",
          "pos": [
            30,
            163
          ]
        }
      ]
    },
    {
      "pos": [
        35469,
        35505
      ],
      "content": "Figure 1. Rolling aggregate features",
      "nodes": [
        {
          "content": "Figure 1.",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "Rolling aggregate features",
          "pos": [
            10,
            36
          ]
        }
      ]
    },
    {
      "pos": [
        35507,
        35575
      ],
      "content": "As examples, for aircraft component failure, sensor values from last"
    },
    {
      "pos": [
        35576,
        35645
      ],
      "content": "week, last three days and last day were used to create rolling means,"
    },
    {
      "pos": [
        35646,
        35717
      ],
      "content": "standard deviation and sum features. Similarly, for ATM failures, both\n",
      "nodes": [
        {
          "content": "standard deviation and sum features.",
          "pos": [
            0,
            36
          ]
        },
        {
          "content": "Similarly, for ATM failures, both",
          "pos": [
            37,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        35717,
        35789
      ],
      "content": "raw sensor values and rolling means, median, range, standard deviations,"
    },
    {
      "pos": [
        35790,
        35858
      ],
      "content": "number of outliers beyond three standard deviations, upper and lower"
    },
    {
      "pos": [
        35859,
        35885
      ],
      "content": "CUMSUM features were used."
    },
    {
      "pos": [
        35887,
        35957
      ],
      "content": "For flight delay prediction, counts of error codes from last week were"
    },
    {
      "pos": [
        35958,
        36029
      ],
      "content": "used to create features. For train door failures, counts of the events\n",
      "nodes": [
        {
          "content": "used to create features.",
          "pos": [
            0,
            24
          ]
        },
        {
          "content": "For train door failures, counts of the events",
          "pos": [
            25,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        36029,
        36101
      ],
      "content": "on the last day, counts of events over the previous 2 weeks and variance"
    },
    {
      "pos": [
        36102,
        36169
      ],
      "content": "of counts of events of the previous 15 days were used to create lag"
    },
    {
      "pos": [
        36170,
        36234
      ],
      "content": "features. Same counting was used for maintenance related events.",
      "nodes": [
        {
          "content": "features.",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "Same counting was used for maintenance related events.",
          "pos": [
            10,
            64
          ]
        }
      ]
    },
    {
      "pos": [
        36236,
        36303
      ],
      "content": "Additionally, by picking a W that is very large (ex. years), it is\n",
      "nodes": [
        {
          "content": "Additionally, by picking a W that is very large (ex.",
          "pos": [
            0,
            52
          ]
        },
        {
          "content": "years), it is",
          "pos": [
            53,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        36303,
        36373
      ],
      "content": "possible to look at the whole history of an asset such as counting all"
    },
    {
      "pos": [
        36374,
        36447
      ],
      "content": "maintenance records, failures etc. up until the time of the record. This\n",
      "nodes": [
        {
          "content": "maintenance records, failures etc.",
          "pos": [
            0,
            34
          ]
        },
        {
          "content": "up until the time of the record.",
          "pos": [
            35,
            67
          ]
        },
        {
          "content": "This",
          "pos": [
            68,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        36447,
        36519
      ],
      "content": "method was used for counting circuit breaker failures for the last three"
    },
    {
      "pos": [
        36520,
        36591
      ],
      "content": "years. Also for train failures, all maintenance events were counted to\n",
      "nodes": [
        {
          "content": "years.",
          "pos": [
            0,
            6
          ]
        },
        {
          "content": "Also for train failures, all maintenance events were counted to",
          "pos": [
            7,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        36591,
        36654
      ],
      "content": "create a feature to captures the long term maintenance effects."
    },
    {
      "pos": [
        36662,
        36683
      ],
      "content": "<bpt id=\"p20\">*</bpt>Tumbling aggregates<ept id=\"p20\">*</ept>"
    },
    {
      "pos": [
        36684,
        36750
      ],
      "content": "For each labelled record of an asset, we pick a window of size \"W-"
    },
    {
      "pos": [
        36755,
        36756
      ],
      "content": "k"
    },
    {
      "pos": [
        36762,
        36835
      ],
      "content": "\" where k is the number or windows of size \"W\" that we want to create lag"
    },
    {
      "pos": [
        36836,
        36907
      ],
      "content": "features for. \"k\" can be picked as a large number to capture long term\n",
      "nodes": [
        {
          "content": "features for.",
          "pos": [
            0,
            13
          ]
        },
        {
          "content": "\"k\" can be picked as a large number to capture long term",
          "pos": [
            14,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        36907,
        36980
      ],
      "content": "degradation patterns or a small number to capture short term effects. We\n",
      "nodes": [
        {
          "content": "degradation patterns or a small number to capture short term effects.",
          "pos": [
            0,
            69
          ]
        },
        {
          "content": "We",
          "pos": [
            70,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        36980,
        37010
      ],
      "content": "then use k tumbling windows W-"
    },
    {
      "pos": [
        37015,
        37016
      ],
      "content": "k"
    },
    {
      "pos": [
        37023,
        37027
      ],
      "content": ", W-"
    },
    {
      "pos": [
        37032,
        37037
      ],
      "content": "(k-1)"
    },
    {
      "pos": [
        37043,
        37050
      ],
      "content": ", …, W-"
    },
    {
      "pos": [
        37055,
        37056
      ],
      "content": "2"
    },
    {
      "pos": [
        37063,
        37067
      ],
      "content": ", W-"
    },
    {
      "pos": [
        37072,
        37073
      ],
      "content": "1"
    },
    {
      "pos": [
        37080,
        37151
      ],
      "content": "to create aggregate features for the periods before the record date and"
    },
    {
      "pos": [
        37152,
        37224
      ],
      "content": "time (see Figure 2). These are also rolling windows at the record level\n",
      "nodes": [
        {
          "content": "time (see Figure 2).",
          "pos": [
            0,
            20
          ]
        },
        {
          "content": "These are also rolling windows at the record level",
          "pos": [
            21,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        37224,
        37293
      ],
      "content": "for a time unit which is not captured in Figure 2 but the idea is the"
    },
    {
      "pos": [
        37294,
        37321
      ],
      "content": "same as in Figure 1 where t"
    },
    {
      "pos": [
        37326,
        37327
      ],
      "content": "2"
    },
    {
      "pos": [
        37334,
        37373
      ],
      "content": "is also used to demonstrate the rolling"
    },
    {
      "pos": [
        37374,
        37381
      ],
      "content": "effect."
    },
    {
      "pos": [
        37383,
        37512
      ],
      "content": "<ph id=\"ph5\">![</ph>Figure 2. Tumbling aggregate features<ph id=\"ph6\">](media/cortana-analytics-playbook-predictive-maintenance/tumbling-aggregate-features.png)</ph>",
      "nodes": [
        {
          "content": "<ph id=\"ph5\">![</ph>Figure 2.",
          "pos": [
            0,
            29
          ]
        },
        {
          "content": "Tumbling aggregate features<ph id=\"ph6\">](media/cortana-analytics-playbook-predictive-maintenance/tumbling-aggregate-features.png)</ph>",
          "pos": [
            30,
            165
          ]
        }
      ]
    },
    {
      "pos": [
        37514,
        37551
      ],
      "content": "Figure 2. Tumbling aggregate features",
      "nodes": [
        {
          "content": "Figure 2.",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "Tumbling aggregate features",
          "pos": [
            10,
            37
          ]
        }
      ]
    },
    {
      "pos": [
        37553,
        37625
      ],
      "content": "As an example, for wind turbines, W=1 and k=3 months were used to create"
    },
    {
      "pos": [
        37626,
        37689
      ],
      "content": "lag features for each of the last 3 months using top and bottom"
    },
    {
      "pos": [
        37690,
        37699
      ],
      "content": "outliers."
    },
    {
      "pos": [
        37706,
        37721
      ],
      "content": "Static features"
    },
    {
      "pos": [
        37722,
        37793
      ],
      "content": "These are technical specifications of the equipment such as manufacture"
    },
    {
      "pos": [
        37794,
        37866
      ],
      "content": "date, model number, location, etc. While lag features are mostly numeric"
    },
    {
      "pos": [
        37867,
        37937
      ],
      "content": "in nature, static features usually become categorical variables in the"
    },
    {
      "pos": [
        37938,
        38005
      ],
      "content": "models. As an example, circuit breaker properties such as voltage,\n",
      "nodes": [
        {
          "content": "models.",
          "pos": [
            0,
            7
          ]
        },
        {
          "content": "As an example, circuit breaker properties such as voltage,",
          "pos": [
            8,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        38005,
        38073
      ],
      "content": "current and power specifications along with transformer types, power"
    },
    {
      "pos": [
        38074,
        38147
      ],
      "content": "sources etc. were used. For brake disc failures, the type of tire wheels\n",
      "nodes": [
        {
          "content": "sources etc. were used.",
          "pos": [
            0,
            23
          ]
        },
        {
          "content": "For brake disc failures, the type of tire wheels",
          "pos": [
            24,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        38147,
        38213
      ],
      "content": "such as if they are alloy or steel were used as some of the static"
    },
    {
      "pos": [
        38214,
        38223
      ],
      "content": "features."
    },
    {
      "pos": [
        38225,
        38295
      ],
      "content": "During feature generation, some other important steps such as handling"
    },
    {
      "pos": [
        38296,
        38369
      ],
      "content": "missing values and normalization should be performed. There are numerous\n",
      "nodes": [
        {
          "content": "missing values and normalization should be performed.",
          "pos": [
            0,
            53
          ]
        },
        {
          "content": "There are numerous",
          "pos": [
            54,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        38369,
        38438
      ],
      "content": "methods of missing value imputation and also data normalization which"
    },
    {
      "pos": [
        38439,
        38510
      ],
      "content": "will not be discussed here. However, it is beneficial to try different\n",
      "nodes": [
        {
          "content": "will not be discussed here.",
          "pos": [
            0,
            27
          ]
        },
        {
          "content": "However, it is beneficial to try different",
          "pos": [
            28,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        38510,
        38578
      ],
      "content": "methods to see if an increase in prediction performance is possible."
    },
    {
      "pos": [
        38580,
        38652
      ],
      "content": "The final feature table after feature engineering steps discussed in the"
    },
    {
      "pos": [
        38653,
        38723
      ],
      "content": "earlier section should resemble the following example data schema when"
    },
    {
      "pos": [
        38724,
        38743
      ],
      "content": "time unit is a day:"
    },
    {
      "pos": [
        38746,
        38754
      ],
      "content": "Asset ID"
    },
    {
      "pos": [
        38755,
        38759
      ],
      "content": "Time"
    },
    {
      "pos": [
        38760,
        38775
      ],
      "content": "Feature Columns"
    },
    {
      "pos": [
        38776,
        38781
      ],
      "content": "Label"
    },
    {
      "pos": [
        38802,
        38803
      ],
      "content": "1"
    },
    {
      "pos": [
        38804,
        38809
      ],
      "content": "Day 1"
    },
    {
      "pos": [
        38814,
        38815
      ],
      "content": "1"
    },
    {
      "pos": [
        38816,
        38821
      ],
      "content": "Day 2"
    },
    {
      "pos": [
        38826,
        38829
      ],
      "content": "..."
    },
    {
      "pos": [
        38830,
        38833
      ],
      "content": "..."
    },
    {
      "pos": [
        38838,
        38839
      ],
      "content": "2"
    },
    {
      "pos": [
        38840,
        38845
      ],
      "content": "Day 1"
    },
    {
      "pos": [
        38850,
        38851
      ],
      "content": "2"
    },
    {
      "pos": [
        38852,
        38857
      ],
      "content": "Day 2"
    },
    {
      "pos": [
        38862,
        38865
      ],
      "content": "..."
    },
    {
      "pos": [
        38866,
        38869
      ],
      "content": "..."
    },
    {
      "pos": [
        38877,
        38896
      ],
      "content": "Modeling techniques"
    },
    {
      "pos": [
        38897,
        38966
      ],
      "content": "Predictive Maintenance is a very rich domain often employing business"
    },
    {
      "pos": [
        38967,
        39034
      ],
      "content": "questions which may be approached from many different angles of the"
    },
    {
      "pos": [
        39035,
        39106
      ],
      "content": "predictive modeling perspective. In the next sections, we will provide\n",
      "nodes": [
        {
          "content": "predictive modeling perspective.",
          "pos": [
            0,
            32
          ]
        },
        {
          "content": "In the next sections, we will provide",
          "pos": [
            33,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        39106,
        39178
      ],
      "content": "main techniques that are used to model different business questions that"
    },
    {
      "pos": [
        39179,
        39249
      ],
      "content": "can be answered with predictive maintenance solutions. Although there\n",
      "nodes": [
        {
          "content": "can be answered with predictive maintenance solutions.",
          "pos": [
            0,
            54
          ]
        },
        {
          "content": "Although there",
          "pos": [
            55,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        39249,
        39316
      ],
      "content": "are similarities, each model has its own way of constructing labels"
    },
    {
      "pos": [
        39317,
        39385
      ],
      "content": "which are described in detail. As an accompanying resource, you can\n",
      "nodes": [
        {
          "content": "which are described in detail.",
          "pos": [
            0,
            30
          ]
        },
        {
          "content": "As an accompanying resource, you can",
          "pos": [
            31,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        39385,
        39453
      ],
      "content": "refer to the predictive maintenance template that is included in the"
    },
    {
      "pos": [
        39454,
        39526
      ],
      "content": "sample experiments provided within Azure Machine Learning. The links to\n",
      "nodes": [
        {
          "content": "sample experiments provided within Azure Machine Learning.",
          "pos": [
            0,
            58
          ]
        },
        {
          "content": "The links to",
          "pos": [
            59,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        39526,
        39597
      ],
      "content": "the online material for this template will be provided in the resources"
    },
    {
      "pos": [
        39598,
        39666
      ],
      "content": "section. You can see how some of the feature engineering techniques\n",
      "nodes": [
        {
          "content": "section.",
          "pos": [
            0,
            8
          ]
        },
        {
          "content": "You can see how some of the feature engineering techniques",
          "pos": [
            9,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        39666,
        39738
      ],
      "content": "discussed above and the modeling technique that will be described in the"
    },
    {
      "pos": [
        39739,
        39806
      ],
      "content": "next sections are applied to predict aircraft engine failures using"
    },
    {
      "pos": [
        39807,
        39830
      ],
      "content": "Azure Machine Learning."
    },
    {
      "pos": [
        39836,
        39884
      ],
      "content": "Binary classification for predictive maintenance"
    },
    {
      "pos": [
        39885,
        39956
      ],
      "content": "Binary Classification for predictive maintenance is used to predict the"
    },
    {
      "pos": [
        39957,
        40030
      ],
      "content": "probability that an equipment will fail within a future time period. The\n",
      "nodes": [
        {
          "content": "probability that an equipment will fail within a future time period.",
          "pos": [
            0,
            68
          ]
        },
        {
          "content": "The",
          "pos": [
            69,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        40030,
        40102
      ],
      "content": "time period is determined by and based on business rules and the data at"
    },
    {
      "pos": [
        40103,
        40168
      ],
      "content": "hand. Some common time periods are minimum lead time required to\n",
      "nodes": [
        {
          "content": "hand.",
          "pos": [
            0,
            5
          ]
        },
        {
          "content": "Some common time periods are minimum lead time required to",
          "pos": [
            6,
            64
          ]
        }
      ]
    },
    {
      "pos": [
        40168,
        40235
      ],
      "content": "purchase spare parts to replace likely to damage components or time"
    },
    {
      "pos": [
        40236,
        40308
      ],
      "content": "required to deploy maintenance resources to perform maintenance routines"
    },
    {
      "pos": [
        40309,
        40380
      ],
      "content": "to fix the problem that is likely to occur within that time period. We\n",
      "nodes": [
        {
          "content": "to fix the problem that is likely to occur within that time period.",
          "pos": [
            0,
            67
          ]
        },
        {
          "content": "We",
          "pos": [
            68,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        40380,
        40416
      ],
      "content": "call this future horizon period \"X\"."
    },
    {
      "pos": [
        40418,
        40489
      ],
      "content": "In order to use binary classification, we need to identify two types of"
    },
    {
      "pos": [
        40490,
        40561
      ],
      "content": "examples which we call positive and negative. Each example is a record\n",
      "nodes": [
        {
          "content": "examples which we call positive and negative.",
          "pos": [
            0,
            45
          ]
        },
        {
          "content": "Each example is a record",
          "pos": [
            46,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        40561,
        40629
      ],
      "content": "that belongs to a time unit for an asset conceptually describing and"
    },
    {
      "pos": [
        40630,
        40695
      ],
      "content": "abstracting its operating conditions up to that time unit through"
    },
    {
      "pos": [
        40696,
        40765
      ],
      "content": "feature engineering using historical and other data sources described"
    },
    {
      "pos": [
        40766,
        40830
      ],
      "content": "earlier. In the context of binary classification for predictive\n",
      "nodes": [
        {
          "content": "earlier.",
          "pos": [
            0,
            8
          ]
        },
        {
          "content": "In the context of binary classification for predictive",
          "pos": [
            9,
            63
          ]
        }
      ]
    },
    {
      "pos": [
        40830,
        40901
      ],
      "content": "maintenance, positive type denotes failures (label 1) and negative type"
    },
    {
      "pos": [
        40902,
        40964
      ],
      "content": "denotes normal operations (label = 0) where labels are of type"
    },
    {
      "pos": [
        40965,
        41034
      ],
      "content": "categorical. The goal is to find a model that will identify each new\n",
      "nodes": [
        {
          "content": "categorical.",
          "pos": [
            0,
            12
          ]
        },
        {
          "content": "The goal is to find a model that will identify each new",
          "pos": [
            13,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        41034,
        41106
      ],
      "content": "example as likely to fail or operate normally within the next X units of"
    },
    {
      "pos": [
        41107,
        41112
      ],
      "content": "time."
    },
    {
      "pos": [
        41119,
        41137
      ],
      "content": "Label construction"
    },
    {
      "pos": [
        41138,
        41207
      ],
      "content": "In order to create a predictive model to answer the question \"What is"
    },
    {
      "pos": [
        41208,
        41279
      ],
      "content": "the probability that the asset will fail in the next X units of time?\","
    },
    {
      "pos": [
        41280,
        41349
      ],
      "content": "labeling is done by taking X records prior to the failure of an asset"
    },
    {
      "pos": [
        41350,
        41417
      ],
      "content": "and labeling them as \"about to fail\" (label = 1) while labeling all"
    },
    {
      "pos": [
        41418,
        41483
      ],
      "content": "other records as \"normal\" (label =0). In this method, labels are\n",
      "nodes": [
        {
          "content": "other records as \"normal\" (label =0).",
          "pos": [
            0,
            37
          ]
        },
        {
          "content": "In this method, labels are",
          "pos": [
            38,
            64
          ]
        }
      ]
    },
    {
      "pos": [
        41483,
        41520
      ],
      "content": "categorical variables (see Figure 3)."
    },
    {
      "pos": [
        41522,
        41667
      ],
      "content": "<ph id=\"ph7\">![</ph>Figure 3. Labelling for binary classification<ph id=\"ph8\">](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-binary-classification.png)</ph>",
      "nodes": [
        {
          "content": "<ph id=\"ph7\">![</ph>Figure 3.",
          "pos": [
            0,
            29
          ]
        },
        {
          "content": "Labelling for binary classification<ph id=\"ph8\">](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-binary-classification.png)</ph>",
          "pos": [
            30,
            181
          ]
        }
      ]
    },
    {
      "pos": [
        41669,
        41714
      ],
      "content": "Figure 3. Labelling for binary classification",
      "nodes": [
        {
          "content": "Figure 3.",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "Labelling for binary classification",
          "pos": [
            10,
            45
          ]
        }
      ]
    },
    {
      "pos": [
        41716,
        41786
      ],
      "content": "For flight delays and cancellations, X is picked as one day to predict"
    },
    {
      "pos": [
        41787,
        41860
      ],
      "content": "delays in the next 24 hours. All flights that are within 24 hours before\n",
      "nodes": [
        {
          "content": "delays in the next 24 hours.",
          "pos": [
            0,
            28
          ]
        },
        {
          "content": "All flights that are within 24 hours before",
          "pos": [
            29,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        41860,
        41932
      ],
      "content": "failures were labeled as 1s. For ATM cash dispense failures, two binary\n",
      "nodes": [
        {
          "content": "failures were labeled as 1s.",
          "pos": [
            0,
            28
          ]
        },
        {
          "content": "For ATM cash dispense failures, two binary",
          "pos": [
            29,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        41932,
        42004
      ],
      "content": "classification models were built to predict the failure probability of a"
    },
    {
      "pos": [
        42005,
        42075
      ],
      "content": "transaction in the next 10 minutes and also to predict the probability"
    },
    {
      "pos": [
        42076,
        42142
      ],
      "content": "of failure in the next 100 notes dispensed. All transactions that\n",
      "nodes": [
        {
          "content": "of failure in the next 100 notes dispensed.",
          "pos": [
            0,
            43
          ]
        },
        {
          "content": "All transactions that",
          "pos": [
            44,
            65
          ]
        }
      ]
    },
    {
      "pos": [
        42142,
        42213
      ],
      "content": "happened within the last 10 minutes of the failure are labeled as 1 for"
    },
    {
      "pos": [
        42214,
        42286
      ],
      "content": "the first model. And all notes dispensed within the last 100 notes of a\n",
      "nodes": [
        {
          "content": "the first model.",
          "pos": [
            0,
            16
          ]
        },
        {
          "content": "And all notes dispensed within the last 100 notes of a",
          "pos": [
            17,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        42286,
        42354
      ],
      "content": "failure were labeled as 1 for the second model. For circuit breaker\n",
      "nodes": [
        {
          "content": "failure were labeled as 1 for the second model.",
          "pos": [
            0,
            47
          ]
        },
        {
          "content": "For circuit breaker",
          "pos": [
            48,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        42354,
        42424
      ],
      "content": "failures, the task is to predict the probability that the next circuit"
    },
    {
      "pos": [
        42425,
        42493
      ],
      "content": "breaker command will fail in which case X is chosen to be one future"
    },
    {
      "pos": [
        42494,
        42564
      ],
      "content": "command. For train door failures, the binary classification model was\n",
      "nodes": [
        {
          "content": "command.",
          "pos": [
            0,
            8
          ]
        },
        {
          "content": "For train door failures, the binary classification model was",
          "pos": [
            9,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        42564,
        42631
      ],
      "content": "built to predict failures within the next 7 days. For wind turbine\n",
      "nodes": [
        {
          "content": "built to predict failures within the next 7 days.",
          "pos": [
            0,
            49
          ]
        },
        {
          "content": "For wind turbine",
          "pos": [
            50,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        42631,
        42666
      ],
      "content": "failures, X was chosen as 3 months."
    },
    {
      "pos": [
        42668,
        42739
      ],
      "content": "Wind turbine and train door cases are also used for regression analysis"
    },
    {
      "pos": [
        42740,
        42811
      ],
      "content": "to predict remaining useful life using the same data but by utilizing a"
    },
    {
      "pos": [
        42812,
        42880
      ],
      "content": "different labelling strategy which is explained in the next section."
    },
    {
      "pos": [
        42886,
        42923
      ],
      "content": "Regression for predictive maintenance"
    },
    {
      "pos": [
        42924,
        42991
      ],
      "content": "Regression models in predictive maintenance are used to compute the"
    },
    {
      "pos": [
        42992,
        43062
      ],
      "content": "remaining useful life (RUL) of an asset which is defined as the amount"
    },
    {
      "pos": [
        43063,
        43129
      ],
      "content": "of time that the asset will be operational before the next failure"
    },
    {
      "pos": [
        43130,
        43199
      ],
      "content": "occurs. Same as binary classification, each example is a record that\n",
      "nodes": [
        {
          "content": "occurs.",
          "pos": [
            0,
            7
          ]
        },
        {
          "content": "Same as binary classification, each example is a record that",
          "pos": [
            8,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        43199,
        43267
      ],
      "content": "belongs to a time unit \"Y\" for an asset. However, in the context of\n",
      "nodes": [
        {
          "content": "belongs to a time unit \"Y\" for an asset.",
          "pos": [
            0,
            40
          ]
        },
        {
          "content": "However, in the context of",
          "pos": [
            41,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        43267,
        43330
      ],
      "content": "regression, the goal is to find a model that will calculate the"
    },
    {
      "pos": [
        43331,
        43401
      ],
      "content": "remaining useful life of each new example as a continuous number which"
    },
    {
      "pos": [
        43402,
        43472
      ],
      "content": "is the period of time remaining before the failure. We call this time\n",
      "nodes": [
        {
          "content": "is the period of time remaining before the failure.",
          "pos": [
            0,
            51
          ]
        },
        {
          "content": "We call this time",
          "pos": [
            52,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        43472,
        43544
      ],
      "content": "period some multiple of Y. Each example also has a remaining useful life"
    },
    {
      "pos": [
        43545,
        43614
      ],
      "content": "which can be calculated by measuring the amount of time remaining for"
    },
    {
      "pos": [
        43615,
        43652
      ],
      "content": "that example before the next failure."
    },
    {
      "pos": [
        43659,
        43677
      ],
      "content": "Label construction"
    },
    {
      "pos": [
        43678,
        43750
      ],
      "content": "Given the question \"What is the remaining useful life of the equipment?\n",
      "nodes": [
        {
          "content": "Given the question \"What is the remaining useful life of the equipment?",
          "pos": [
            0,
            71
          ]
        },
        {
          "content": "\n",
          "pos": [
            71,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        43750,
        43818
      ],
      "content": "\", labels for the regression model can be constructed by taking each"
    },
    {
      "pos": [
        43819,
        43888
      ],
      "content": "record prior to the failure and labeling them by calculating how many"
    },
    {
      "pos": [
        43889,
        43962
      ],
      "content": "units of time remain before the next failure. In this method, labels are\n",
      "nodes": [
        {
          "content": "units of time remain before the next failure.",
          "pos": [
            0,
            45
          ]
        },
        {
          "content": "In this method, labels are",
          "pos": [
            46,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        43962,
        43998
      ],
      "content": "continuous variables (See Figure 4)."
    },
    {
      "pos": [
        44000,
        44123
      ],
      "content": "<ph id=\"ph9\">![</ph>Figure 4. Labelling for regression<ph id=\"ph10\">](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-regression.png)</ph>",
      "nodes": [
        {
          "content": "<ph id=\"ph9\">![</ph>Figure 4.",
          "pos": [
            0,
            29
          ]
        },
        {
          "content": "Labelling for regression<ph id=\"ph10\">](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-regression.png)</ph>",
          "pos": [
            30,
            160
          ]
        }
      ]
    },
    {
      "pos": [
        44125,
        44159
      ],
      "content": "Figure 4. Labelling for regression",
      "nodes": [
        {
          "content": "Figure 4.",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "Labelling for regression",
          "pos": [
            10,
            34
          ]
        }
      ]
    },
    {
      "pos": [
        44161,
        44233
      ],
      "content": "Different than binary classification, for regression, assets without any"
    },
    {
      "pos": [
        44234,
        44303
      ],
      "content": "failures in the data cannot be used for modeling as labelling is done"
    },
    {
      "pos": [
        44304,
        44371
      ],
      "content": "in reference to a failure point and its calculation is not possible"
    },
    {
      "pos": [
        44372,
        44443
      ],
      "content": "without knowing how long the asset survived before failure. This issue\n",
      "nodes": [
        {
          "content": "without knowing how long the asset survived before failure.",
          "pos": [
            0,
            59
          ]
        },
        {
          "content": "This issue",
          "pos": [
            60,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        44443,
        44509
      ],
      "content": "is best addressed by another statistical technique called Survival"
    },
    {
      "pos": [
        44510,
        44520
      ],
      "content": "Analysis.\n",
      "nodes": [
        {
          "content": "Analysis.",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "\n",
          "pos": [
            9,
            10
          ]
        }
      ]
    },
    {
      "pos": [
        44520,
        44621
      ],
      "content": "We are not going to discuss Survival Analysis in this playbook because of the potential complications"
    },
    {
      "pos": [
        44622,
        44700
      ],
      "content": "that may arise when applying the technique to predictive maintenance use cases"
    },
    {
      "pos": [
        44701,
        44756
      ],
      "content": "that involve time-varying data with frequent intervals."
    },
    {
      "pos": [
        44762,
        44815
      ],
      "content": "Multi-class classification for predictive maintenance"
    },
    {
      "pos": [
        44816,
        45650
      ],
      "content": "Multi-class classification for predictive maintenance can be used to\npredict two future outcomes. The first one is to assign an asset to one of\nthe multiple possible periods of time to give a range of time to failure\nfor each asset. The second one is to identify the likelihood of failure in a\nfuture period due to one of the multiple root causes. That allows\nmaintenance personnel who are equipped with this knowledge to\nhandle the problems in advance. Another multi-class modeling\ntechnique focuses on determining the most likely root\ncause of a given a failure. This allows\nrecommendations to be given for the top maintenance actions\nto be taken in order to fix a failure.\nBy having a ranked list of root causes and associated repair actions,  \n<ph id=\"ph11\"/>technicians can be more effective in taking\ntheir first repair actions after failures.",
      "nodes": [
        {
          "content": "Multi-class classification for predictive maintenance can be used to\npredict two future outcomes.",
          "pos": [
            0,
            97
          ]
        },
        {
          "content": "The first one is to assign an asset to one of\nthe multiple possible periods of time to give a range of time to failure\nfor each asset.",
          "pos": [
            98,
            232
          ]
        },
        {
          "content": "The second one is to identify the likelihood of failure in a\nfuture period due to one of the multiple root causes.",
          "pos": [
            233,
            347
          ]
        },
        {
          "content": "That allows\nmaintenance personnel who are equipped with this knowledge to\nhandle the problems in advance.",
          "pos": [
            348,
            453
          ]
        },
        {
          "content": "Another multi-class modeling\ntechnique focuses on determining the most likely root\ncause of a given a failure.",
          "pos": [
            454,
            564
          ]
        },
        {
          "content": "This allows\nrecommendations to be given for the top maintenance actions\nto be taken in order to fix a failure.",
          "pos": [
            565,
            675
          ]
        },
        {
          "content": "By having a ranked list of root causes and associated repair actions,  \n<ph id=\"ph11\"/>technicians can be more effective in taking\ntheir first repair actions after failures.",
          "pos": [
            676,
            849
          ]
        }
      ]
    },
    {
      "pos": [
        45657,
        45675
      ],
      "content": "Label construction"
    },
    {
      "pos": [
        45676,
        45748
      ],
      "content": "Given the two questions which are \"What is the probability that an asset"
    },
    {
      "pos": [
        45749,
        45816
      ],
      "content": "will fail in the next \"aZ\" units of time where \"a\" is the number of"
    },
    {
      "pos": [
        45817,
        45886
      ],
      "content": "periods\" and \"What is the probability that the asset will fail in the"
    },
    {
      "pos": [
        45887,
        45925
      ],
      "content": "next X units of time due to problem \"P"
    },
    {
      "pos": [
        45930,
        45931
      ],
      "content": "i"
    },
    {
      "pos": [
        45937,
        45965
      ],
      "content": "\" where \"i\" is the number of"
    },
    {
      "pos": [
        45966,
        46036
      ],
      "content": "possible root causes, labelling is done in the following way for these"
    },
    {
      "pos": [
        46037,
        46051
      ],
      "content": "to techniques."
    },
    {
      "pos": [
        46053,
        46123
      ],
      "content": "For the first question, labeling is done by taking aZ records prior to"
    },
    {
      "pos": [
        46124,
        46196
      ],
      "content": "the failure of an asset and labeling them using buckets of time (3Z, 2Z,"
    },
    {
      "pos": [
        46197,
        46267
      ],
      "content": "Z) as their labels while labeling all other records as \"normal\" (label"
    },
    {
      "pos": [
        46268,
        46334
      ],
      "content": "=0). In this method, label is categorical variable (See Figure 5).",
      "nodes": [
        {
          "content": "=0).",
          "pos": [
            0,
            4
          ]
        },
        {
          "content": "In this method, label is categorical variable (See Figure 5).",
          "pos": [
            5,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        46336,
        46545
      ],
      "content": "<ph id=\"ph12\">![</ph>Figure 5. Labelling for multiclass classification for failure time prediction<ph id=\"ph13\">](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-failure-time-prediction.png)</ph>",
      "nodes": [
        {
          "content": "<ph id=\"ph12\">![</ph>Figure 5.",
          "pos": [
            0,
            30
          ]
        },
        {
          "content": "Labelling for multiclass classification for failure time prediction<ph id=\"ph13\">](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-failure-time-prediction.png)</ph>",
          "pos": [
            31,
            247
          ]
        }
      ]
    },
    {
      "pos": [
        46547,
        46614
      ],
      "content": "Figure 5. Labelling for multiclass classification for failure time\n",
      "nodes": [
        {
          "content": "Figure 5.",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "Labelling for multiclass classification for failure time",
          "pos": [
            10,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        46614,
        46624
      ],
      "content": "prediction"
    },
    {
      "pos": [
        46626,
        46696
      ],
      "content": "For the second question, labeling is done by taking X records prior to"
    },
    {
      "pos": [
        46697,
        46763
      ],
      "content": "the failure of an asset and labeling them as \"about to fail due to"
    },
    {
      "pos": [
        46764,
        46773
      ],
      "content": "problem P"
    },
    {
      "pos": [
        46778,
        46779
      ],
      "content": "i"
    },
    {
      "pos": [
        46785,
        46797
      ],
      "content": "\" (label = P"
    },
    {
      "pos": [
        46802,
        46803
      ],
      "content": "i"
    },
    {
      "pos": [
        46809,
        46846
      ],
      "content": ") while labeling all other records as"
    },
    {
      "pos": [
        46847,
        46917
      ],
      "content": "\"normal\" (label =0). In this method, labels are categorical variables\n",
      "nodes": [
        {
          "content": "\"normal\" (label =0).",
          "pos": [
            0,
            20
          ]
        },
        {
          "content": "In this method, labels are categorical variables",
          "pos": [
            21,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        46917,
        46932
      ],
      "content": "(See Figure 6)."
    },
    {
      "pos": [
        46934,
        47139
      ],
      "content": "<ph id=\"ph14\">![</ph>Figure 6. Labelling for multiclass classification for root cause prediction<ph id=\"ph15\">](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-root-cause-prediction.png)</ph>",
      "nodes": [
        {
          "content": "<ph id=\"ph14\">![</ph>Figure 6.",
          "pos": [
            0,
            30
          ]
        },
        {
          "content": "Labelling for multiclass classification for root cause prediction<ph id=\"ph15\">](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-root-cause-prediction.png)</ph>",
          "pos": [
            31,
            243
          ]
        }
      ]
    },
    {
      "pos": [
        47141,
        47206
      ],
      "content": "Figure 6. Labelling for multiclass classification for root cause\n",
      "nodes": [
        {
          "content": "Figure 6.",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "Labelling for multiclass classification for root cause",
          "pos": [
            10,
            64
          ]
        }
      ]
    },
    {
      "pos": [
        47206,
        47216
      ],
      "content": "prediction"
    },
    {
      "pos": [
        47218,
        47275
      ],
      "content": "The model will assign a failure probability due to each P"
    },
    {
      "pos": [
        47280,
        47281
      ],
      "content": "i"
    },
    {
      "pos": [
        47288,
        47298
      ],
      "content": "as well as"
    },
    {
      "pos": [
        47299,
        47368
      ],
      "content": "the probability of no failure. These probabilities can be ordered by\n",
      "nodes": [
        {
          "content": "the probability of no failure.",
          "pos": [
            0,
            30
          ]
        },
        {
          "content": "These probabilities can be ordered by",
          "pos": [
            31,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        47368,
        47443
      ],
      "content": "magnitude to allow prediction of the problems that are most likely to occur"
    },
    {
      "pos": [
        47444,
        47515
      ],
      "content": "in the future. Aircraft component failure use case was structured as a\n",
      "nodes": [
        {
          "content": "in the future.",
          "pos": [
            0,
            14
          ]
        },
        {
          "content": "Aircraft component failure use case was structured as a",
          "pos": [
            15,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        47515,
        47602
      ],
      "content": "multiclass classification problem. This enables the prediction of the probabilities of\n",
      "nodes": [
        {
          "content": "multiclass classification problem.",
          "pos": [
            0,
            34
          ]
        },
        {
          "content": "This enables the prediction of the probabilities of",
          "pos": [
            35,
            86
          ]
        }
      ]
    },
    {
      "pos": [
        47602,
        47682
      ],
      "content": "failure due to two different pressure valve components occurring within the next"
    },
    {
      "pos": [
        47683,
        47689
      ],
      "content": "month."
    },
    {
      "pos": [
        47691,
        47761
      ],
      "content": "For recommending maintenance actions after failures, labeling does not"
    },
    {
      "pos": [
        47762,
        47845
      ],
      "content": "require a future horizon to be picked. This is because the model is not predicting\n",
      "nodes": [
        {
          "content": "require a future horizon to be picked.",
          "pos": [
            0,
            38
          ]
        },
        {
          "content": "This is because the model is not predicting",
          "pos": [
            39,
            82
          ]
        }
      ]
    },
    {
      "pos": [
        47845,
        47913
      ],
      "content": "failure in the future but it is just predicting the most likely root"
    },
    {
      "pos": [
        47914,
        47982
      ],
      "content": "cause once the failure has already happened. Elevator door failures\n",
      "nodes": [
        {
          "content": "cause once the failure has already happened.",
          "pos": [
            0,
            44
          ]
        },
        {
          "content": "Elevator door failures",
          "pos": [
            45,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        47982,
        48040
      ],
      "content": "falls into the third case where the goal is to predict the"
    },
    {
      "pos": [
        48041,
        48120
      ],
      "content": "cause of the failure given historical data on operating conditions. This model\n",
      "nodes": [
        {
          "content": "cause of the failure given historical data on operating conditions.",
          "pos": [
            0,
            67
          ]
        },
        {
          "content": "This model",
          "pos": [
            68,
            78
          ]
        }
      ]
    },
    {
      "pos": [
        48120,
        48196
      ],
      "content": "will then be used to predict the most likely root causes after a failure has"
    },
    {
      "pos": [
        48197,
        48258
      ],
      "content": "occurred. One key benefit of this model is that it will help\n",
      "nodes": [
        {
          "content": "occurred.",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "One key benefit of this model is that it will help",
          "pos": [
            10,
            60
          ]
        }
      ]
    },
    {
      "pos": [
        48258,
        48340
      ],
      "content": "unexperienced technicians to easily diagnose and fix problems that would otherwise"
    },
    {
      "pos": [
        48341,
        48373
      ],
      "content": "need years’ worth of experience."
    },
    {
      "pos": [
        48378,
        48444
      ],
      "content": "Training, validation and testing methods in predictive maintenance"
    },
    {
      "pos": [
        48445,
        48507
      ],
      "content": "In predictive maintenance, similar to any other solution space"
    },
    {
      "pos": [
        48508,
        48577
      ],
      "content": "containing timestamped data, the typical training and testing routine"
    },
    {
      "pos": [
        48578,
        48648
      ],
      "content": "needs to take account the time varying aspects to better generalize on"
    },
    {
      "pos": [
        48649,
        48668
      ],
      "content": "unseen future data."
    },
    {
      "pos": [
        48674,
        48690
      ],
      "content": "Cross validation"
    },
    {
      "pos": [
        48691,
        48761
      ],
      "content": "Many machine learning algorithms depend on a number of hyperparameters"
    },
    {
      "pos": [
        48762,
        48833
      ],
      "content": "that can change model performance significantly. The optimal values of\n",
      "nodes": [
        {
          "content": "that can change model performance significantly.",
          "pos": [
            0,
            48
          ]
        },
        {
          "content": "The optimal values of",
          "pos": [
            49,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        48833,
        48903
      ],
      "content": "these hyperparameters are not computed automatically when training the"
    },
    {
      "pos": [
        48904,
        48977
      ],
      "content": "model, but should be specified by data scientist. There are several ways\n",
      "nodes": [
        {
          "content": "model, but should be specified by data scientist.",
          "pos": [
            0,
            49
          ]
        },
        {
          "content": "There are several ways",
          "pos": [
            50,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        48977,
        49043
      ],
      "content": "of finding good values of hyperparameters. The most common one is\n",
      "nodes": [
        {
          "content": "of finding good values of hyperparameters.",
          "pos": [
            0,
            42
          ]
        },
        {
          "content": "The most common one is",
          "pos": [
            43,
            65
          ]
        }
      ]
    },
    {
      "pos": [
        49043,
        49112
      ],
      "content": "\"k-fold cross-validation\" which splits the examples randomly into \"k\""
    },
    {
      "pos": [
        49113,
        49186
      ],
      "content": "folds. For each set of hyperparameters values, learning algorithm is run\n",
      "nodes": [
        {
          "content": "folds.",
          "pos": [
            0,
            6
          ]
        },
        {
          "content": "For each set of hyperparameters values, learning algorithm is run",
          "pos": [
            7,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        49186,
        49259
      ],
      "content": "k times. At each iteration, the examples in the current fold are used as\n",
      "nodes": [
        {
          "content": "k times.",
          "pos": [
            0,
            8
          ]
        },
        {
          "content": "At each iteration, the examples in the current fold are used as",
          "pos": [
            9,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        49259,
        49330
      ],
      "content": "a validation set, the rest of the examples are used as a training set.\n",
      "nodes": [
        {
          "content": "a validation set, the rest of the examples are used as a training set.",
          "pos": [
            0,
            70
          ]
        },
        {
          "content": "\n",
          "pos": [
            70,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        49330,
        49401
      ],
      "content": "The algorithm trains over training examples and the performance metrics"
    },
    {
      "pos": [
        49402,
        49474
      ],
      "content": "are computed over validation examples. At the end of this loop for each\n",
      "nodes": [
        {
          "content": "are computed over validation examples.",
          "pos": [
            0,
            38
          ]
        },
        {
          "content": "At the end of this loop for each",
          "pos": [
            39,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        49474,
        49543
      ],
      "content": "set of hyperparameter values, we compute average of the k performance"
    },
    {
      "pos": [
        49544,
        49609
      ],
      "content": "metric values and choose hyperparameter values that have the best"
    },
    {
      "pos": [
        49610,
        49630
      ],
      "content": "average performance."
    },
    {
      "pos": [
        49632,
        49696
      ],
      "content": "As mentioned before, in predictive maintenance problems, data is"
    },
    {
      "pos": [
        49697,
        49770
      ],
      "content": "recorded as a time series of events that come from several data sources.\n",
      "nodes": [
        {
          "content": "recorded as a time series of events that come from several data sources.",
          "pos": [
            0,
            72
          ]
        },
        {
          "content": "\n",
          "pos": [
            72,
            73
          ]
        }
      ]
    },
    {
      "pos": [
        49770,
        49841
      ],
      "content": "These records can be ordered according to the time of labeling a record"
    },
    {
      "pos": [
        49842,
        49915
      ],
      "content": "or an example. Hence, if we split the dataset randomly into training and\n",
      "nodes": [
        {
          "content": "or an example.",
          "pos": [
            0,
            14
          ]
        },
        {
          "content": "Hence, if we split the dataset randomly into training and",
          "pos": [
            15,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        49915,
        49987
      ],
      "content": "validation set, some of the training examples will be later in time than"
    },
    {
      "pos": [
        49988,
        50055
      ],
      "content": "some of validation examples. This will result in estimating future\n",
      "nodes": [
        {
          "content": "some of validation examples.",
          "pos": [
            0,
            28
          ]
        },
        {
          "content": "This will result in estimating future",
          "pos": [
            29,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        50055,
        50122
      ],
      "content": "performance of hyperparameter values based on the data that arrived"
    },
    {
      "pos": [
        50123,
        50195
      ],
      "content": "before model was trained. These estimations might be overly optimistic,\n",
      "nodes": [
        {
          "content": "before model was trained.",
          "pos": [
            0,
            25
          ]
        },
        {
          "content": "These estimations might be overly optimistic,",
          "pos": [
            26,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        50195,
        50265
      ],
      "content": "especially if time-series are not stationary and change their behavior"
    },
    {
      "pos": [
        50266,
        50328
      ],
      "content": "over time. As a result, chosen hyperparameter values might be\n",
      "nodes": [
        {
          "content": "over time.",
          "pos": [
            0,
            10
          ]
        },
        {
          "content": "As a result, chosen hyperparameter values might be",
          "pos": [
            11,
            61
          ]
        }
      ]
    },
    {
      "pos": [
        50328,
        50339
      ],
      "content": "suboptimal."
    },
    {
      "pos": [
        50341,
        50411
      ],
      "content": "A better way of finding good values of hyperparameters is to split the"
    },
    {
      "pos": [
        50412,
        50483
      ],
      "content": "examples into training and validation set in a time-dependent way, such"
    },
    {
      "pos": [
        50484,
        50548
      ],
      "content": "that all validation examples are later in time than all training"
    },
    {
      "pos": [
        50549,
        50620
      ],
      "content": "examples. Then, for each set of values of hyperparameters we train the\n",
      "nodes": [
        {
          "content": "examples.",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "Then, for each set of values of hyperparameters we train the",
          "pos": [
            10,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        50620,
        50690
      ],
      "content": "algorithm over training set, measure model’s performance over the same"
    },
    {
      "pos": [
        50691,
        50757
      ],
      "content": "validation set and choose hyperparameter values that show the best"
    },
    {
      "pos": [
        50758,
        50828
      ],
      "content": "performance. When time-series data is not stationary and evolves over\n",
      "nodes": [
        {
          "content": "performance.",
          "pos": [
            0,
            12
          ]
        },
        {
          "content": "When time-series data is not stationary and evolves over",
          "pos": [
            13,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        50828,
        50900
      ],
      "content": "time, the hyperparameter values chosen by train/validation split lead to"
    },
    {
      "pos": [
        50901,
        50972
      ],
      "content": "better future performance of the model than the ones chosen randomly by"
    },
    {
      "pos": [
        50973,
        50990
      ],
      "content": "cross-validation."
    },
    {
      "pos": [
        50992,
        51058
      ],
      "content": "The final model is generated by training a learning algorithm over"
    },
    {
      "pos": [
        51059,
        51131
      ],
      "content": "entire data using the best hyperparameter values that are found by using"
    },
    {
      "pos": [
        51132,
        51178
      ],
      "content": "training/validation split or cross-validation."
    },
    {
      "pos": [
        51184,
        51213
      ],
      "content": "Testing for model performance"
    },
    {
      "pos": [
        51214,
        51286
      ],
      "content": "After building a model we need to estimate its future performance on new"
    },
    {
      "pos": [
        51287,
        51358
      ],
      "content": "data. The simplest estimate could be the performance of the model over\n",
      "nodes": [
        {
          "content": "data.",
          "pos": [
            0,
            5
          ]
        },
        {
          "content": "The simplest estimate could be the performance of the model over",
          "pos": [
            6,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        51358,
        51429
      ],
      "content": "the training data. But this estimate is overly optimistic, because the\n",
      "nodes": [
        {
          "content": "the training data.",
          "pos": [
            0,
            18
          ]
        },
        {
          "content": "But this estimate is overly optimistic, because the",
          "pos": [
            19,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        51429,
        51499
      ],
      "content": "model is tailored to the data that is used to estimate performance. A\n",
      "nodes": [
        {
          "content": "model is tailored to the data that is used to estimate performance.",
          "pos": [
            0,
            67
          ]
        },
        {
          "content": "A",
          "pos": [
            68,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        51499,
        51569
      ],
      "content": "better estimate could be a performance metric of hyperparameter values"
    },
    {
      "pos": [
        51570,
        51635
      ],
      "content": "computed over the validation set or an average performance metric"
    },
    {
      "pos": [
        51636,
        51707
      ],
      "content": "computed from cross-validation. But for the same reasons as previously\n",
      "nodes": [
        {
          "content": "computed from cross-validation.",
          "pos": [
            0,
            31
          ]
        },
        {
          "content": "But for the same reasons as previously",
          "pos": [
            32,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        51707,
        51775
      ],
      "content": "stated, these estimations are still overly optimistic. We need more\n",
      "nodes": [
        {
          "content": "stated, these estimations are still overly optimistic.",
          "pos": [
            0,
            54
          ]
        },
        {
          "content": "We need more",
          "pos": [
            55,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        51775,
        51828
      ],
      "content": "realistic approaches for measuring model performance."
    },
    {
      "pos": [
        51830,
        51902
      ],
      "content": "One way is to split the data randomly into training, validation and test"
    },
    {
      "pos": [
        51903,
        51971
      ],
      "content": "sets. The training and validation sets are used to select values of\n",
      "nodes": [
        {
          "content": "sets.",
          "pos": [
            0,
            5
          ]
        },
        {
          "content": "The training and validation sets are used to select values of",
          "pos": [
            6,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        51971,
        52041
      ],
      "content": "hyperparameters and train the model with them. The performance of the\n",
      "nodes": [
        {
          "content": "hyperparameters and train the model with them.",
          "pos": [
            0,
            46
          ]
        },
        {
          "content": "The performance of the",
          "pos": [
            47,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        52041,
        52077
      ],
      "content": "model is measured over the test set."
    },
    {
      "pos": [
        52079,
        52151
      ],
      "content": "Another way which is relevant to predictive maintenance, is to split the"
    },
    {
      "pos": [
        52152,
        52220
      ],
      "content": "examples into training, validation and test sets in a time-dependent"
    },
    {
      "pos": [
        52221,
        52293
      ],
      "content": "way, such that all test examples are later in time than all training and"
    },
    {
      "pos": [
        52294,
        52365
      ],
      "content": "validation examples. After the split, model generation and performance\n",
      "nodes": [
        {
          "content": "validation examples.",
          "pos": [
            0,
            20
          ]
        },
        {
          "content": "After the split, model generation and performance",
          "pos": [
            21,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        52365,
        52415
      ],
      "content": "measurement is done the same as described earlier."
    },
    {
      "pos": [
        52417,
        52484
      ],
      "content": "When time-series are stationary and easy to predict both approaches"
    },
    {
      "pos": [
        52485,
        52558
      ],
      "content": "generate similar estimations of future performance. But when time-series\n",
      "nodes": [
        {
          "content": "generate similar estimations of future performance.",
          "pos": [
            0,
            51
          ]
        },
        {
          "content": "But when time-series",
          "pos": [
            52,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        52558,
        52625
      ],
      "content": "are non-stationary and/or hard to predict, the second approach will"
    },
    {
      "pos": [
        52626,
        52696
      ],
      "content": "generate more realistic estimates of future performance than the first"
    },
    {
      "pos": [
        52697,
        52701
      ],
      "content": "one."
    },
    {
      "pos": [
        52707,
        52727
      ],
      "content": "Time dependent split"
    },
    {
      "pos": [
        52728,
        52795
      ],
      "content": "As a best practice, in this section we take a closer look at how to"
    },
    {
      "pos": [
        52796,
        52865
      ],
      "content": "implement time-dependent split. We describe a time-dependent two way\n",
      "nodes": [
        {
          "content": "implement time-dependent split.",
          "pos": [
            0,
            31
          ]
        },
        {
          "content": "We describe a time-dependent two way",
          "pos": [
            32,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        52865,
        52933
      ],
      "content": "split between training and test sets, however exactly the same logic"
    },
    {
      "pos": [
        52934,
        53004
      ],
      "content": "should be applied for time-dependent split for training and validation"
    },
    {
      "pos": [
        53005,
        53010
      ],
      "content": "sets."
    },
    {
      "pos": [
        53012,
        53084
      ],
      "content": "Suppose we have a stream of timestamped events such as measurements from"
    },
    {
      "pos": [
        53085,
        53153
      ],
      "content": "various sensors. Features of training and test examples, as well as\n",
      "nodes": [
        {
          "content": "various sensors.",
          "pos": [
            0,
            16
          ]
        },
        {
          "content": "Features of training and test examples, as well as",
          "pos": [
            17,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        53153,
        53225
      ],
      "content": "their labels, are defined over timeframes that contain multiple events.\n",
      "nodes": [
        {
          "content": "their labels, are defined over timeframes that contain multiple events.",
          "pos": [
            0,
            71
          ]
        },
        {
          "content": "\n",
          "pos": [
            71,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        53225,
        53288
      ],
      "content": "For example, for binary classification, as described in Feature"
    },
    {
      "pos": [
        53289,
        53355
      ],
      "content": "Engineering and Modeling Techniques sections, features are created"
    },
    {
      "pos": [
        53356,
        53426
      ],
      "content": "based on the past events and labels are created based on future events"
    },
    {
      "pos": [
        53427,
        53499
      ],
      "content": "within \"X\" units of time in the future. Thus, the labeling timeframe of\n",
      "nodes": [
        {
          "content": "within \"X\" units of time in the future.",
          "pos": [
            0,
            39
          ]
        },
        {
          "content": "Thus, the labeling timeframe of",
          "pos": [
            40,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        53499,
        53568
      ],
      "content": "an example comes later then the timeframe of its features. For time-\n",
      "nodes": [
        {
          "content": "an example comes later then the timeframe of its features.",
          "pos": [
            0,
            58
          ]
        },
        {
          "content": "For time-",
          "pos": [
            59,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        53568,
        53636
      ],
      "content": "dependent split, we pick a point in time at which we will we train a"
    },
    {
      "pos": [
        53637,
        53705
      ],
      "content": "model with tuned hyperparameters by using historical data up to that"
    },
    {
      "pos": [
        53706,
        53778
      ],
      "content": "point. To prevent leakage of future labels that are beyond the training\n",
      "nodes": [
        {
          "content": "point.",
          "pos": [
            0,
            6
          ]
        },
        {
          "content": "To prevent leakage of future labels that are beyond the training",
          "pos": [
            7,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        53778,
        53845
      ],
      "content": "cut-off into training data, we choose the latest timeframe to label"
    },
    {
      "pos": [
        53846,
        53915
      ],
      "content": "training examples to be X units before the training cut-off date. In\n",
      "nodes": [
        {
          "content": "training examples to be X units before the training cut-off date.",
          "pos": [
            0,
            65
          ]
        },
        {
          "content": "In",
          "pos": [
            66,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        53915,
        53985
      ],
      "content": "Figure 7, each solid circle represents a row in the final feature data"
    },
    {
      "pos": [
        53986,
        54053
      ],
      "content": "set for which the features and labels are computed according to the"
    },
    {
      "pos": [
        54054,
        54124
      ],
      "content": "method described above. Given that, the figure shows the records that\n",
      "nodes": [
        {
          "content": "method described above.",
          "pos": [
            0,
            23
          ]
        },
        {
          "content": "Given that, the figure shows the records that",
          "pos": [
            24,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        54124,
        54182
      ],
      "content": "should go into training and testing sets when implementing"
    },
    {
      "pos": [
        54183,
        54220
      ],
      "content": "time-dependent split for X=2 and W=3:"
    },
    {
      "pos": [
        54222,
        54389
      ],
      "content": "<ph id=\"ph16\">![</ph>Figure 7. Time dependent split for binary classification<ph id=\"ph17\">](media/cortana-analytics-playbook-predictive-maintenance/time-dependent-split-for-binary-classification.png)</ph>",
      "nodes": [
        {
          "content": "<ph id=\"ph16\">![</ph>Figure 7.",
          "pos": [
            0,
            30
          ]
        },
        {
          "content": "Time dependent split for binary classification<ph id=\"ph17\">](media/cortana-analytics-playbook-predictive-maintenance/time-dependent-split-for-binary-classification.png)</ph>",
          "pos": [
            31,
            205
          ]
        }
      ]
    },
    {
      "pos": [
        54391,
        54447
      ],
      "content": "Figure 7. Time dependent split for binary classification",
      "nodes": [
        {
          "content": "Figure 7.",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "Time dependent split for binary classification",
          "pos": [
            10,
            56
          ]
        }
      ]
    },
    {
      "pos": [
        54449,
        54521
      ],
      "content": "The green squares represent the records belonging to the time units that"
    },
    {
      "pos": [
        54522,
        54595
      ],
      "content": "can be used for training. As explained earlier, each training example in\n",
      "nodes": [
        {
          "content": "can be used for training.",
          "pos": [
            0,
            25
          ]
        },
        {
          "content": "As explained earlier, each training example in",
          "pos": [
            26,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        54595,
        54664
      ],
      "content": "the final feature table is generated by looking at past 3 periods for"
    },
    {
      "pos": [
        54665,
        54729
      ],
      "content": "feature generation and 2 future periods for labelling before the"
    },
    {
      "pos": [
        54730,
        54800
      ],
      "content": "training day cut-off. We do not use examples in the training set when\n",
      "nodes": [
        {
          "content": "training day cut-off.",
          "pos": [
            0,
            21
          ]
        },
        {
          "content": "We do not use examples in the training set when",
          "pos": [
            22,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        54800,
        54872
      ],
      "content": "any part of the 2 future periods for that example is beyond the training"
    },
    {
      "pos": [
        54873,
        54938
      ],
      "content": "cut-off since we assume that we do not have visibility beyond the"
    },
    {
      "pos": [
        54939,
        55010
      ],
      "content": "training cut-off. Due to that constraint, black examples represent the\n",
      "nodes": [
        {
          "content": "training cut-off.",
          "pos": [
            0,
            17
          ]
        },
        {
          "content": "Due to that constraint, black examples represent the",
          "pos": [
            18,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        55010,
        55077
      ],
      "content": "records of the final labeled dataset that should not be used in the"
    },
    {
      "pos": [
        55078,
        55148
      ],
      "content": "training data set. These records won’t be used in testing data either\n",
      "nodes": [
        {
          "content": "training data set.",
          "pos": [
            0,
            18
          ]
        },
        {
          "content": "These records won’t be used in testing data either",
          "pos": [
            19,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        55148,
        55220
      ],
      "content": "since they are before the training cut-off and their labeling timeframes"
    },
    {
      "pos": [
        55221,
        55292
      ],
      "content": "will partially depend on the training timeframe which should not be the"
    },
    {
      "pos": [
        55293,
        55362
      ],
      "content": "case as we would like to completely separate labelling timeframes for"
    },
    {
      "pos": [
        55363,
        55421
      ],
      "content": "training and testing to prevent label information leakage."
    },
    {
      "pos": [
        55423,
        55485
      ],
      "content": "This technique allows for overlap in the data used for feature"
    },
    {
      "pos": [
        55486,
        55556
      ],
      "content": "generation between training and testing examples that are close to the"
    },
    {
      "pos": [
        55557,
        55627
      ],
      "content": "training cut-off. Depending on data availability, an even more severe\n",
      "nodes": [
        {
          "content": "training cut-off.",
          "pos": [
            0,
            17
          ]
        },
        {
          "content": "Depending on data availability, an even more severe",
          "pos": [
            18,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        55627,
        55697
      ],
      "content": "separation can be accomplished by not using any of the examples in the"
    },
    {
      "pos": [
        55698,
        55760
      ],
      "content": "test set that are within W time units of the training cut-off."
    },
    {
      "pos": [
        55762,
        55828
      ],
      "content": "From our work, we found that regression models used for predicting"
    },
    {
      "pos": [
        55829,
        55900
      ],
      "content": "remaining useful life are more severely affected by the leakage problem"
    },
    {
      "pos": [
        55901,
        55970
      ],
      "content": "and using a random split leads to extreme overfitting. Similarly, in\n",
      "nodes": [
        {
          "content": "and using a random split leads to extreme overfitting.",
          "pos": [
            0,
            54
          ]
        },
        {
          "content": "Similarly, in",
          "pos": [
            55,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        55970,
        56041
      ],
      "content": "regression problems, the split should be such that records belonging to"
    },
    {
      "pos": [
        56042,
        56109
      ],
      "content": "assets with failures before training cut off should be used for the"
    },
    {
      "pos": [
        56110,
        56180
      ],
      "content": "training set and assets that have failures after the cut-off should be"
    },
    {
      "pos": [
        56181,
        56202
      ],
      "content": "used for testing set."
    },
    {
      "pos": [
        56204,
        56275
      ],
      "content": "As a general method, another important best practice for splitting data"
    },
    {
      "pos": [
        56276,
        56346
      ],
      "content": "for training and testing is to use a split by asset ID so that none of"
    },
    {
      "pos": [
        56347,
        56415
      ],
      "content": "the assets that were used in training are used for testing since the"
    },
    {
      "pos": [
        56416,
        56485
      ],
      "content": "idea of testing is to make sure that when a new asset is used to make"
    },
    {
      "pos": [
        56486,
        56539
      ],
      "content": "predictions on, the model provides realistic results."
    },
    {
      "pos": [
        56545,
        56569
      ],
      "content": "Handling imbalanced data"
    },
    {
      "pos": [
        56570,
        56642
      ],
      "content": "In classification problems, if there are more examples of one class than"
    },
    {
      "pos": [
        56643,
        56716
      ],
      "content": "of the others, the data is said to be imbalanced. Ideally, we would like\n",
      "nodes": [
        {
          "content": "of the others, the data is said to be imbalanced.",
          "pos": [
            0,
            49
          ]
        },
        {
          "content": "Ideally, we would like",
          "pos": [
            50,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        56716,
        56787
      ],
      "content": "to have enough representatives of each class in the training data to be"
    },
    {
      "pos": [
        56788,
        56858
      ],
      "content": "able to differentiate between different classes. If one class is less\n",
      "nodes": [
        {
          "content": "able to differentiate between different classes.",
          "pos": [
            0,
            48
          ]
        },
        {
          "content": "If one class is less",
          "pos": [
            49,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        56858,
        56930
      ],
      "content": "than 10% of the data, we can say that the data is imbalanced and we call"
    },
    {
      "pos": [
        56931,
        57003
      ],
      "content": "the underrepresented dataset minority class. Drastically, in many cases\n",
      "nodes": [
        {
          "content": "the underrepresented dataset minority class.",
          "pos": [
            0,
            44
          ]
        },
        {
          "content": "Drastically, in many cases",
          "pos": [
            45,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        57003,
        57075
      ],
      "content": "we find imbalanced datasets where one class is severely underrepresented"
    },
    {
      "pos": [
        57076,
        57146
      ],
      "content": "compared to others for example by only constituting 0.001% of the data"
    },
    {
      "pos": [
        57147,
        57216
      ],
      "content": "points. Class imbalance is a problem in many domains including fraud\n",
      "nodes": [
        {
          "content": "points.",
          "pos": [
            0,
            7
          ]
        },
        {
          "content": "Class imbalance is a problem in many domains including fraud",
          "pos": [
            8,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        57216,
        57286
      ],
      "content": "detection, network intrusion and predictive maintenance where failures"
    },
    {
      "pos": [
        57287,
        57359
      ],
      "content": "are usually rare occurrences in the lifetime of the assets which make up"
    },
    {
      "pos": [
        57360,
        57388
      ],
      "content": "the minority class examples."
    },
    {
      "pos": [
        57390,
        57455
      ],
      "content": "In case of class imbalance, performance of most standard learning"
    },
    {
      "pos": [
        57456,
        57524
      ],
      "content": "algorithms are compromised as they aim to minimize the overall error"
    },
    {
      "pos": [
        57525,
        57596
      ],
      "content": "rate. For example, for a data set with 99% negative class examples and\n",
      "nodes": [
        {
          "content": "rate.",
          "pos": [
            0,
            5
          ]
        },
        {
          "content": "For example, for a data set with 99% negative class examples and",
          "pos": [
            6,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        57596,
        57666
      ],
      "content": "1% positive class examples, we can get 99% accuracy by simply labeling"
    },
    {
      "pos": [
        57667,
        57738
      ],
      "content": "all instances as negative. However, this will misclassify all positive\n",
      "nodes": [
        {
          "content": "all instances as negative.",
          "pos": [
            0,
            26
          ]
        },
        {
          "content": "However, this will misclassify all positive",
          "pos": [
            27,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        57738,
        57805
      ],
      "content": "examples so the algorithm is not a useful one although the accuracy"
    },
    {
      "pos": [
        57806,
        57878
      ],
      "content": "metric is very high. Consequently, conventional evaluation metrics such\n",
      "nodes": [
        {
          "content": "metric is very high.",
          "pos": [
            0,
            20
          ]
        },
        {
          "content": "Consequently, conventional evaluation metrics such",
          "pos": [
            21,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        57878,
        57942
      ],
      "content": "as overall accuracy on error rate, are not sufficient in case of"
    },
    {
      "pos": [
        57943,
        58016
      ],
      "content": "imbalanced learning. Other metrics, such as precision, recall, F1 scores\n",
      "nodes": [
        {
          "content": "imbalanced learning.",
          "pos": [
            0,
            20
          ]
        },
        {
          "content": "Other metrics, such as precision, recall, F1 scores",
          "pos": [
            21,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        58016,
        58080
      ],
      "content": "and cost adjusted ROC curves are used for evaluations in case of"
    },
    {
      "pos": [
        58081,
        58150
      ],
      "content": "imbalanced datasets which will be discussed in the Evaluation Metrics"
    },
    {
      "pos": [
        58151,
        58159
      ],
      "content": "section."
    },
    {
      "pos": [
        58161,
        58225
      ],
      "content": "However, there are some methods that help remedy class imbalance"
    },
    {
      "pos": [
        58226,
        58297
      ],
      "content": "problem. The two major ones are sampling techniques and cost sensitive\n",
      "nodes": [
        {
          "content": "problem.",
          "pos": [
            0,
            8
          ]
        },
        {
          "content": "The two major ones are sampling techniques and cost sensitive",
          "pos": [
            9,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        58297,
        58306
      ],
      "content": "learning."
    },
    {
      "pos": [
        58313,
        58329
      ],
      "content": "Sampling methods"
    },
    {
      "pos": [
        58330,
        58392
      ],
      "content": "The use of sampling methods in imbalanced learning consists of"
    },
    {
      "pos": [
        58393,
        58461
      ],
      "content": "modification of the dataset by some mechanisms in order to provide a"
    },
    {
      "pos": [
        58462,
        58527
      ],
      "content": "balanced dataset. Although there are a lot of different sampling\n",
      "nodes": [
        {
          "content": "balanced dataset.",
          "pos": [
            0,
            17
          ]
        },
        {
          "content": "Although there are a lot of different sampling",
          "pos": [
            18,
            64
          ]
        }
      ]
    },
    {
      "pos": [
        58527,
        58599
      ],
      "content": "techniques, most straight forward ones are random oversampling and under"
    },
    {
      "pos": [
        58600,
        58609
      ],
      "content": "sampling."
    },
    {
      "pos": [
        58611,
        58679
      ],
      "content": "Simply stated, random oversampling is selecting a random sample from"
    },
    {
      "pos": [
        58680,
        58750
      ],
      "content": "minority class, replicating these examples and adding them to training"
    },
    {
      "pos": [
        58751,
        58823
      ],
      "content": "data set. This increases the number of total examples in minority class\n",
      "nodes": [
        {
          "content": "data set.",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "This increases the number of total examples in minority class",
          "pos": [
            10,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        58823,
        58895
      ],
      "content": "and eventually balance the number of examples of different classes. One\n",
      "nodes": [
        {
          "content": "and eventually balance the number of examples of different classes.",
          "pos": [
            0,
            67
          ]
        },
        {
          "content": "One",
          "pos": [
            68,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        58895,
        58964
      ],
      "content": "danger of oversampling is that multiple instances of certain examples"
    },
    {
      "pos": [
        58965,
        59037
      ],
      "content": "can cause the classifier to become too specific leading to overfitting.\n",
      "nodes": [
        {
          "content": "can cause the classifier to become too specific leading to overfitting.",
          "pos": [
            0,
            71
          ]
        },
        {
          "content": "\n",
          "pos": [
            71,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        59037,
        59103
      ],
      "content": "This would result in high training accuracy but performance on the"
    },
    {
      "pos": [
        59104,
        59176
      ],
      "content": "unseen testing data may be very poor. Conversely, random under sampling\n",
      "nodes": [
        {
          "content": "unseen testing data may be very poor.",
          "pos": [
            0,
            37
          ]
        },
        {
          "content": "Conversely, random under sampling",
          "pos": [
            38,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        59176,
        59243
      ],
      "content": "is selecting a random sample from majority class and removing those"
    },
    {
      "pos": [
        59244,
        59309
      ],
      "content": "examples from training data set. However, removing examples from\n",
      "nodes": [
        {
          "content": "examples from training data set.",
          "pos": [
            0,
            32
          ]
        },
        {
          "content": "However, removing examples from",
          "pos": [
            33,
            64
          ]
        }
      ]
    },
    {
      "pos": [
        59309,
        59375
      ],
      "content": "majority class may cause the classifier to miss important concepts"
    },
    {
      "pos": [
        59376,
        59447
      ],
      "content": "pertaining to the majority class. Hybrid sampling where minority class\n",
      "nodes": [
        {
          "content": "pertaining to the majority class.",
          "pos": [
            0,
            33
          ]
        },
        {
          "content": "Hybrid sampling where minority class",
          "pos": [
            34,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        59447,
        59517
      ],
      "content": "is oversampled and majority class is under sampled at the same time is"
    },
    {
      "pos": [
        59518,
        59583
      ],
      "content": "another viable approach. There are many other more sophisticated\n",
      "nodes": [
        {
          "content": "another viable approach.",
          "pos": [
            0,
            24
          ]
        },
        {
          "content": "There are many other more sophisticated",
          "pos": [
            25,
            64
          ]
        }
      ]
    },
    {
      "pos": [
        59583,
        59651
      ],
      "content": "sampling techniques are available and effective sampling methods for"
    },
    {
      "pos": [
        59652,
        59723
      ],
      "content": "class imbalance is a popular research area receiving constant attention"
    },
    {
      "pos": [
        59724,
        59793
      ],
      "content": "and contributions from many channels. Use of different techniques to\n",
      "nodes": [
        {
          "content": "and contributions from many channels.",
          "pos": [
            0,
            37
          ]
        },
        {
          "content": "Use of different techniques to",
          "pos": [
            38,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        59793,
        59864
      ],
      "content": "decide on the most effective ones is usually left to the data scientist"
    },
    {
      "pos": [
        59865,
        59928
      ],
      "content": "to research and experiment and are highly dependent on the data"
    },
    {
      "pos": [
        59929,
        59998
      ],
      "content": "properties. Additionally, it is important to make sure that sampling\n",
      "nodes": [
        {
          "content": "properties.",
          "pos": [
            0,
            11
          ]
        },
        {
          "content": "Additionally, it is important to make sure that sampling",
          "pos": [
            12,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        59998,
        60064
      ],
      "content": "methods are applied only to the training set but not the test set."
    },
    {
      "pos": [
        60071,
        60094
      ],
      "content": "Cost sensitive learning"
    },
    {
      "pos": [
        60095,
        60166
      ],
      "content": "In predictive maintenance, failures which constitute the minority class"
    },
    {
      "pos": [
        60167,
        60237
      ],
      "content": "are of more interest than normal examples and thus the focus is on the"
    },
    {
      "pos": [
        60238,
        60309
      ],
      "content": "performance of the algorithm on failures is usually the focus. This is\n",
      "nodes": [
        {
          "content": "performance of the algorithm on failures is usually the focus.",
          "pos": [
            0,
            62
          ]
        },
        {
          "content": "This is",
          "pos": [
            63,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        60309,
        60380
      ],
      "content": "commonly referred as unequal loss or asymmetric costs of misclassifying"
    },
    {
      "pos": [
        60381,
        60452
      ],
      "content": "elements of different classes wherein incorrectly predicting a positive"
    },
    {
      "pos": [
        60453,
        60526
      ],
      "content": "as negative can cost more than vice versa. The desired classifier should\n",
      "nodes": [
        {
          "content": "as negative can cost more than vice versa.",
          "pos": [
            0,
            42
          ]
        },
        {
          "content": "The desired classifier should",
          "pos": [
            43,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        60526,
        60591
      ],
      "content": "be able to give high prediction accuracy over the minority class,"
    },
    {
      "pos": [
        60592,
        60661
      ],
      "content": "without severely compromising on the accuracy for the majority class."
    },
    {
      "pos": [
        60663,
        60736
      ],
      "content": "There are several ways this can be achieved. By assigning a high cost to\n",
      "nodes": [
        {
          "content": "There are several ways this can be achieved.",
          "pos": [
            0,
            44
          ]
        },
        {
          "content": "By assigning a high cost to",
          "pos": [
            45,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        60736,
        60803
      ],
      "content": "misclassification of the minority class, and trying to minimize the"
    },
    {
      "pos": [
        60804,
        60871
      ],
      "content": "overall cost, the problem of unequal loses can be effectively dealt"
    },
    {
      "pos": [
        60872,
        60944
      ],
      "content": "with. Some machine learning algorithms use this idea inherently such as\n",
      "nodes": [
        {
          "content": "with.",
          "pos": [
            0,
            5
          ]
        },
        {
          "content": "Some machine learning algorithms use this idea inherently such as",
          "pos": [
            6,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        60944,
        61010
      ],
      "content": "SVMs (Support Vector Machines) where cost of positive and negative"
    },
    {
      "pos": [
        61011,
        61082
      ],
      "content": "examples can be incorporated during training time. Similarly, boosting\n",
      "nodes": [
        {
          "content": "examples can be incorporated during training time.",
          "pos": [
            0,
            50
          ]
        },
        {
          "content": "Similarly, boosting",
          "pos": [
            51,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        61082,
        61154
      ],
      "content": "methods are used and usually show good performance in case of imbalanced"
    },
    {
      "pos": [
        61155,
        61201
      ],
      "content": "data such as boosted decision tree algorithms."
    },
    {
      "pos": [
        61206,
        61224
      ],
      "content": "Evaluation metrics"
    },
    {
      "pos": [
        61225,
        61289
      ],
      "content": "As mentioned earlier, class imbalance causes poor performance as"
    },
    {
      "pos": [
        61290,
        61362
      ],
      "content": "algorithms tend to classify majority class examples better in expense of"
    },
    {
      "pos": [
        61363,
        61428
      ],
      "content": "minority class cases as the total misclassification error is much"
    },
    {
      "pos": [
        61429,
        61496
      ],
      "content": "improved when majority class is labeled correctly. This causes low\n",
      "nodes": [
        {
          "content": "improved when majority class is labeled correctly.",
          "pos": [
            0,
            50
          ]
        },
        {
          "content": "This causes low",
          "pos": [
            51,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        61496,
        61567
      ],
      "content": "recall rates and becomes a larger problem when the cost of false alarms"
    },
    {
      "pos": [
        61568,
        61639
      ],
      "content": "to the business is very high. Accuracy is the most popular metric used\n",
      "nodes": [
        {
          "content": "to the business is very high.",
          "pos": [
            0,
            29
          ]
        },
        {
          "content": "Accuracy is the most popular metric used",
          "pos": [
            30,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        61639,
        61709
      ],
      "content": "for describing a classifier’s performance. However as explained above\n",
      "nodes": [
        {
          "content": "for describing a classifier’s performance.",
          "pos": [
            0,
            42
          ]
        },
        {
          "content": "However as explained above",
          "pos": [
            43,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        61709,
        61777
      ],
      "content": "accuracy is ineffective and do not reflect the real performance of a"
    },
    {
      "pos": [
        61778,
        61836
      ],
      "content": "classifier’s functionality as it is very sensitive to data"
    },
    {
      "pos": [
        61837,
        61905
      ],
      "content": "distributions. Instead, other evaluation metrics are used to assess\n",
      "nodes": [
        {
          "content": "distributions.",
          "pos": [
            0,
            14
          ]
        },
        {
          "content": "Instead, other evaluation metrics are used to assess",
          "pos": [
            15,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        61905,
        61976
      ],
      "content": "imbalanced learning problems. In those cases, precision, recall and F1\n",
      "nodes": [
        {
          "content": "imbalanced learning problems.",
          "pos": [
            0,
            29
          ]
        },
        {
          "content": "In those cases, precision, recall and F1",
          "pos": [
            30,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        61976,
        62039
      ],
      "content": "scores should be the initial metrics to look at when evaluating"
    },
    {
      "pos": [
        62040,
        62109
      ],
      "content": "predictive maintenance model performance. In predictive maintenance,\n",
      "nodes": [
        {
          "content": "predictive maintenance model performance.",
          "pos": [
            0,
            41
          ]
        },
        {
          "content": "In predictive maintenance,",
          "pos": [
            42,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        62109,
        62174
      ],
      "content": "recall rates denote how many of the failures in the test set were"
    },
    {
      "pos": [
        62175,
        62248
      ],
      "content": "correctly identified by the model. Higher recall rates mean the model is\n",
      "nodes": [
        {
          "content": "correctly identified by the model.",
          "pos": [
            0,
            34
          ]
        },
        {
          "content": "Higher recall rates mean the model is",
          "pos": [
            35,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        62248,
        62318
      ],
      "content": "successful in catching the true failures. Precision metric relates to\n",
      "nodes": [
        {
          "content": "successful in catching the true failures.",
          "pos": [
            0,
            41
          ]
        },
        {
          "content": "Precision metric relates to",
          "pos": [
            42,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        62318,
        62384
      ],
      "content": "the rate of false alarms where lower precision rates correspond to"
    },
    {
      "pos": [
        62385,
        62457
      ],
      "content": "higher false alarms. F1 score considers both precision and recall rates\n",
      "nodes": [
        {
          "content": "higher false alarms.",
          "pos": [
            0,
            20
          ]
        },
        {
          "content": "F1 score considers both precision and recall rates",
          "pos": [
            21,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        62457,
        62499
      ],
      "content": "with best value being 1 and worst being 0."
    },
    {
      "pos": [
        62501,
        62571
      ],
      "content": "Moreover, for binary classification, decile tables and lift charts are"
    },
    {
      "pos": [
        62572,
        62641
      ],
      "content": "very informative when evaluating performance. They focus only on the\n",
      "nodes": [
        {
          "content": "very informative when evaluating performance.",
          "pos": [
            0,
            45
          ]
        },
        {
          "content": "They focus only on the",
          "pos": [
            46,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        62641,
        62708
      ],
      "content": "positive class (failures) and provide a more complex picture of the"
    },
    {
      "pos": [
        62709,
        62775
      ],
      "content": "algorithm performance than what is seen by looking at just a fixed"
    },
    {
      "pos": [
        62776,
        62846
      ],
      "content": "operating point on the ROC (Receiver Operating Characteristic) curve.\n",
      "nodes": [
        {
          "content": "operating point on the ROC (Receiver Operating Characteristic) curve.",
          "pos": [
            0,
            69
          ]
        },
        {
          "content": "\n",
          "pos": [
            69,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        62846,
        62915
      ],
      "content": "Decile tables are obtained by ordering the test examples according to"
    },
    {
      "pos": [
        62916,
        62986
      ],
      "content": "their predicted probabilities of failures computed by the model before"
    },
    {
      "pos": [
        62987,
        63059
      ],
      "content": "thresholding to decide on the final label. The ordered samples are then\n",
      "nodes": [
        {
          "content": "thresholding to decide on the final label.",
          "pos": [
            0,
            42
          ]
        },
        {
          "content": "The ordered samples are then",
          "pos": [
            43,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        63059,
        63128
      ],
      "content": "grouped in deciles (i.e. the 10% samples with largest probability and"
    },
    {
      "pos": [
        63129,
        63200
      ],
      "content": "then 20%, 30% and so on). By computing the ratio between true positive\n",
      "nodes": [
        {
          "content": "then 20%, 30% and so on).",
          "pos": [
            0,
            25
          ]
        },
        {
          "content": "By computing the ratio between true positive",
          "pos": [
            26,
            70
          ]
        }
      ]
    },
    {
      "pos": [
        63200,
        63270
      ],
      "content": "rate of each decile and its random baseline (i.e. 0.1, 0.2 ..) one can"
    },
    {
      "pos": [
        63271,
        63339
      ],
      "content": "estimate how the algorithm performance changes at each decile. Lift\n",
      "nodes": [
        {
          "content": "estimate how the algorithm performance changes at each decile.",
          "pos": [
            0,
            62
          ]
        },
        {
          "content": "Lift",
          "pos": [
            63,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        63339,
        63409
      ],
      "content": "charts are used to plot decile values by plotting decile true positive"
    },
    {
      "pos": [
        63410,
        63480
      ],
      "content": "rate versus random true positive rate pairs for all deciles. Usually,\n",
      "nodes": [
        {
          "content": "rate versus random true positive rate pairs for all deciles.",
          "pos": [
            0,
            60
          ]
        },
        {
          "content": "Usually,",
          "pos": [
            61,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        63480,
        63548
      ],
      "content": "the first deciles are the focus of the results since here we see the"
    },
    {
      "pos": [
        63549,
        63621
      ],
      "content": "largest gains. First deciles can also be seen as representative for \"at\n",
      "nodes": [
        {
          "content": "largest gains.",
          "pos": [
            0,
            14
          ]
        },
        {
          "content": "First deciles can also be seen as representative for \"at",
          "pos": [
            15,
            71
          ]
        }
      ]
    },
    {
      "pos": [
        63621,
        63664
      ],
      "content": "risk\" when used for predictive maintenance."
    },
    {
      "pos": [
        63669,
        63697
      ],
      "content": "Sample solution architecture"
    },
    {
      "pos": [
        63698,
        63768
      ],
      "content": "When deploying a predictive maintenance solution, we are interested in"
    },
    {
      "pos": [
        63769,
        63832
      ],
      "content": "an end to end solution that provides a continuous cycle of data"
    },
    {
      "pos": [
        63833,
        63896
      ],
      "content": "ingestion, data storage for model training, feature generation,"
    },
    {
      "pos": [
        63897,
        63960
      ],
      "content": "prediction and visualization of the results along with an alert"
    },
    {
      "pos": [
        63961,
        64031
      ],
      "content": "generating mechanism such as an asset monitoring dashboard. We want a\n",
      "nodes": [
        {
          "content": "generating mechanism such as an asset monitoring dashboard.",
          "pos": [
            0,
            59
          ]
        },
        {
          "content": "We want a",
          "pos": [
            60,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        64031,
        64102
      ],
      "content": "data pipeline that provides future insights to the user in a continuous"
    },
    {
      "pos": [
        64103,
        64172
      ],
      "content": "automated manner. An example predictive maintenance architecture for\n",
      "nodes": [
        {
          "content": "automated manner.",
          "pos": [
            0,
            17
          ]
        },
        {
          "content": "An example predictive maintenance architecture for",
          "pos": [
            18,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        64172,
        64239
      ],
      "content": "such an IoT data pipeline is illustrated in Figure 8 below. In the\n",
      "nodes": [
        {
          "content": "such an IoT data pipeline is illustrated in Figure 8 below.",
          "pos": [
            0,
            59
          ]
        },
        {
          "content": "In the",
          "pos": [
            60,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        64239,
        64309
      ],
      "content": "architecture, real time telemetry is collected into an Event Hub which"
    },
    {
      "pos": [
        64310,
        64379
      ],
      "content": "stores streaming data. This data is ingested by stream analytics for\n",
      "nodes": [
        {
          "content": "stores streaming data.",
          "pos": [
            0,
            22
          ]
        },
        {
          "content": "This data is ingested by stream analytics for",
          "pos": [
            23,
            68
          ]
        }
      ]
    },
    {
      "pos": [
        64379,
        64449
      ],
      "content": "real-time processing of data such as feature generation. The features\n",
      "nodes": [
        {
          "content": "real-time processing of data such as feature generation.",
          "pos": [
            0,
            56
          ]
        },
        {
          "content": "The features",
          "pos": [
            57,
            69
          ]
        }
      ]
    },
    {
      "pos": [
        64449,
        64519
      ],
      "content": "are then used to call the predictive model web service and results are"
    },
    {
      "pos": [
        64520,
        64588
      ],
      "content": "displayed on the dashboard. At the same time, ingested data is also\n",
      "nodes": [
        {
          "content": "displayed on the dashboard.",
          "pos": [
            0,
            27
          ]
        },
        {
          "content": "At the same time, ingested data is also",
          "pos": [
            28,
            67
          ]
        }
      ]
    },
    {
      "pos": [
        64588,
        64658
      ],
      "content": "stored in an historical database and merged with external data sources"
    },
    {
      "pos": [
        64659,
        64731
      ],
      "content": "such as on-premise data bases to create training examples for modeling.\n",
      "nodes": [
        {
          "content": "such as on-premise data bases to create training examples for modeling.",
          "pos": [
            0,
            71
          ]
        },
        {
          "content": "\n",
          "pos": [
            71,
            72
          ]
        }
      ]
    },
    {
      "pos": [
        64731,
        64801
      ],
      "content": "Same data warehouses can be used for batch scoring of the examples and"
    },
    {
      "pos": [
        64802,
        64870
      ],
      "content": "storing of the results which can again be used to provide predictive"
    },
    {
      "pos": [
        64871,
        64896
      ],
      "content": "reports on the dashboard."
    },
    {
      "pos": [
        64898,
        65085
      ],
      "content": "<ph id=\"ph18\">![</ph>Figure 8. Example solution architecture for predictive maintenance<ph id=\"ph19\">](media/cortana-analytics-playbook-predictive-maintenance/example-solution-architecture-for-predictive-maintenance.png)</ph>",
      "nodes": [
        {
          "content": "<ph id=\"ph18\">![</ph>Figure 8.",
          "pos": [
            0,
            30
          ]
        },
        {
          "content": "Example solution architecture for predictive maintenance<ph id=\"ph19\">](media/cortana-analytics-playbook-predictive-maintenance/example-solution-architecture-for-predictive-maintenance.png)</ph>",
          "pos": [
            31,
            225
          ]
        }
      ]
    },
    {
      "pos": [
        65087,
        65153
      ],
      "content": "Figure 8. Example solution architecture for predictive maintenance",
      "nodes": [
        {
          "content": "Figure 8.",
          "pos": [
            0,
            9
          ]
        },
        {
          "content": "Example solution architecture for predictive maintenance",
          "pos": [
            10,
            66
          ]
        }
      ]
    },
    {
      "pos": [
        65155,
        65293
      ],
      "content": "For more information about each of the components of the architecture\nplease refer to <bpt id=\"p21\">[</bpt>Azure<ept id=\"p21\">](https://azure.microsoft.com/)</ept><ph id=\"ph20\"/> documentation."
    }
  ],
  "content": "<properties\n    pageTitle=\"Cortana Analytics Solution Template Playbook for predictive maintenance in aerospace and other businesses | Microsoft Azure\"\n    description=\"A Solution Template with Microsoft Cortana Analytics for predictive maintenance in aerospace, utilities, and transportation.\"\n    services=\"cortana-analytics\"\n    documentationCenter=\"\"\n    authors=\"fboylu\"\n    manager=\"paulettm\"\n    editor=\"cgronlun\"/>\n\n<tags\n    ms.service=\"cortana-analytics\"\n    ms.workload=\"data-services\"\n    ms.tgt_pltfrm=\"na\"\n    ms.devlang=\"na\"\n    ms.topic=\"article\"\n    ms.date=\"01/15/2016\"\n    ms.author=\"fboylu\" />\n\n# Cortana Analytics Solution Template Playbook for predictive maintenance in aerospace and other businesses\n\n## Executive summary  \nPredictive maintenance is one of the most demanded applications of\npredictive analytics with unarguable benefits including tremendous\namount of cost savings. This playbook aims at providing a reference for\npredictive maintenance solutions with the emphasis on major use cases.\nIt is prepared to give the reader an understanding of the most common\nbusiness scenarios of predictive maintenance, challenges of qualifying\nbusiness problems for such solutions, data required to solve these\nbusiness problems, predictive modeling techniques to build solutions\nusing such data and best practices with sample solution architectures.\nIt also describes the specifics of the predictive models developed such\nas feature engineering, model development and performance evaluation. In\nessence, this playbook brings together the business and analytical\nguidelines needed for a successful development and deployment of\npredictive maintenance solutions. These guidelines are prepared to help\nthe audience create an initial solution using Cortana Analytics Suite\nand specifically Azure Machine Learning as a starting point in their\nlong term predictive maintenance strategy. The documentation regarding\nCortana Analytics Suite and Azure Machine Learning can be found in\n[Cortana\nAnalytics](http://www.microsoft.com/server-cloud/cortana-analytics-suite/overview.aspx)\nand [Azure Machine\nLearning](https://azure.microsoft.com/services/machine-learning/)\npages.\n\n>[AZURE.TIP]\nFor a technical guide to implementing this Solution Template, see [Technical guide to the Cortana Analytics Solution Template for predictive maintenance](cortana-analytics-technical-guide-predictive-maintenance.md).\nTo download a diagram that provides an architectural overview of this template, see\n[Architecture of the Cortana Analytics Solution Template for predictive maintenance](cortana-analytics-architecture-predictive-maintenance.md).\n\n## Playbook overview and target audience  \nThis playbook is organized to benefit both technical\nand non-technical audience with varying backgrounds and interests in\npredictive maintenance space. The playbook covers both high level\naspects of the different types of predictive maintenance solutions and\ndetails of how to implement them. The content is balanced to\ncater both to the audience who are only interested in understanding the\nsolution space and the type of applications as well as those who are\nlooking to implement these solutions and are hence interested in the\ntechnical details.\n\nMajority of the content in this playbook does not assume prior data\nscience knowledge or expertise. However, some parts of the playbook will\nrequire somewhat familiarity with data science concepts to be able to\nfollow implementation details. Introductory level data science skills\nare required to fully benefit from the material in those sections.\n\nThe first half of the playbook covers an introduction to predictive\nmaintenance applications, how to qualify a predictive maintenance\nsolution, a collection of common use cases with the details of the\nbusiness problem, the data surrounding these use cases and the business\nbenefits of implementing these predictive maintenance solutions. These\nsections don’t require any technical knowledge in the predictive\nanalytics domain.\n\nIn the second half of the playbook, we cover the types of predictive\nmodeling techniques for predictive maintenance applications and how to\nimplement these models through examples from the use cases outlined in\nthe first half of the playbook. This is illustrated by going through the\nsteps of data preprocessing such as data labeling and feature\nengineering, model selection, training/testing and performance evaluation\nbest practices. These sections are suitable for technical audience.\n\n\n## Predictive maintenance in IoT\nThe impact of unscheduled equipment downtime can be extremely\ndestructive for businesses. It is critical to keep field equipment\nrunning in order to maximize utilization and performance and by minimizing\ncostly, unscheduled downtime. Simply, waiting for the failure to occur\nis not affordable in today’s business operations\nscene. To remain competitive, companies look for new ways to maximize\nasset performance by making use of the data collected from various\nchannels. One important way to analyze such information is to utilize\npredictive analytic techniques that use historical patterns to predict\nfuture outcomes. One of the most popular of these solutions is called\nPredictive Maintenance which can generally be defined as but not limited\nto predicting possibility of failure of an asset in the near future so\nthat the assets can be monitored to proactively identify failures and\ntake action before the failures occur. These solutions detect failure\npatterns to determine assets that are at the greatest risk of failure.\nThis early identification of issues helps deploy limited maintenance\nresources in a more cost-effective way and enhance quality and supply\nchain processes.\n\nWith the rise of the Internet of Things (IoT) applications, predictive\nmaintenance has been gaining increasing attention in the industry as the\ndata collection and processing technologies has matured enough to\ngenerate, transmit, store and analyze all kinds of data in batches or in\nreal-time. Such technologies enable easy development and deployment of\nend-to-end solutions with advanced analytics solutions, with\npredictive maintenance solutions providing\narguably the largest amount of benefits.\n\nBusiness problems in the predictive maintenance domain range from high\noperational risk due to unexpected failures and limited insight into the\nroot cause of problems in complex business environments. The majority of\nthese problems can be categorized to fall under the following business\nquestions:\n\n-   What is the probability that an equipment will fail in the near\n    future?\n-   What is the remaining useful life of the equipment?\n-   What are the causes of failures and what maintenance actions should\n    be performed to fix these issues?\n\nBy utilizing predictive maintenance to answer these questions,\nbusinesses can:\n-   Reduce operational risk and increase rate of return on assets by\n    spotting failures before they occurred\n-   Reduce unnecessary time-based maintenance operations and control\n    cost of maintenance\n-   Improve overall brand image, eliminate bad publicity and resulting\n    lost sales from customer attrition.\n-   Lower inventory costs by reducing inventory levels by predicting the\n    reorder point\n-   Discover patterns connected to various maintenance problems\n\nPredictive maintenance solutions can provide businesses with key\nperformance indicators such as health scores to monitor real-time asset\ncondition, an estimate of the remaining lifespan of assets,\nrecommendation for proactive maintenance activities and estimated order\ndates for replacement of parts.\n\n## Qualification criteria for predictive maintenance\nIt is important to emphasize that not all use cases or business problems\ncan be effectively solved by predictive maintenance. Important\nqualification criteria include whether the problem is predictive in nature,\nthat a clear path of action exists in order to prevent failures when they\nare detected beforehand and most importantly, data with sufficient\nquality to support the use case is available. Here, we focus on the data\nrequirements for building a successful predictive maintenance solution.\n\nWhen building predictive models, we use historical data to train the\nmodel which will then recognize hidden patterns and further identify\nthese patterns in the future data. These models are trained with\nexamples described by their features and the target of prediction. The\ntrained model is expected to make predictions on the target by only\nlooking at the features of the new examples. It is crucial that the\nmodel capture the relationship between features and the target of\nprediction. In order to train an effective machine learning model, we\nneed training data which includes features that actually have predictive\npower towards the target of prediction meaning the data should be relevant\nto the prediction goal to expect accurate predictions.\n\nFor example, if the target is to predict failures of train wheels, the\ntraining data should contain wheel related features (e.g. telemetry\nreflecting the health status of wheels, the mileage, car load, etc.).\nHowever, if the target is to predict train engine failures, we probably\nneed another set of training data that has engine related features.\nBefore building predictive models, we expect the business expert to\nunderstand the data relevancy requirement and provide the domain\nknowledge that is needed to select relevant subsets of data for the analysis.\n\nThere are three essential data sources we look for when qualifying a\nbusiness problem to be suitable for a predictive maintenance solution:\n1.  Failure History: Typically, in predictive maintenance applications,\n    failure events are very rare. However, when building predictive\n    models that will predict failures, the algorithm needs to learn the\n    normal operation pattern as well as the failure pattern through the\n    training process. Hence, it is essential that the training data\n    contains sufficient number of examples in both categories in order\n    to learn these two different patterns. For that reason, we require\n    that data has sufficient number of failure events. Failure events\n    can be found in maintenance records and parts replacement history or\n    anomalies in the training data can also be used as failures as\n    identified by the domain experts.\n2.  Maintenance/Repair History: An essential source of data for\n    predictive maintenance solutions is the detailed maintenance history\n    of the asset containing information about the components replaced,\n    preventive maintenance activates performed, etc. It is extremely\n    important to capture these events as these will affect the\n    degradation patterns and absence of this information will cause\n    misleading results.\n3.  Machine Conditions: In order to predict how many more days (hours,\n    miles, transactions, etc.) a machine will last before it fails, we\n    assume the machine’s health status will degrade over time during\n    its operation. Therefore, we expect the data to contain time-varying\n    features that capture this aging pattern and any anomalies that will\n    lead to degradation. In IoT applications, the telemetry data from\n    different sensors represent one good example. In order to predict if\n    a machine is going to fail within a time frame, ideally the data\n    should capture degrading trend during this time frame before the\n    actual failure event.\n\nAdditionally, we require data that is directly related to the operating\nconditions of the target asset of prediction. The decision of target is\nbased on both business needs and data availability. Taking the train\nwheel failure prediction as an example, we may predict \"if the wheel is\ngoing to have a failure\" or \"if the whole train is going have a\nfailure\". The first one targets a more specific component whereas the\nsecond one targets failure of the train. The second one is a more general question\nthat will require a lot more dispersed data elements than the first one,\nmaking it harder to build a model. Conversely, trying to predict wheel\nfailures just by looking at the high level train condition data may not\nbe feasible as it does not contain information at the component level.\nIn general, it is more sensible to predict specific failure events than\nmore general ones.\n\nOne common question that is usually asked about failure history data is\n\"How many failure events are required to train a model and how many is\nconsidered as \"enough\"? There is no clear answer to that question as in\nmany predictive analytics scenarios, it is usually the quality of the\ndata that dictates what is acceptable. If the dataset does not include\nfeatures that are relevant to failure prediction, then even if there are\nmany failure events, building a good model may not be possible. However,\nthe rule of thumb is that the more the failure events the better the\nmodel will be and a rough estimate of how many failure examples are\nrequired is a very context and data dependent measure. This issue is\ndiscussed in the section for handling imbalanced datasets where we\npropose methods to cope with the problem of not having enough failures.\n\n## Sample use cases\nThis section focuses on a collection of predictive maintenance use cases\nfrom several industries such as Aerospace, Utilities and Transportation.\nEach subsection drills into the use cases collected in these areas and\ndiscuss business problem, the data surrounding the business problem and\nthe benefits of a predictive maintenance solution.\n\n### Aerospace\n#### Use Case 1: Flight delay and cancellations\n##### *Business problem and data sources*\nOne of the major business problems that airlines face is the significant\ncosts that are associated with flights being delayed due to mechanical\nproblems. If the mechanical failures cannot be repaired, flights may\neven be cancelled. This is extremely costly as delays create problems in\nscheduling and operations, causes bad reputation and customer\ndissatisfaction along with many other problems. Airlines are\nparticularly interested in predicting such mechanical failures in\nadvance so that they can reduce flight delays or cancellations. The goal\nof the predictive maintenance solution for these cases is to predict the\nprobability of aircrafts being delayed or canceled in the future, based\non relevant data sources such as maintenance history and flight route\ninformation. The two major data sources for this use case are the flight\nlegs and page logs. Flight leg data includes data about the flight route\ndetails such as the date and time of departure and arrival, departure\nand arrival airports, etc. Page log data includes a series of error and\nmaintenance codes that are recorded by the maintenance personnel.\n\n##### *Business value of the predictive model*\nUsing the available historical data, a predictive model was built using\na multi-classification algorithm to predict the type of mechanical issue\nwhich will result in a delay or cancellation of a flight within the next 24 hours.\nBy making this prediction, necessary maintenance actions can be taken\nto mitigate the risk while the aircrafts are being serviced and thus prevent\npossible delays or cancellations. Using Azure Machine Learning\nweb service, the predictive models can seamlessly and easily be integrated\ninto airlines’ existing operating platforms. \n\n#### Use Case 2: Aircraft component failure\n##### *Business problem and data sources*\nAircraft engines are very sensitive and expensive pieces of equipment\nand engine part replacements are among the most common maintenance tasks\nin the airline industry. Maintenance solutions for airlines require\ncareful management of component stock availability, delivery and\nplanning. Being able to gather intelligence on component reliability\nwill lead to substantial reduction on investment costs. The major data\nsource for this use case is telemetry data collected from a number of\nsensors in the aircraft providing information on the condition of the\naircraft. Maintenance records were also used to identify when component\nfailures occurred and replacements were made.\n\n##### Business value of the predictive model\nA multi-class classification model was built that predicts the\nprobability of a failure due to a certain component within the next\nmonth. By employing these solutions, airlines can reduce component\nrepair costs, improve component stock availability, reduce inventory\nlevels of related assets and improve maintenance planning.\n\n### Utilities\n#### Use Case 1: ATM cash dispense failure\n##### *Business problem and data sources*\nExecutives in asset intensive industries often state that primary\noperational risk to their businesses is unexpected failures of their\nassets. As an example, failure of machinery such as ATMs in banking\nindustry is a very common problem that occurs frequently. These type of\nproblems makes predictive maintenance solutions very desirable for\noperators of such machinery. In this use case, prediction problem is\nto calculate the probability that an ATM cash withdrawal transaction\nwill get interrupted due to a failure in the cash dispenser such as a\npaper jam or a part failure. Major data sources for this case are sensor\nreadings that collect measurements while cash notes are being dispensed\nand also maintenance records collected over time. Sensor data included\nsensor readings per each transaction completed and also sensor readings\nper each note dispensed. The sensor readings provided measurements such\nas gaps between notes, thickness, note arrival distance etc. Maintenance\ndata included error codes and repair information. These were used to\nidentify failure cases.\n\n##### *Business value of the predictive model*\nTwo predictive models were built to predict failures in the cash\nwithdrawal transactions and failures in the individual notes dispensed\nduring a transaction. By being able to predict transaction failures\nbeforehand, ATMs can be serviced proactively to prevent failures from\noccurring. Also, with note failure prediction, if a transaction is\nlikely to fail before it is complete due to a note dispense failure, it\nmay be best to stop the process and warn the customer for incomplete\ntransaction rather than waiting for the maintenance service to arrive\nafter the error occurs which may lead to larger customer\ndissatisfaction.\n\n#### Use Case 2: Wind turbine failures\n##### *Business problem and data sources*\nWith the raise of environmental awareness, wind turbines have become one\nof the major sources of energy generation and they usually cost millions\nof dollars. One of the key components of wind turbines is the generator\nmotor which is equipped with many sensors that helps to monitor turbine\nconditions and status. The sensor readings contain valuable information\nwhich can be used to build a predictive model to predict critical Key Performance Indicators (KPIs)\nsuch as mean time to failure for components of the wind turbine. Data\nfor this use case comes from multiple wind turbines that are located in\n3 different farm locations. Measurements from close to a hundred sensors from each\nturbine were recorded every 10 seconds for one year. These readings\ninclude measurements such as temperature, generator speed, turbine power\nand generator winding.\n\n##### *Business value of the predictive model*\nPredictive models were built to estimate remaining useful life for\ngenerators and temperature sensors. By predicting the probability of\nfailure, maintenance technicians can focus on suspicious turbines that\nare likely to fail soon to complement time based maintenance regimes.\nAdditionally, predictive models bring insight to the level of\ncontribution for different factors to the probability of a failure which\nhelps business to have a better understanding of the root cause of the\nproblems.\n\n#### Use Case 3: Circuit breaker failures\n##### *Business problem and data sources*\nElectricity and gas operations that include generation, distribution and\nsale of electrical energy require significant amount of maintenance to\nensure power lines are operational at all times to guarantee delivery of\nenergy to households. Failure of such operations is critical as almost\nevery entity is effected by power problems in the regions that they\noccur. Circuit breakers are critical for such operations as they are a\npiece of equipment that cut electrical current in case of problems and\nshort circuits to prevent any damage to power lines from happening. The\nbusiness problem for this use case is to predict circuit breaker\nfailures given maintenance logs, command history and technical\nspecifications.\n\nThree major data sources for this case are maintenance logs that include\ncorrective, preventive and systematic actions, operational data that\nincludes automatic and manual commands send to circuit breakers such as\nfor open and close actions and technical specification data about the\nproperties of each circuit breaker such as year made, location, model,\netc.\n\n##### *Business value of the predictive model*\nPredictive maintenance solutions help reduce repair costs and increase\nthe lifecycle of equipment such as circuit breakers. These models will\nalso help improve the quality of the power network since models will\nprovide warnings ahead of time that will reduce unexpected failures\nwhich will lead to less interruptions to the service.\n\n#### Use Case 4: Elevator door failures\n##### *Business problem and data sources*\nMost large elevator companies typically have millions of elevators running around the world. To gain a competitive edge, they focus on reliability which is what matters most to their customers. Drawing on the potential of the Internet of Things, by connecting their elevators to the cloud and gathering data from elevator sensors and systems, they will be able to transform data into valuable business intelligence which will vastly improve operations by offering predictive and preemptive maintenance that is not something that is available to the competitors yet. The business requirement for this case is to provide a knowledge base predictive application that will predict the potential causes of door failures. The required data for this implementation consists of three parts which are elevator static features (e.g. identifiers, contract maintenance frequency, building type, etc.), usage information (e.g. number of door cycles, average door close time, etc.) and failure history (i.e. historical failure records and their causes).\n\nA multiclass logistic regression model was built with Azure Machine\nLearning to solve the prediction problem, with the integrated static\nfeatures and usage data as features, and the causes of historical\nfailure records as class labels. This predictive model will be consumed\nby an app on a mobile device which will be used by field technicians to\nhelp improve working efficiency. When a technician goes on site to\nrepair an elevator, he/she can refer to this app for recommended causes\nand best courses of maintenance actions to fix the elevator doors as\nfast as possible.\n\n### Transportation and logistics\n#### Use Case 1: Brake disc failures\n##### *Business problem and data sources*\nTypical maintenance policies for vehicles include corrective and\npreventive maintenance. Corrective maintenance implies that the vehicle\nis repaired after a failure has occurred which can cause a severe\ninconvenience to the driver as a result of an unexpected malfunction and\nthe time wasted on a visit to mechanic. Most vehicles are also subject\nto a preventive maintenance policy, which requires performing certain\ninspections at a schedule which does not take into account the actual\ncondition of the car subsystems. None of these approaches are successful\nin fully eliminating problems. The specific use case here is brake disc\nfailure prediction based on data collected through sensors installed in\nthe tire system of a car which keeps track of historical driving patterns\nand other conditions that the car is exposed to. The most important data\nsource for this case is the sensor data that measure, for instance,\naccelerations, braking patterns, driving distances, velocity, etc. This\ninformation, coupled with other static information such as car features,\nhelp build a good set of predictors that can be used in a predictive model. Another set\nof essential information is the failure data which is inferred from the\npart order database (used to keep the spare part order dates and\nquantities as cars are being serviced in the dealerships).\n\n##### *Business value of the predictive model*\nThe business value of a predictive approach here is substantial. A\npredictive maintenance system can schedule a visit to the dealer based\non a predictive model. The model can be based on sensory information that is representing the\ncurrent condition of the car and the driving\nhistory. This approach can minimize the risk of unexpected failures,\nwhich may as well occur before the next periodic maintenance.\nIt can also reduce the amount of unnecessary preventive maintenance\nactivities. Driver can proactively be informed that a change of parts\nmight be necessary in a few weeks and supply the dealer with that\ninformation. The dealer could than prepare an individual maintenance\npackage for the driver in advance.\n\n#### Use Case 2: Subway train door failures\n##### *Business problem and data sources*\nOne of the major reasons of delays and problems on subway operations is\ndoor failures of train cars. Predicting if a train car may have a door\nfailure, or being able to forecast the number of days till the next\ndoor failure, is extremely important foresight. It provides the opportunity\nto optimize train door servicing and reduce the train's down time.\n\n#### Data sources\n\nThree sources of data in this use\ncase are train event data which is historical records of train events,\nmaintenance data such as maintenance types, work order types, priority\ncodes etc and records of failures.\n\n##### *Business value of the predictive model*\nTwo models were built to predict next day failure probability using\nbinary classification and days till failure using regression. Similar to\nthe earlier cases, the models create tremendous opportunity to improve\nquality of service and increase customer satisfaction by complementing\nthe regular maintenance regimes.\n\n## Data preparation\n### Data sources\nThe common data elements for predictive maintenance problems can be\nsummarized as follows:\n-   Failure history: The failure history of a machine or component\n    within the machine.\n-   Maintenance history: The repair history of a machine, e.g. error\n    codes, previous maintenance activities or component replacements.\n-   Machine conditions and usage: The operating conditions of a\n    machine e.g. data collected from sensors.\n-   Machine features: The features of a machine, e.g. engine size, make\n    and model, location.\n-   Operator features: The features of the operator, e.g. gender,\n    past experience.\n\nIt is possible and usually the case that failure history is contained in\nmaintenance history such as in the form of special error codes or order\ndates for spare parts. In those cases, failures can be extracted from\nthe maintenance data. Additionally, different business domains may have\na variety of other data sources that influence failure patterns which\nare not listed here exhaustively. These should be identified by\nconsulting the domain experts when building predictive models.\n\nSome examples of above data elements from use cases are:\n\nFailure history: fight delay dates, aircraft component failure dates and\ntypes, ATM cash withdrawal transaction failures, train/elevator door\nfailures, brake disk replacement order dates, wind turbine failure dates\nand circuit breaker command failures.\n\nMaintenance history: Flight error logs, ATM transaction error logs,\ntrain maintenance records including maintenance type, short description\netc. and circuit breaker maintenance records.\n\nMachine conditions and usage: Flight routes and times, sensor data\ncollected from aircraft engines, sensor readings from ATM transactions,\ntrain events data, sensor readings from wind turbines, elevators and\nconnected cars.\n\nMachine features: Circuit breaker technical specifications such as\nvoltage levels, geolocation or car features such as make, model, engine\nsize, tire types, production facility etc.\n\nGiven the above data sources, the two main data types we observe in\npredictive maintenance domain are temporal data and static data.\nFailure history, machine conditions, repair history, usage history\nalmost always come with time-stamps indicating the time of collection\nfor each piece of data. Machine features and operator features in\ngeneral are static since they usually describe the technical\nspecifications of machines or operator’s properties. It is possible for\nthese features to change over time and if so they should be treated as\ntime stamped data sources.\n\n### Merging data sources\n\nBefore getting into any type of feature engineering or labeling process,\nwe need to first prepare our data in the form required to create\nfeatures from. The ultimate goal is to generate a record for each time\nunit for each asset with its features and labels to be fed into the\nmachine learning algorithm. In order to prepare that clean final data\nset, some pre-processing steps should be taken. First step is to divide\nthe duration of data collection into time units where each record\nbelongs to a time unit for an asset. Data collection can also be divided\ninto other units such as actions however for simplicity we will use time\nunit for the rest of the explanations.\n\nThe measurement unit for time can be in seconds, minutes, hours, days,\nmonths, cycles, miles or transactions depending on the efficiency of\ndata preparation and the changes observed in the conditions of the asset\nfrom a time unit to the other or other factors specific to the domain.\nIn other words, the time unit does not have to be the same as the\nfrequency of data collection as in many cases data may not show any\ndifference from one unit to the other. For example, if temperature\nvalues were being collected every 10 seconds, picking a time unit of 10\nseconds for the whole analysis will inflate the number of examples\nwithout providing any additional information. Better strategy would be\nto use average over an hour as an example.\n\nExample generic data schemas for the possible data sources explained in\nthe earlier section are:\n\nMaintenance records: These are the records of maintenance actions\nperformed. The raw maintenance data usually comes with an Asset ID and\ntime stamp with information about what maintenance activities have been\nperformed at that time. In case of such raw data, maintenance activities\nneed to be translated into categorical columns with each category\ncorresponding to a maintenance action type. The basic data schema for\nmaintenance records would include asset ID, time and maintenance action\ncolumns.\n\nFailure records: These are the records that belong to the target of\nprediction which we call failures or failure reason. These can be\nspecific error codes or events of failures defined by specific business\ncondition. In some cases, data includes multiple error codes some of\nwhich correspond to failures of interest. Not all errors are target of\nprediction so other errors are usually used to construct features that\nmay correlate with failures. The basic data schema for failure records\nwould include asset ID, time and failure or failure reason columns if\nreason is available.\n\nMachine conditions: These are preferably real-time monitoring data about\nthe operating conditions of the data. For example, for door failures,\ndoor opening and closing times are good indicators about the current\ncondition of doors. The basic data schema for machine conditions would\ninclude asset ID, time and condition value columns.\n\nMachine and operator data: Machine and operator data can be merged into\none schema to identify which asset was operated by which operator along\nwith asset and operator properties. For example, a car is usually owned\nby a driver with attributes such as age, driving experience etc. If this\ndata changes over time, this data should also include a time column and\nshould be treated as time varying data for feature generation. The basic\ndata schema for machine conditions would include asset ID, asset\nfeatures, operator ID and operator features.\n\nThe final table before labeling and feature generation can be generated\nby left joining machine conditions table with failure records on Asset\nID and time fields. This table can then be joined with maintenance\nrecords on Asset ID and Time fields and finally with machine and\noperator features on Asset ID. The first left join will leave null\nvalues for failure column when machine is in normal operation, these can\nbe imputed by an indicator value for normal operation. This failure\ncolumn will be used to create labels for the predictive model.\n\n### Feature engineering\nThe first step in modeling is feature engineering.\nThe idea of feature generation is to conceptually\ndescribe and abstract a machine’s health condition at a given time using\nhistorical data that was collected up to that point in time. In the next\nsection, we provide an overview of the type of techniques that can be\nused for predictive maintenance and how the labeling is done for each\ntechnique. The exact technique that should be used will highly depend on\nthe data and business problem. However, the feature engineering methods\ndescribed below can be used as baseline for creating features. Below, we\ndiscuss lag features that should be constructed from data sources that\ncome with time-stamps and also static features created from static data\nsources and provide examples from the use cases.\n\n#### Lag features\nAs mentioned earlier, in predictive maintenance, historical data usually\ncomes with timestamps indicating the time of collection for each piece\nof data. There are many ways of creating features from the data that\ncomes with timestamped data. In this section, we discuss some of these methods\nused for predictive maintenance. However, we are not limited by these\nmethods alone. Since feature engineering is considered to be one of the most\ncreative areas of predictive modeling, there could be many other ways\nto create features. Here, we provide some general techniques.\n\n##### *Rolling aggregates*\nFor each record of an asset, we pick a rolling window of size \"W\" which\nis the number of units of time that we would like to compute historical\naggregates for. We then compute rolling aggregate features using the W\nperiods before the date of that record. Some example rolling aggregates\ncan be rolling counts, means, standard deviations, outliers based on\nstandard deviations, CUSUM measures, minimum and maximum values for the\nwindow. Another interesting technique is to capture trend changes,\nspikes and level changes using algorithms that detect anomalies in data\nusing anomaly detection algorithms.\n\nFor demonstration, see Figure 1 where we represent sensor values\nrecorded for an asset for each unit of time with the blue lines and mark\nthe rolling average feature calculation for W=3 for the records at t<sub>1</sub>\nand t<sub>2</sub> which are indicated by orange and green groupings respectively.\n\n![Figure 1. Rolling aggregate features](media/cortana-analytics-playbook-predictive-maintenance/rolling-aggregate-features.png)\n\nFigure 1. Rolling aggregate features\n\nAs examples, for aircraft component failure, sensor values from last\nweek, last three days and last day were used to create rolling means,\nstandard deviation and sum features. Similarly, for ATM failures, both\nraw sensor values and rolling means, median, range, standard deviations,\nnumber of outliers beyond three standard deviations, upper and lower\nCUMSUM features were used.\n\nFor flight delay prediction, counts of error codes from last week were\nused to create features. For train door failures, counts of the events\non the last day, counts of events over the previous 2 weeks and variance\nof counts of events of the previous 15 days were used to create lag\nfeatures. Same counting was used for maintenance related events.\n\nAdditionally, by picking a W that is very large (ex. years), it is\npossible to look at the whole history of an asset such as counting all\nmaintenance records, failures etc. up until the time of the record. This\nmethod was used for counting circuit breaker failures for the last three\nyears. Also for train failures, all maintenance events were counted to\ncreate a feature to captures the long term maintenance effects.\n\n##### *Tumbling aggregates*\nFor each labelled record of an asset, we pick a window of size \"W-<sub>k</sub>\" where k is the number or windows of size \"W\" that we want to create lag\nfeatures for. \"k\" can be picked as a large number to capture long term\ndegradation patterns or a small number to capture short term effects. We\nthen use k tumbling windows W-<sub>k</sub> , W-<sub>(k-1)</sub>, …, W-<sub>2</sub> , W-<sub>1</sub> to create aggregate features for the periods before the record date and\ntime (see Figure 2). These are also rolling windows at the record level\nfor a time unit which is not captured in Figure 2 but the idea is the\nsame as in Figure 1 where t<sub>2</sub> is also used to demonstrate the rolling\neffect.\n\n![Figure 2. Tumbling aggregate features](media/cortana-analytics-playbook-predictive-maintenance/tumbling-aggregate-features.png)\n\nFigure 2. Tumbling aggregate features\n\nAs an example, for wind turbines, W=1 and k=3 months were used to create\nlag features for each of the last 3 months using top and bottom\noutliers.\n\n#### Static features\nThese are technical specifications of the equipment such as manufacture\ndate, model number, location, etc. While lag features are mostly numeric\nin nature, static features usually become categorical variables in the\nmodels. As an example, circuit breaker properties such as voltage,\ncurrent and power specifications along with transformer types, power\nsources etc. were used. For brake disc failures, the type of tire wheels\nsuch as if they are alloy or steel were used as some of the static\nfeatures.\n\nDuring feature generation, some other important steps such as handling\nmissing values and normalization should be performed. There are numerous\nmethods of missing value imputation and also data normalization which\nwill not be discussed here. However, it is beneficial to try different\nmethods to see if an increase in prediction performance is possible.\n\nThe final feature table after feature engineering steps discussed in the\nearlier section should resemble the following example data schema when\ntime unit is a day:\n\n|Asset ID|Time|Feature Columns|Label|\n|---|---|---|---|\n|1|Day 1|||\n|1|Day 2|||\n|...|...|||\n|2|Day 1|||\n|2|Day 2|||\n|...|...|||\n\n## Modeling techniques\nPredictive Maintenance is a very rich domain often employing business\nquestions which may be approached from many different angles of the\npredictive modeling perspective. In the next sections, we will provide\nmain techniques that are used to model different business questions that\ncan be answered with predictive maintenance solutions. Although there\nare similarities, each model has its own way of constructing labels\nwhich are described in detail. As an accompanying resource, you can\nrefer to the predictive maintenance template that is included in the\nsample experiments provided within Azure Machine Learning. The links to\nthe online material for this template will be provided in the resources\nsection. You can see how some of the feature engineering techniques\ndiscussed above and the modeling technique that will be described in the\nnext sections are applied to predict aircraft engine failures using\nAzure Machine Learning.\n\n### Binary classification for predictive maintenance\nBinary Classification for predictive maintenance is used to predict the\nprobability that an equipment will fail within a future time period. The\ntime period is determined by and based on business rules and the data at\nhand. Some common time periods are minimum lead time required to\npurchase spare parts to replace likely to damage components or time\nrequired to deploy maintenance resources to perform maintenance routines\nto fix the problem that is likely to occur within that time period. We\ncall this future horizon period \"X\".\n\nIn order to use binary classification, we need to identify two types of\nexamples which we call positive and negative. Each example is a record\nthat belongs to a time unit for an asset conceptually describing and\nabstracting its operating conditions up to that time unit through\nfeature engineering using historical and other data sources described\nearlier. In the context of binary classification for predictive\nmaintenance, positive type denotes failures (label 1) and negative type\ndenotes normal operations (label = 0) where labels are of type\ncategorical. The goal is to find a model that will identify each new\nexample as likely to fail or operate normally within the next X units of\ntime.\n\n#### Label construction\nIn order to create a predictive model to answer the question \"What is\nthe probability that the asset will fail in the next X units of time?\",\nlabeling is done by taking X records prior to the failure of an asset\nand labeling them as \"about to fail\" (label = 1) while labeling all\nother records as \"normal\" (label =0). In this method, labels are\ncategorical variables (see Figure 3).\n\n![Figure 3. Labelling for binary classification](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-binary-classification.png)\n\nFigure 3. Labelling for binary classification\n\nFor flight delays and cancellations, X is picked as one day to predict\ndelays in the next 24 hours. All flights that are within 24 hours before\nfailures were labeled as 1s. For ATM cash dispense failures, two binary\nclassification models were built to predict the failure probability of a\ntransaction in the next 10 minutes and also to predict the probability\nof failure in the next 100 notes dispensed. All transactions that\nhappened within the last 10 minutes of the failure are labeled as 1 for\nthe first model. And all notes dispensed within the last 100 notes of a\nfailure were labeled as 1 for the second model. For circuit breaker\nfailures, the task is to predict the probability that the next circuit\nbreaker command will fail in which case X is chosen to be one future\ncommand. For train door failures, the binary classification model was\nbuilt to predict failures within the next 7 days. For wind turbine\nfailures, X was chosen as 3 months.\n\nWind turbine and train door cases are also used for regression analysis\nto predict remaining useful life using the same data but by utilizing a\ndifferent labelling strategy which is explained in the next section.\n\n### Regression for predictive maintenance\nRegression models in predictive maintenance are used to compute the\nremaining useful life (RUL) of an asset which is defined as the amount\nof time that the asset will be operational before the next failure\noccurs. Same as binary classification, each example is a record that\nbelongs to a time unit \"Y\" for an asset. However, in the context of\nregression, the goal is to find a model that will calculate the\nremaining useful life of each new example as a continuous number which\nis the period of time remaining before the failure. We call this time\nperiod some multiple of Y. Each example also has a remaining useful life\nwhich can be calculated by measuring the amount of time remaining for\nthat example before the next failure.\n\n#### Label construction\nGiven the question \"What is the remaining useful life of the equipment?\n\", labels for the regression model can be constructed by taking each\nrecord prior to the failure and labeling them by calculating how many\nunits of time remain before the next failure. In this method, labels are\ncontinuous variables (See Figure 4).\n\n![Figure 4. Labelling for regression](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-regression.png)\n\nFigure 4. Labelling for regression\n\nDifferent than binary classification, for regression, assets without any\nfailures in the data cannot be used for modeling as labelling is done\nin reference to a failure point and its calculation is not possible\nwithout knowing how long the asset survived before failure. This issue\nis best addressed by another statistical technique called Survival\nAnalysis.\nWe are not going to discuss Survival Analysis in this playbook because of the potential complications\nthat may arise when applying the technique to predictive maintenance use cases\nthat involve time-varying data with frequent intervals.\n\n### Multi-class classification for predictive maintenance\nMulti-class classification for predictive maintenance can be used to\npredict two future outcomes. The first one is to assign an asset to one of\nthe multiple possible periods of time to give a range of time to failure\nfor each asset. The second one is to identify the likelihood of failure in a\nfuture period due to one of the multiple root causes. That allows\nmaintenance personnel who are equipped with this knowledge to\nhandle the problems in advance. Another multi-class modeling\ntechnique focuses on determining the most likely root\ncause of a given a failure. This allows\nrecommendations to be given for the top maintenance actions\nto be taken in order to fix a failure.\nBy having a ranked list of root causes and associated repair actions,  \ntechnicians can be more effective in taking\ntheir first repair actions after failures.\n\n#### Label construction\nGiven the two questions which are \"What is the probability that an asset\nwill fail in the next \"aZ\" units of time where \"a\" is the number of\nperiods\" and \"What is the probability that the asset will fail in the\nnext X units of time due to problem \"P<sub>i</sub>\" where \"i\" is the number of\npossible root causes, labelling is done in the following way for these\nto techniques.\n\nFor the first question, labeling is done by taking aZ records prior to\nthe failure of an asset and labeling them using buckets of time (3Z, 2Z,\nZ) as their labels while labeling all other records as \"normal\" (label\n=0). In this method, label is categorical variable (See Figure 5).\n\n![Figure 5. Labelling for multiclass classification for failure time prediction](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-failure-time-prediction.png)\n\nFigure 5. Labelling for multiclass classification for failure time\nprediction\n\nFor the second question, labeling is done by taking X records prior to\nthe failure of an asset and labeling them as \"about to fail due to\nproblem P<sub>i</sub>\" (label = P<sub>i</sub>) while labeling all other records as\n\"normal\" (label =0). In this method, labels are categorical variables\n(See Figure 6).\n\n![Figure 6. Labelling for multiclass classification for root cause prediction](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-root-cause-prediction.png)\n\nFigure 6. Labelling for multiclass classification for root cause\nprediction\n\nThe model will assign a failure probability due to each P<sub>i</sub> as well as\nthe probability of no failure. These probabilities can be ordered by\nmagnitude to allow prediction of the problems that are most likely to occur\nin the future. Aircraft component failure use case was structured as a\nmulticlass classification problem. This enables the prediction of the probabilities of\nfailure due to two different pressure valve components occurring within the next\nmonth.\n\nFor recommending maintenance actions after failures, labeling does not\nrequire a future horizon to be picked. This is because the model is not predicting\nfailure in the future but it is just predicting the most likely root\ncause once the failure has already happened. Elevator door failures\nfalls into the third case where the goal is to predict the\ncause of the failure given historical data on operating conditions. This model\nwill then be used to predict the most likely root causes after a failure has\noccurred. One key benefit of this model is that it will help\nunexperienced technicians to easily diagnose and fix problems that would otherwise\nneed years’ worth of experience.\n\n## Training, validation and testing methods in predictive maintenance\nIn predictive maintenance, similar to any other solution space\ncontaining timestamped data, the typical training and testing routine\nneeds to take account the time varying aspects to better generalize on\nunseen future data.\n\n### Cross validation\nMany machine learning algorithms depend on a number of hyperparameters\nthat can change model performance significantly. The optimal values of\nthese hyperparameters are not computed automatically when training the\nmodel, but should be specified by data scientist. There are several ways\nof finding good values of hyperparameters. The most common one is\n\"k-fold cross-validation\" which splits the examples randomly into \"k\"\nfolds. For each set of hyperparameters values, learning algorithm is run\nk times. At each iteration, the examples in the current fold are used as\na validation set, the rest of the examples are used as a training set.\nThe algorithm trains over training examples and the performance metrics\nare computed over validation examples. At the end of this loop for each\nset of hyperparameter values, we compute average of the k performance\nmetric values and choose hyperparameter values that have the best\naverage performance.\n\nAs mentioned before, in predictive maintenance problems, data is\nrecorded as a time series of events that come from several data sources.\nThese records can be ordered according to the time of labeling a record\nor an example. Hence, if we split the dataset randomly into training and\nvalidation set, some of the training examples will be later in time than\nsome of validation examples. This will result in estimating future\nperformance of hyperparameter values based on the data that arrived\nbefore model was trained. These estimations might be overly optimistic,\nespecially if time-series are not stationary and change their behavior\nover time. As a result, chosen hyperparameter values might be\nsuboptimal.\n\nA better way of finding good values of hyperparameters is to split the\nexamples into training and validation set in a time-dependent way, such\nthat all validation examples are later in time than all training\nexamples. Then, for each set of values of hyperparameters we train the\nalgorithm over training set, measure model’s performance over the same\nvalidation set and choose hyperparameter values that show the best\nperformance. When time-series data is not stationary and evolves over\ntime, the hyperparameter values chosen by train/validation split lead to\nbetter future performance of the model than the ones chosen randomly by\ncross-validation.\n\nThe final model is generated by training a learning algorithm over\nentire data using the best hyperparameter values that are found by using\ntraining/validation split or cross-validation.\n\n### Testing for model performance\nAfter building a model we need to estimate its future performance on new\ndata. The simplest estimate could be the performance of the model over\nthe training data. But this estimate is overly optimistic, because the\nmodel is tailored to the data that is used to estimate performance. A\nbetter estimate could be a performance metric of hyperparameter values\ncomputed over the validation set or an average performance metric\ncomputed from cross-validation. But for the same reasons as previously\nstated, these estimations are still overly optimistic. We need more\nrealistic approaches for measuring model performance.\n\nOne way is to split the data randomly into training, validation and test\nsets. The training and validation sets are used to select values of\nhyperparameters and train the model with them. The performance of the\nmodel is measured over the test set.\n\nAnother way which is relevant to predictive maintenance, is to split the\nexamples into training, validation and test sets in a time-dependent\nway, such that all test examples are later in time than all training and\nvalidation examples. After the split, model generation and performance\nmeasurement is done the same as described earlier.\n\nWhen time-series are stationary and easy to predict both approaches\ngenerate similar estimations of future performance. But when time-series\nare non-stationary and/or hard to predict, the second approach will\ngenerate more realistic estimates of future performance than the first\none.\n\n### Time dependent split\nAs a best practice, in this section we take a closer look at how to\nimplement time-dependent split. We describe a time-dependent two way\nsplit between training and test sets, however exactly the same logic\nshould be applied for time-dependent split for training and validation\nsets.\n\nSuppose we have a stream of timestamped events such as measurements from\nvarious sensors. Features of training and test examples, as well as\ntheir labels, are defined over timeframes that contain multiple events.\nFor example, for binary classification, as described in Feature\nEngineering and Modeling Techniques sections, features are created\nbased on the past events and labels are created based on future events\nwithin \"X\" units of time in the future. Thus, the labeling timeframe of\nan example comes later then the timeframe of its features. For time-\ndependent split, we pick a point in time at which we will we train a\nmodel with tuned hyperparameters by using historical data up to that\npoint. To prevent leakage of future labels that are beyond the training\ncut-off into training data, we choose the latest timeframe to label\ntraining examples to be X units before the training cut-off date. In\nFigure 7, each solid circle represents a row in the final feature data\nset for which the features and labels are computed according to the\nmethod described above. Given that, the figure shows the records that\nshould go into training and testing sets when implementing\ntime-dependent split for X=2 and W=3:\n\n![Figure 7. Time dependent split for binary classification](media/cortana-analytics-playbook-predictive-maintenance/time-dependent-split-for-binary-classification.png)\n\nFigure 7. Time dependent split for binary classification\n\nThe green squares represent the records belonging to the time units that\ncan be used for training. As explained earlier, each training example in\nthe final feature table is generated by looking at past 3 periods for\nfeature generation and 2 future periods for labelling before the\ntraining day cut-off. We do not use examples in the training set when\nany part of the 2 future periods for that example is beyond the training\ncut-off since we assume that we do not have visibility beyond the\ntraining cut-off. Due to that constraint, black examples represent the\nrecords of the final labeled dataset that should not be used in the\ntraining data set. These records won’t be used in testing data either\nsince they are before the training cut-off and their labeling timeframes\nwill partially depend on the training timeframe which should not be the\ncase as we would like to completely separate labelling timeframes for\ntraining and testing to prevent label information leakage.\n\nThis technique allows for overlap in the data used for feature\ngeneration between training and testing examples that are close to the\ntraining cut-off. Depending on data availability, an even more severe\nseparation can be accomplished by not using any of the examples in the\ntest set that are within W time units of the training cut-off.\n\nFrom our work, we found that regression models used for predicting\nremaining useful life are more severely affected by the leakage problem\nand using a random split leads to extreme overfitting. Similarly, in\nregression problems, the split should be such that records belonging to\nassets with failures before training cut off should be used for the\ntraining set and assets that have failures after the cut-off should be\nused for testing set.\n\nAs a general method, another important best practice for splitting data\nfor training and testing is to use a split by asset ID so that none of\nthe assets that were used in training are used for testing since the\nidea of testing is to make sure that when a new asset is used to make\npredictions on, the model provides realistic results.\n\n### Handling imbalanced data\nIn classification problems, if there are more examples of one class than\nof the others, the data is said to be imbalanced. Ideally, we would like\nto have enough representatives of each class in the training data to be\nable to differentiate between different classes. If one class is less\nthan 10% of the data, we can say that the data is imbalanced and we call\nthe underrepresented dataset minority class. Drastically, in many cases\nwe find imbalanced datasets where one class is severely underrepresented\ncompared to others for example by only constituting 0.001% of the data\npoints. Class imbalance is a problem in many domains including fraud\ndetection, network intrusion and predictive maintenance where failures\nare usually rare occurrences in the lifetime of the assets which make up\nthe minority class examples.\n\nIn case of class imbalance, performance of most standard learning\nalgorithms are compromised as they aim to minimize the overall error\nrate. For example, for a data set with 99% negative class examples and\n1% positive class examples, we can get 99% accuracy by simply labeling\nall instances as negative. However, this will misclassify all positive\nexamples so the algorithm is not a useful one although the accuracy\nmetric is very high. Consequently, conventional evaluation metrics such\nas overall accuracy on error rate, are not sufficient in case of\nimbalanced learning. Other metrics, such as precision, recall, F1 scores\nand cost adjusted ROC curves are used for evaluations in case of\nimbalanced datasets which will be discussed in the Evaluation Metrics\nsection.\n\nHowever, there are some methods that help remedy class imbalance\nproblem. The two major ones are sampling techniques and cost sensitive\nlearning.\n\n#### Sampling methods\nThe use of sampling methods in imbalanced learning consists of\nmodification of the dataset by some mechanisms in order to provide a\nbalanced dataset. Although there are a lot of different sampling\ntechniques, most straight forward ones are random oversampling and under\nsampling.\n\nSimply stated, random oversampling is selecting a random sample from\nminority class, replicating these examples and adding them to training\ndata set. This increases the number of total examples in minority class\nand eventually balance the number of examples of different classes. One\ndanger of oversampling is that multiple instances of certain examples\ncan cause the classifier to become too specific leading to overfitting.\nThis would result in high training accuracy but performance on the\nunseen testing data may be very poor. Conversely, random under sampling\nis selecting a random sample from majority class and removing those\nexamples from training data set. However, removing examples from\nmajority class may cause the classifier to miss important concepts\npertaining to the majority class. Hybrid sampling where minority class\nis oversampled and majority class is under sampled at the same time is\nanother viable approach. There are many other more sophisticated\nsampling techniques are available and effective sampling methods for\nclass imbalance is a popular research area receiving constant attention\nand contributions from many channels. Use of different techniques to\ndecide on the most effective ones is usually left to the data scientist\nto research and experiment and are highly dependent on the data\nproperties. Additionally, it is important to make sure that sampling\nmethods are applied only to the training set but not the test set.\n\n#### Cost sensitive learning\nIn predictive maintenance, failures which constitute the minority class\nare of more interest than normal examples and thus the focus is on the\nperformance of the algorithm on failures is usually the focus. This is\ncommonly referred as unequal loss or asymmetric costs of misclassifying\nelements of different classes wherein incorrectly predicting a positive\nas negative can cost more than vice versa. The desired classifier should\nbe able to give high prediction accuracy over the minority class,\nwithout severely compromising on the accuracy for the majority class.\n\nThere are several ways this can be achieved. By assigning a high cost to\nmisclassification of the minority class, and trying to minimize the\noverall cost, the problem of unequal loses can be effectively dealt\nwith. Some machine learning algorithms use this idea inherently such as\nSVMs (Support Vector Machines) where cost of positive and negative\nexamples can be incorporated during training time. Similarly, boosting\nmethods are used and usually show good performance in case of imbalanced\ndata such as boosted decision tree algorithms.\n\n## Evaluation metrics\nAs mentioned earlier, class imbalance causes poor performance as\nalgorithms tend to classify majority class examples better in expense of\nminority class cases as the total misclassification error is much\nimproved when majority class is labeled correctly. This causes low\nrecall rates and becomes a larger problem when the cost of false alarms\nto the business is very high. Accuracy is the most popular metric used\nfor describing a classifier’s performance. However as explained above\naccuracy is ineffective and do not reflect the real performance of a\nclassifier’s functionality as it is very sensitive to data\ndistributions. Instead, other evaluation metrics are used to assess\nimbalanced learning problems. In those cases, precision, recall and F1\nscores should be the initial metrics to look at when evaluating\npredictive maintenance model performance. In predictive maintenance,\nrecall rates denote how many of the failures in the test set were\ncorrectly identified by the model. Higher recall rates mean the model is\nsuccessful in catching the true failures. Precision metric relates to\nthe rate of false alarms where lower precision rates correspond to\nhigher false alarms. F1 score considers both precision and recall rates\nwith best value being 1 and worst being 0.\n\nMoreover, for binary classification, decile tables and lift charts are\nvery informative when evaluating performance. They focus only on the\npositive class (failures) and provide a more complex picture of the\nalgorithm performance than what is seen by looking at just a fixed\noperating point on the ROC (Receiver Operating Characteristic) curve.\nDecile tables are obtained by ordering the test examples according to\ntheir predicted probabilities of failures computed by the model before\nthresholding to decide on the final label. The ordered samples are then\ngrouped in deciles (i.e. the 10% samples with largest probability and\nthen 20%, 30% and so on). By computing the ratio between true positive\nrate of each decile and its random baseline (i.e. 0.1, 0.2 ..) one can\nestimate how the algorithm performance changes at each decile. Lift\ncharts are used to plot decile values by plotting decile true positive\nrate versus random true positive rate pairs for all deciles. Usually,\nthe first deciles are the focus of the results since here we see the\nlargest gains. First deciles can also be seen as representative for \"at\nrisk\" when used for predictive maintenance.\n\n## Sample solution architecture\nWhen deploying a predictive maintenance solution, we are interested in\nan end to end solution that provides a continuous cycle of data\ningestion, data storage for model training, feature generation,\nprediction and visualization of the results along with an alert\ngenerating mechanism such as an asset monitoring dashboard. We want a\ndata pipeline that provides future insights to the user in a continuous\nautomated manner. An example predictive maintenance architecture for\nsuch an IoT data pipeline is illustrated in Figure 8 below. In the\narchitecture, real time telemetry is collected into an Event Hub which\nstores streaming data. This data is ingested by stream analytics for\nreal-time processing of data such as feature generation. The features\nare then used to call the predictive model web service and results are\ndisplayed on the dashboard. At the same time, ingested data is also\nstored in an historical database and merged with external data sources\nsuch as on-premise data bases to create training examples for modeling.\nSame data warehouses can be used for batch scoring of the examples and\nstoring of the results which can again be used to provide predictive\nreports on the dashboard.\n\n![Figure 8. Example solution architecture for predictive maintenance](media/cortana-analytics-playbook-predictive-maintenance/example-solution-architecture-for-predictive-maintenance.png)\n\nFigure 8. Example solution architecture for predictive maintenance\n\nFor more information about each of the components of the architecture\nplease refer to [Azure](https://azure.microsoft.com/) documentation.\n"
}