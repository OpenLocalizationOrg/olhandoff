ms입니다. ContentId: 34D5925A-D724-4552-9403-C2703A973234 
제목: 마이그레이션 및 가상 컴퓨터를 업그레이드 합니다.

#마이그레이션 및 가상 컴퓨터를 업그레이드 합니다.

Windows 8.1에서 Hyper-v 또는 이전 버전으로 원래 만들어진 Windows 10 호스트로 가상 컴퓨터를 이동 하는 경우 가상 컴퓨터 구성 버전을 수동으로 업데이트할 때까지 새 가상 컴퓨터 기능을 사용할 수 없습니다.

구성 버전을 업그레이드 하려면 가상 컴퓨터를 종료 하 고 Hyper-v 관리자에서 가상 컴퓨터 구성을 업그레이드 하려면 선택 합니다.
관리자 권한을 열 수도 있습니다 Windows PowerShell 명령 프롬프트를 열고 유형:

 ```PowerShell
Update-VmVersion <vmname> | <vmobject>
 ```



##Hyper-v에서 실행 중인 가상 컴퓨터의 구성 버전 확인

구성 버전을 찾으려면 관리자 Windows PowerShell 명령 프롬프트를 열고 다음 명령을 실행 합니다.

**Get VM * | 형식 테이블 이름, 버전**

다음 샘플 출력을 생성 하는 PowerShell 명령:

```
Name        State       CPUUsage(%) MemoryAssigned(M)   Uptime              Status                  Version

Atlantis    Running         0       1024                00:04:20.5910000    Operating normally      5.0

SGC VM      Running         0       538                 00:02:44.8350000    Operating normally      6.2
```


##구성 버전 업그레이드 하지 않는 경우 어떻게 됩니까?

이전 버전의 Hyper-v를 사용 하 여 만든 가상 컴퓨터를 설정한 경우 VM 버전을 업데이트할 때까지 일부 기능은 이러한 가상 컴퓨터와 작동 하지 않을 수 있습니다.

새로운 Hyper-v 기능에 대 한 최소 VM 구성 버전:

| **기능 이름**| **VM의 최소 버전**| |
| :------------------------------------- | -----------------: ||
| 메모리 핫 추가/제거| 6.0| |
| 네트워크 어댑터를 핫 추가/제거| 5.0| |
| Linux Vm에 대 한 보안 부팅| 6.0| |
| 프로덕션 검사점| 6.0| |
| PowerShell 직접| 6.2| |
| 가상 신뢰할 수 있는 플랫폼 모듈 (vTPM)| 6.2| |
| 가상 컴퓨터 그룹화| 6.2| |


##가상 컴퓨터 구성 버전

를 이동 하거나 Windows 10에서 Windows 8.1을 실행 하는 호스트에서 Hyper-v를 실행 하는 호스트로 가상 컴퓨터를 가져올 때 가상 컴퓨터의 구성 파일 자동으로 업그레이드 되지 않습니다.
이렇게 하면 가상 컴퓨터를 Windows 8.1을 실행 하는 호스트로 다시 이동할 수 있습니다.
가상 컴퓨터 구성 버전을 수동으로 업데이트할 때까지 새 가상 컴퓨터 기능에 대 한 액세스를가 없습니다.

가상 컴퓨터 구성 버전에는 어떤 버전의 Hyper-v 가상 컴퓨터의 구성 상태를 저장 하 고 스냅숏와 호환 되는 파일을 나타냅니다.
구성 버전 5와 가상 컴퓨터는 Windows 8.1과 호환 되는 및 Windows 8.1 및 Windows 10 모두에서 실행할 수 있습니다.
가상 컴퓨터 구성 버전 6 Windows 10과 호환 되며 Windows 8.1에서 실행 되지 않습니다.

가상 컴퓨터의 모든 작업을 동시에 업그레이드할 필요는 없습니다.
필요한 경우에 특정 가상 컴퓨터를 업그레이드 하도록 선택할 수 있습니다.
그러나 각 가상 컴퓨터에 대 한 구성 버전을 수동으로 업데이트할 때까지 새 가상 컴퓨터 기능에 대 한 액세스를가 없습니다.


----------------

** 중요 한 **

• 가상 컴퓨터 구성 버전을 업그레이드 한 후, Windows 8.1을 실행 하는 호스트에 가상 컴퓨터를 이동할 수 없습니다.

• 버전 5 버전 6에서에서 가상 컴퓨터 구성 버전을 다운 그레이드할 수 없습니다.

• 해제 해야 가상 컴퓨터를 가상 컴퓨터 구성을 업그레이드 합니다.

• 가상 컴퓨터는 업그레이드 후에 새 구성 파일 형식을 사용합니다.
자세한 내용은 새 가상 컴퓨터 구성 파일 형식을 참조입니다.

--------






##가상 컴퓨터의 버전 업그레이드 하면 어떻게 될까요?

수동으로 업그레이드 하는 경우 가상 컴퓨터의 구성 버전 버전 6.x에서 가상 컴퓨터 구성 및 검사점 파일을 저장 하는데 사용 되는 파일 구조를 변경할 수 있습니다.

업그레이드 된 가상 컴퓨터는 가상 컴퓨터 구성 데이터 읽기 및 쓰기의 효율성을 높일 수 있도록 디자인 된 새 구성 파일 형식으로 사용 합니다.
또한 업그레이드의 저장소 오류가 발생할 경우 데이터 손상 가능성을 줄입니다.

다음 표에서 이진 파일 위치 및는 업그레이드 된 가상 컴퓨터에 대 한 확장 정보를 나열합니다.

| **가상 컴퓨터 구성 및 검사점 파일 (버전 6.x)**| **설명**| |
|:---------------|:----------------||
| **가상 컴퓨터 구성**| 구성 정보는.vmcx 확장명을 사용 하는 이진 파일 형식에 저장 됩니다.| |
| **가상 컴퓨터의 런타임 상태**| 런타임 상태 데이터는.vmrs 확장명을 사용 하는 이진 파일 형식에 저장 됩니다.| |
| **가상 컴퓨터의 가상 하드 디스크**| 가상 컴퓨터에 대 한 가상 하드 디스크 파일입니다..Vhd 또는.vhdx 파일 확장명을 사용합니다.| |
| **자동 가상 하드 디스크 파일**| 가상 컴퓨터 검사점에 사용 되는 차이점 보관용 디스크 파일입니다..Avhdx 파일 확장명을 사용합니다.| |
| **검사점 파일**| 검사점은 여러 검사점 파일에 저장 됩니다.각 검사점 구성 파일 및 런타임 상태 파일을 만듭니다.검사점 파일.vmrs 및.vmcx 파일 확장명을 사용합니다.이러한 새 파일 형식 프로덕션 검사점과 표준 검사점에 대 한도 사용 됩니다.| |
가상 컴퓨터 구성 업그레이드 한 후 버전 6.x 수 없는 버전에서 다운 그레이드 하 6.x 버전 5입니다.

가상 컴퓨터 구성을 업그레이드 하려면 가상 컴퓨터가 꺼져 있어야 합니다.

다음 표에서 새 패키지나 업그레이드 된 가상 컴퓨터에 대 한 기본 파일 위치를 나열합니다.

| **가상 컴퓨터 파일 (버전 6.x)**| **설명**| |
|:-----|:-----||
| **가상 컴퓨터 구성 파일**| C:\ProgramData\Microsoft\Windows\Hyper-V\Virtual 컴퓨터| |
| **가상 컴퓨터의 런타임 상태 파일**| C:\ProgramData\Microsoft\Windows\Hyper-V\Virtual 컴퓨터| |
| **검사점 파일 (.vmrs,.vmcx)**| C:\ProgramData\Microsoft\Windows\Snapshots| |
| **가상 하드 디스크 파일 (.vhd/.vhdx)**| C:\Users\Public\Documents\Hyper-V\Virtual 하드 디스크| |
| **자동 가상 하드 디스크 파일 (.avhdx)**| C:\Users\Public\Documents\Hyper-V\Virtual 하드 디스크| |







