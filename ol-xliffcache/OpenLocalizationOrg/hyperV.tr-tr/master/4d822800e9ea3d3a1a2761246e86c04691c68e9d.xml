{"nodes":[{"content":"Create an Azure Batch account | Microsoft Azure","pos":[27,74]},{"content":"Learn how to create an Azure Batch account in the Azure portal to run large-scale parallel workloads in the cloud","pos":[93,206]},{"content":"Create and manage an Azure Batch account in the Azure portal","pos":[504,564]},{"content":"[AZURE.SELECTOR]","pos":[568,584]},{"content":"Azure portal","pos":[588,600]},{"content":"Batch Management .NET","pos":[637,658]},{"content":"The <bpt id=\"p1\">[</bpt>Azure portal<ph id=\"ph1\">][</ph>azure_portal<ept id=\"p1\">]</ept> provides you with the tools you need to create and manage an Azure Batch account, which you can use for large-scale parallel workload processing.","pos":[689,867]},{"content":"In this article, we'll walk though Batch account creation using the portal, as well as discuss several of the most important settings and properties of a Batch account.","pos":[868,1036]},{"content":"For example, the applications and services you develop with Batch need your account's URL and an access key to communicate with the Batch service APIs, both of which are found in the Azure portal.","pos":[1037,1233]},{"content":"The Azure portal currently supports a subset of the features available in the Batch service, including account creation and the management of account settings and properties.","pos":[1249,1423]},{"content":"The full feature set of Batch, including creating and running jobs and tasks, is available to developers through the Batch APIs.","pos":[1424,1552]},{"content":"Create a Batch account","pos":[1557,1579]},{"pos":[1584,1627],"content":"Sign in to the <bpt id=\"p1\">[</bpt>Azure portal<ph id=\"ph1\">][</ph>azure_portal<ept id=\"p1\">]</ept>"},{"pos":[1633,1680],"content":"Click <bpt id=\"p1\">**</bpt>New<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>Compute<ept id=\"p2\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p3\">**</bpt>Batch Service<ept id=\"p3\">**</ept>"},{"content":"Batch in the Marketplace","pos":[1689,1713]},{"content":"Review the information on the <bpt id=\"p1\">**</bpt>Batch Service<ept id=\"p1\">**</ept> blade, then click <bpt id=\"p2\">**</bpt>Create<ept id=\"p2\">**</ept>.","pos":[1739,1816]},{"content":"Note that deployment model selection is disabled.","pos":[1817,1866]},{"content":"This is because Batch uses the resource group deployment model only.","pos":[1867,1935]},{"content":"Batch Service create blade in Azure portal","pos":[1943,1985]},{"content":"The <bpt id=\"p1\">**</bpt>New Batch Account<ept id=\"p1\">**</ept> blade is displayed.","pos":[1994,2039]},{"content":"See items <bpt id=\"p1\">*</bpt>a<ept id=\"p1\">*</ept> through <bpt id=\"p2\">*</bpt>e<ept id=\"p2\">*</ept> below for descriptions of each blade element.","pos":[2040,2111]},{"content":"Create a Batch account","pos":[2119,2141]},{"content":"a.","pos":[2164,2166]},{"content":"<bpt id=\"p1\">**</bpt>Account Name<ept id=\"p1\">**</ept> -- Specify a unique name for your Batch account.","pos":[2167,2232]},{"content":"This name must be unique within the Azure region the account is created (see <bpt id=\"p1\">*</bpt>Location<ept id=\"p1\">*</ept> below).","pos":[2233,2328]},{"content":"It may contain only lowercase characters, numbers, and must be 3-24 characters in length.","pos":[2329,2418]},{"content":"b.","pos":[2424,2426]},{"content":"<bpt id=\"p1\">**</bpt>Subscription<ept id=\"p1\">**</ept> -- Select a subscription in which to create the Batch account.","pos":[2427,2506]},{"content":"If you have only one subscription, it is selected by default.","pos":[2507,2568]},{"content":"c.","pos":[2574,2576]},{"content":"<bpt id=\"p1\">**</bpt>Resource group<ept id=\"p1\">**</ept> -- Select a resource group for your new Batch account, or create a new one if there are no resource groups in your subscription.","pos":[2577,2724]},{"content":"d.","pos":[2730,2732]},{"content":"<bpt id=\"p1\">**</bpt>Location<ept id=\"p1\">**</ept> -- Select an Azure region in which to create the Batch account.","pos":[2733,2809]},{"content":"Only the regions supported by your subscription and resource group will be displayed as options.","pos":[2810,2906]},{"content":"e.","pos":[2912,2914]},{"content":"<bpt id=\"p1\">**</bpt>Storage Account<ept id=\"p1\">**</ept> (optional) -- You can associate (link) a storage account to your new Batch account.","pos":[2915,3018]},{"content":"The <bpt id=\"p1\">[</bpt>application packages<ept id=\"p1\">](batch-application-packages.md)</ept> feature of Batch will use the linked storage account for the storage and retrieval of application packages.","pos":[3019,3184]},{"content":"See <bpt id=\"p1\">[</bpt>Application deployment with Azure Batch application packages<ept id=\"p1\">](batch-application-packages.md)</ept> for more information on this feature.","pos":[3185,3320]},{"content":"Regenerating keys in a linked Storage account requires special considerations.","pos":[3341,3419]},{"content":"See <bpt id=\"p1\">[</bpt>Considerations for Batch accounts<ept id=\"p1\">](#considerations-for-batch-accounts)</ept> below for more details.","pos":[3420,3519]},{"pos":[3524,3563],"content":"Click <bpt id=\"p1\">**</bpt>Create<ept id=\"p1\">**</ept> to create the account."},{"pos":[3567,3693],"content":"The portal will indicate that it is <bpt id=\"p1\">**</bpt>Deploying<ept id=\"p1\">**</ept> the account, and upon completion, the Batch Account blade will be displayed."},{"content":"View Batch account properties","pos":[3698,3727]},{"content":"The Batch account blade displays several properties for the account, as well as provides access to additional settings such as access keys, quotas, users, and storage account association.","pos":[3729,3916]},{"pos":[3920,4124],"content":"<bpt id=\"p1\">**</bpt>Batch account URL<ept id=\"p1\">**</ept> -- This URL provides access to your Batch account when using APIs such as the <bpt id=\"p2\">[</bpt>Batch REST<ph id=\"ph1\">][</ph>api_rest<ept id=\"p2\">]</ept> API or <bpt id=\"p3\">[</bpt>Batch .NET<ph id=\"ph2\">][</ph>api_net<ept id=\"p3\">]</ept> client library, and adheres to the following format:"},{"content":"<bpt id=\"p1\">**</bpt>Access keys<ept id=\"p1\">**</ept> -- To view and manage your Batch account's access keys, click the key icon to open the <bpt id=\"p2\">**</bpt>Manage keys<ept id=\"p2\">**</ept> blade, or click <bpt id=\"p3\">**</bpt>All settings<ept id=\"p3\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p4\">**</bpt>Keys<ept id=\"p4\">**</ept>.","pos":[4181,4344]},{"content":"An access key is required when communicating with the Batch service APIs, such as with <bpt id=\"p1\">[</bpt>Batch REST<ph id=\"ph1\">][</ph>api_rest<ept id=\"p1\">]</ept> or the <bpt id=\"p2\">[</bpt>Batch .NET<ph id=\"ph2\">][</ph>api_net<ept id=\"p2\">]</ept> client library.","pos":[4345,4499]},{"content":"Batch account keys","pos":[4504,4522]},{"content":"<bpt id=\"p1\">**</bpt>All settings<ept id=\"p1\">**</ept> -- To manage all settings for the Batch account or to view its properties, click <bpt id=\"p2\">**</bpt>All settings<ept id=\"p2\">**</ept> to open the <bpt id=\"p3\">**</bpt>Settings<ept id=\"p3\">**</ept> blade.","pos":[4541,4687]},{"content":"This blade provides access to all settings and properties for the account, including viewing the account quotas, selecting an Azure Storage account to link to the Batch account, and managing users.","pos":[4688,4885]},{"content":"Batch account settings and properties blades","pos":[4890,4934]},{"content":"Considerations for Batch accounts","pos":[4943,4976]},{"pos":[4980,5171],"content":"You can also create and manage Batch accounts with the <bpt id=\"p1\">[</bpt>Batch PowerShell cmdlets<ept id=\"p1\">](batch-powershell-cmdlets-get-started.md)</ept> and the <bpt id=\"p2\">[</bpt>Batch Management .NET<ept id=\"p2\">](batch-management-dotnet.md)</ept> library."},{"content":"You are not charged for the Batch account itself.","pos":[5175,5224]},{"content":"You are charged for any Azure compute resources that your Batch solutions consume, and for the resources consumed by other services when your workloads run.","pos":[5225,5381]},{"content":"For example, you are charged for the compute nodes in your pools, and if you use the <bpt id=\"p1\">[</bpt>application packages<ept id=\"p1\">](batch-application-packages.md)</ept> feature, you are charged for the Azure Storage resources used for storing your application package versions.","pos":[5382,5629]},{"content":"See <bpt id=\"p1\">[</bpt>Batch pricing<ph id=\"ph1\">][</ph>batch_pricing<ept id=\"p1\">]</ept> for more information.","pos":[5630,5686]},{"content":"You can run multiple Batch workloads in a single Batch account, or distribute your workloads among Batch accounts in different Azure regions.","pos":[5690,5831]},{"content":"If you're running several large-scale Batch workloads, be aware of certain <bpt id=\"p1\">[</bpt>Batch service quotas and limits<ept id=\"p1\">](batch-quota-limit.md)</ept> that apply to your Azure subscription and each Batch account.","pos":[5835,6027]},{"content":"Current quotas on a Batch account appear in the portal in the account properties.","pos":[6028,6109]},{"content":"If you associate a storage account with your Batch account, take care when regenerating the storage account access keys.","pos":[6113,6233]},{"content":"You should regenerate only a single storage account key, click <bpt id=\"p1\">**</bpt>Sync Keys<ept id=\"p1\">**</ept> on the linked storage account blade, wait 5 minutes to allow the keys to propagate to the compute nodes in your pools, then regenerate and synchronize the other key if necessary.","pos":[6234,6489]},{"content":"If you regenerate both keys at the same time, your compute nodes will not be able to synchronize either key, and they will lose access to the storage account.","pos":[6490,6648]},{"content":"Regenerating storage account keys","pos":[6654,6687]},{"content":"Next steps","pos":[6696,6706]},{"content":"See the <bpt id=\"p1\">[</bpt>Azure Batch feature overview<ept id=\"p1\">](batch-api-basics.md)</ept> to learn more about Batch service concepts and features.","pos":[6710,6826]},{"content":"The article discusses the primary Batch resources such as pools, compute nodes, jobs, and tasks, and provides an overview of the service's features that enable large-scale compute workload execution.","pos":[6827,7026]},{"content":"Learn the basics of developing a Batch-enabled application using the <bpt id=\"p1\">[</bpt>Batch .NET client library<ept id=\"p1\">](batch-dotnet-get-started.md)</ept>.","pos":[7030,7156]},{"content":"The <bpt id=\"p1\">[</bpt>introductory article<ept id=\"p1\">](batch-dotnet-get-started.md)</ept> guides you through a working application that uses the Batch service to execute a workload on multiple compute nodes, and includes using Azure Storage for workload file staging and retrieval.","pos":[7157,7404]},{"pos":[7407,7414],"content":"api_net"},{"pos":[7473,7481],"content":"api_rest"},{"pos":[7541,7553],"content":"azure_portal"},{"pos":[7582,7595],"content":"batch_pricing"},{"pos":[7651,7752],"content":"3<ph id=\"ph1\">]: ./media/batch-account-create-portal/batch_acct_03.png \"</ph>Batch Service create blade in Azure portal"},{"pos":[7755,7847],"content":"4<ph id=\"ph1\">]: ./media/batch-account-create-portal/batch_acct_04.png \"</ph>Regenerating storage account keys"},{"pos":[7850,7953],"content":"5<ph id=\"ph1\">]: ./media/batch-account-create-portal/batch_acct_05.png \"</ph>Batch account settings and properties blades"},{"pos":[7956,7974],"content":"marketplace_portal"},{"pos":[8036,8050],"content":"account_portal"},{"pos":[8112,8124],"content":"account_keys"}],"content":"<properties\n    pageTitle=\"Create an Azure Batch account | Microsoft Azure\"\n    description=\"Learn how to create an Azure Batch account in the Azure portal to run large-scale parallel workloads in the cloud\"\n    services=\"batch\"\n    documentationCenter=\"\"\n    authors=\"dlepow\"\n    manager=\"timlt\"\n    editor=\"\"/>\n\n<tags\n    ms.service=\"batch\"\n    ms.workload=\"big-compute\"\n    ms.tgt_pltfrm=\"na\"\n    ms.devlang=\"na\"\n    ms.topic=\"get-started-article\"\n    ms.date=\"03/18/2016\"\n    ms.author=\"marsma\"/>\n\n# Create and manage an Azure Batch account in the Azure portal\n\n> [AZURE.SELECTOR]\n- [Azure portal](batch-account-create-portal.md)\n- [Batch Management .NET](batch-management-dotnet.md)\n\nThe [Azure portal][azure_portal] provides you with the tools you need to create and manage an Azure Batch account, which you can use for large-scale parallel workload processing. In this article, we'll walk though Batch account creation using the portal, as well as discuss several of the most important settings and properties of a Batch account. For example, the applications and services you develop with Batch need your account's URL and an access key to communicate with the Batch service APIs, both of which are found in the Azure portal.\n\n>[AZURE.NOTE] The Azure portal currently supports a subset of the features available in the Batch service, including account creation and the management of account settings and properties. The full feature set of Batch, including creating and running jobs and tasks, is available to developers through the Batch APIs.\n\n## Create a Batch account\n\n1. Sign in to the [Azure portal][azure_portal].\n\n2. Click **New** > **Compute** > **Batch Service**.\n\n    ![Batch in the Marketplace][marketplace_portal]\n\n3. Review the information on the **Batch Service** blade, then click **Create**. Note that deployment model selection is disabled. This is because Batch uses the resource group deployment model only.\n\n    ![Batch Service create blade in Azure portal][3]\n\n4. The **New Batch Account** blade is displayed. See items *a* through *e* below for descriptions of each blade element.\n\n    ![Create a Batch account][account_portal]\n\n    a. **Account Name** -- Specify a unique name for your Batch account. This name must be unique within the Azure region the account is created (see *Location* below). It may contain only lowercase characters, numbers, and must be 3-24 characters in length.\n\n    b. **Subscription** -- Select a subscription in which to create the Batch account. If you have only one subscription, it is selected by default.\n\n    c. **Resource group** -- Select a resource group for your new Batch account, or create a new one if there are no resource groups in your subscription.\n\n    d. **Location** -- Select an Azure region in which to create the Batch account. Only the regions supported by your subscription and resource group will be displayed as options.\n\n    e. **Storage Account** (optional) -- You can associate (link) a storage account to your new Batch account. The [application packages](batch-application-packages.md) feature of Batch will use the linked storage account for the storage and retrieval of application packages. See [Application deployment with Azure Batch application packages](batch-application-packages.md) for more information on this feature.\n\n     > [AZURE.TIP] Regenerating keys in a linked Storage account requires special considerations. See [Considerations for Batch accounts](#considerations-for-batch-accounts) below for more details.\n\n5. Click **Create** to create the account.\n\n  The portal will indicate that it is **Deploying** the account, and upon completion, the Batch Account blade will be displayed.\n\n## View Batch account properties\n\nThe Batch account blade displays several properties for the account, as well as provides access to additional settings such as access keys, quotas, users, and storage account association.\n\n* **Batch account URL** -- This URL provides access to your Batch account when using APIs such as the [Batch REST][api_rest] API or [Batch .NET][api_net] client library, and adheres to the following format:\n\n  `https://<account_name>.<region>.batch.azure.com`\n\n* **Access keys** -- To view and manage your Batch account's access keys, click the key icon to open the **Manage keys** blade, or click **All settings** > **Keys**. An access key is required when communicating with the Batch service APIs, such as with [Batch REST][api_rest] or the [Batch .NET][api_net] client library.\n\n ![Batch account keys][account_keys]\n\n* **All settings** -- To manage all settings for the Batch account or to view its properties, click **All settings** to open the **Settings** blade. This blade provides access to all settings and properties for the account, including viewing the account quotas, selecting an Azure Storage account to link to the Batch account, and managing users.\n\n ![Batch account settings and properties blades][5]\n\n## Considerations for Batch accounts\n\n* You can also create and manage Batch accounts with the [Batch PowerShell cmdlets](batch-powershell-cmdlets-get-started.md) and the [Batch Management .NET](batch-management-dotnet.md) library.\n\n* You are not charged for the Batch account itself. You are charged for any Azure compute resources that your Batch solutions consume, and for the resources consumed by other services when your workloads run. For example, you are charged for the compute nodes in your pools, and if you use the [application packages](batch-application-packages.md) feature, you are charged for the Azure Storage resources used for storing your application package versions. See [Batch pricing][batch_pricing] for more information.\n\n* You can run multiple Batch workloads in a single Batch account, or distribute your workloads among Batch accounts in different Azure regions.\n\n* If you're running several large-scale Batch workloads, be aware of certain [Batch service quotas and limits](batch-quota-limit.md) that apply to your Azure subscription and each Batch account. Current quotas on a Batch account appear in the portal in the account properties.\n\n* If you associate a storage account with your Batch account, take care when regenerating the storage account access keys. You should regenerate only a single storage account key, click **Sync Keys** on the linked storage account blade, wait 5 minutes to allow the keys to propagate to the compute nodes in your pools, then regenerate and synchronize the other key if necessary. If you regenerate both keys at the same time, your compute nodes will not be able to synchronize either key, and they will lose access to the storage account.\n\n  ![Regenerating storage account keys][4]\n\n## Next steps\n\n* See the [Azure Batch feature overview](batch-api-basics.md) to learn more about Batch service concepts and features. The article discusses the primary Batch resources such as pools, compute nodes, jobs, and tasks, and provides an overview of the service's features that enable large-scale compute workload execution.\n\n* Learn the basics of developing a Batch-enabled application using the [Batch .NET client library](batch-dotnet-get-started.md). The [introductory article](batch-dotnet-get-started.md) guides you through a working application that uses the Batch service to execute a workload on multiple compute nodes, and includes using Azure Storage for workload file staging and retrieval.\n\n[api_net]: https://msdn.microsoft.com/library/azure/mt348682.aspx\n[api_rest]: https://msdn.microsoft.com/library/azure/Dn820158.aspx\n\n[azure_portal]: https://portal.azure.com\n[batch_pricing]: https://azure.microsoft.com/pricing/details/batch/\n\n[3]: ./media/batch-account-create-portal/batch_acct_03.png \"Batch Service create blade in Azure portal\"\n[4]: ./media/batch-account-create-portal/batch_acct_04.png \"Regenerating storage account keys\"\n[5]: ./media/batch-account-create-portal/batch_acct_05.png \"Batch account settings and properties blades\"\n[marketplace_portal]: ./media/batch-account-create-portal/marketplace_batch.PNG\n[account_portal]: ./media/batch-account-create-portal/batch_acct_portal.png\n[account_keys]: ./media/batch-account-create-portal/account_keys.PNG\n"}