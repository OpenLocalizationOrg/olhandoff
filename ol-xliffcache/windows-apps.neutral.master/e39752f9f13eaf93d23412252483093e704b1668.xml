{"nodes":[{"content":"Create a Hello World app in C++ (Windows 10)","pos":[80,124]},{"content":"With Microsoft Visual Studio 2015, you can use C++ to develop an app that runs on Windows 10, including on phones running Windows 10.","pos":[138,271]},{"content":"These apps have a UI that's defined in Extensible Application Markup Language (XAML).","pos":[272,357]},{"content":"Create a \"hello world\" app in C++ (Windows 10)","pos":[365,411]},{"content":"With Microsoft Visual Studio 2015, you can use C++ to develop an app that runs on Windows 10, including on phones running Windows 10.","pos":[413,546]},{"content":"These apps have a UI that's defined in Extensible Application Markup Language (XAML).","pos":[547,632]},{"content":"To develop an app that runs on Windows 8.1 and Windows Phone 8.1, use Microsoft Visual Studio 2013 Update 3 or later and follow the steps <bpt id=\"p1\">[</bpt>here<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/Dn263168)</ept>.","pos":[634,837]},{"content":"The most significant difference is that for Windows 8.1 and Windows Phone 8.1, you use a solution with three projects, one for the desktop (or tablet device), one for the phone, and one for shared code.","pos":[838,1040]},{"content":"For Windows 10 development, all code shares the same project.","pos":[1041,1102]},{"content":"For tutorials in other programming languages, see:","pos":[1104,1154]},{"content":"Create your first Windows Store app using JavaScript","pos":[1161,1213]},{"content":"Create your first Windows Store app using C# or Visual Basic","pos":[1279,1339]},{"content":"Before you start...","pos":[1403,1422]},{"content":"To complete this tutorial, you must use Visual Studio 2015 Community or later, or one of the non-Community versions of Visual Studio 2015, on a computer that's running Windows 10 or Windows 8.1.","pos":[1428,1622]},{"content":"To download, see <bpt id=\"p1\">[</bpt>Get the tools<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkId=532666)</ept>.","pos":[1623,1705]},{"pos":[1710,1830],"content":"Install the appropriate <bpt id=\"p1\">[</bpt>SDK<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=533049)</ept> for Windows Universal Platform development."},{"content":"You also must have a developer license.","pos":[1835,1874]},{"content":"For instructions, see <bpt id=\"p1\">[</bpt>Get a developer license<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/Hh974578)</ept>.","pos":[1875,1981]},{"pos":[1986,2148],"content":"We assume you have a basic understanding of standard C++, XAML, and the concepts in the <bpt id=\"p1\">[</bpt>XAML overview<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/Mt185595)</ept>."},{"content":"We assume you're using the default window layout in Visual Studio.","pos":[2153,2219]},{"content":"To reset to the default layout, on the menu bar, choose <bpt id=\"p1\">**</bpt>Window<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>Reset Window Layout<ept id=\"p2\">**</ept>.","pos":[2220,2313]},{"content":"Note that there is a known issue with Visual Studio 2015 that can result in a NullReferenceException when loading the XAML designer.","pos":[2318,2450]},{"content":"This issue blocks some of the steps of this tutorial, unless you apply the workaround.","pos":[2451,2537]},{"content":"For details about this issue and the workaround, see <bpt id=\"p1\">[</bpt>this MSDN forum post<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkId=624036)</ept> .","pos":[2538,2664]},{"content":"Comparing C++ desktop apps to Windows apps","pos":[2669,2711]},{"content":"If you're coming from a background in Windows desktop programming in C++, you'll probably find that some aspects of Windows Store app and Windows Phone app programming are familiar, but other aspects require some learning.","pos":[2713,2935]},{"content":"What's the same?","pos":[2941,2957]},{"content":"You can use the STL, the CRT (with some exceptions), and any other C++ library as long as the code does not attempt to call Windows functions that are not accessible from the Windows Runtime environment.","pos":[2963,3166]},{"content":"If you're accustomed to visual designers, you can still use the designer built into Microsoft Visual Studio, or you can use the more full-featured Blend for Visual Studio.","pos":[3172,3343]},{"content":"If you're accustomed to coding UI by hand, you can hand-code your XAML.","pos":[3344,3415]},{"content":"You're still creating apps that use Windows operating system types and your own custom types.","pos":[3421,3514]},{"content":"You're still using the Visual Studio debugger, profiler, and other development tools.","pos":[3520,3605]},{"content":"You're still creating apps that are compiled to native machine code by the Visual C++ compiler.","pos":[3611,3706]},{"content":"Windows Store apps in C++ don't execute in a managed runtime environment.","pos":[3707,3780]},{"content":"What's new?","pos":[3786,3797]},{"content":"The design principles for Windows Store apps and Universal Windows apps are very different from those for desktop apps.","pos":[3803,3922]},{"content":"Window borders, labels, dialog boxes, and so on, are de-emphasized.","pos":[3923,3990]},{"content":"Content is foremost.","pos":[3991,4011]},{"content":"Great Universal Windows apps incorporate these principles from the very beginning of the planning stage.","pos":[4012,4116]},{"content":"You're using XAML to define the entire UI.","pos":[4122,4164]},{"content":"The separation between UI and core program logic is much clearer in a Windows Universal app than in an MFC or Win32 app.","pos":[4165,4285]},{"content":"Other people can work on the appearance of the UI in the XAML file while you're working on the behavior in the code file.","pos":[4286,4407]},{"content":"You're primarily programming against a new, easy-to-navigate, object-oriented API, the Windows Runtime, although on Windows devices Win32 is still available for some functionality.","pos":[4413,4593]},{"content":"You use C++/CX to consume and create Windows Runtime objects.","pos":[4599,4660]},{"content":"C++/CX enables C++ exception handling, delegates, events, and automatic reference counting of dynamically created objects.","pos":[4661,4783]},{"content":"When you use C++/CX, the details of the underlying COM and Windows architecture are hidden from your app code.","pos":[4784,4894]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>C++/CX Language Reference<ept id=\"p1\">](https://msdn.microsoft.com/en-us/library/windows/apps/hh699871.aspx)</ept>.","pos":[4895,5018]},{"content":"Your app is compiled into a package that also contains metadata about the types that your app contains, the resources that it uses, and the capabilities that it requires (file access, internet access, camera access, and so forth).","pos":[5024,5254]},{"content":"In the Windows Store and Windows Phone Store your app is verified as safe by a certification process and made discoverable to millions of potential customers.","pos":[5260,5418]},{"content":"Hello World Store app in C++","pos":[5423,5451]},{"content":"Our first app is a \"Hello World\" that demonstrates some basic features of interactivity, layout, and styles.","pos":[5453,5561]},{"content":"We'll create an app from the Windows Universal app project template.","pos":[5562,5630]},{"content":"If you've developed apps for Windows 8.1 and Windows Phone 8.1 before, you might remember that you had to have three projects in Visual Studio, one for the Windows app, one for the phone app, and another with shared code.","pos":[5631,5852]},{"content":"The Windows 10 Universal Windows Platform (UWP) makes it possible to have just one project, which runs on all devices, including desktop and laptop computers running Windows 10, devices such as tablets, mobile phones, and so on.","pos":[5853,6081]},{"content":"We'll start with the basics:","pos":[6083,6111]},{"content":"How to create a Universal Windows project in Visual Studio 2015 or later.","pos":[6117,6190]},{"content":"How to understand the projects and files that are created.","pos":[6196,6254]},{"content":"How to understand the extensions in Visual C++ component extensions (C++/CX), and when to use them.","pos":[6260,6359]},{"content":"First, create a solution in Visual Studio","pos":[6363,6404]},{"pos":[6412,6487],"content":"In Visual Studio, on the menu bar, choose <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p3\">**</bpt>Project<ept id=\"p3\">**</ept>."},{"pos":[6493,6614],"content":"In the <bpt id=\"p1\">**</bpt>New Project<ept id=\"p1\">**</ept> dialog box, in the left pane, expand <bpt id=\"p2\">**</bpt>Installed<ept id=\"p2\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p3\">**</bpt>Visual C++<ept id=\"p3\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p4\">**</bpt>Windows<ept id=\"p4\">**</ept><ph id=\"ph3\"> &gt; </ph><bpt id=\"p5\">**</bpt>Universal<ept id=\"p5\">**</ept>."},{"pos":[6620,6681],"content":"In the center pane, select <bpt id=\"p1\">**</bpt>Blank App (Universal Windows)<ept id=\"p1\">**</ept>."},{"content":"Enter a name for the project.","pos":[6687,6716]},{"content":"We'll name it HelloWorld.","pos":[6717,6742]},{"content":"C++ project templates in the New Project dialog box","pos":[6747,6798]},{"pos":[6849,6874],"content":"Choose the <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> button."},{"content":"If this is the first UWP project you've created, and you haven't enabled Developer Mode on your computer, the Enable Developer mode dialog box appears.","pos":[6879,7030]},{"content":"Click on the link to bring up the Settings page that lets you set Developer Mode.","pos":[7031,7112]},{"content":"Developer Mode allows your apps to be deployed and run locally.","pos":[7113,7176]},{"content":"Your project files are created.","pos":[7181,7212]},{"content":"Before we go on, letâ€™s look at what's in the solution.","pos":[7214,7268]},{"content":"Univeral app solution with nodes collapsed","pos":[7272,7314]},{"content":"About the project files","pos":[7372,7395]},{"content":"Every .xaml file in a project folder has a corresponding .xaml.h file and .xaml.cpp file in the same folder and a .g file and a .g.hpp file in the Generated Files folder, which is on disk but not part of the project.","pos":[7397,7613]},{"content":"You modify the XAML files to create UI elements and connect them to data sources (DataBinding).","pos":[7614,7709]},{"content":"You modify the .h and .cpp files to add custom logic for event handlers.","pos":[7710,7782]},{"content":"The auto-generated files represent the transformation of the XAML markup into C++.","pos":[7783,7865]},{"content":"Don't modify these files, but you can study them to better understand how the code-behind works.","pos":[7866,7962]},{"content":"Basically, the generated file contains a partial class definition for a XAML root element; this class is the same class that you modify in the <ph id=\"ph1\">\\*</ph>.xaml.h and .cpp files.","pos":[7963,8131]},{"content":"The generated files declare the XAML UI child elements as class members so that you can reference them in the code you write.","pos":[8132,8257]},{"content":"At build time, the generated code and your code are merged into a complete class definition and then compiled.","pos":[8258,8368]},{"content":"Let's look first at the project files.","pos":[8370,8408]},{"content":"<bpt id=\"p1\">**</bpt>App.xaml, App.xaml.h, App.xaml.cpp:<ept id=\"p1\">**</ept> Represent the Application object, which is an app's entry point.","pos":[8414,8518]},{"content":"App.xaml contains no page-specific UI markup, but you can add UI styles and other elements that you want to be accessible from any page.","pos":[8519,8655]},{"content":"The code-behind files contain handlers for the <bpt id=\"p1\">**</bpt>OnLaunched<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>OnSuspending<ept id=\"p2\">**</ept> events.","pos":[8656,8746]},{"content":"Typically, you add custom code here to initialize your app when it starts and perform cleanup when it's suspended or terminated.","pos":[8747,8875]},{"content":"<bpt id=\"p1\">**</bpt>MainPage.xaml, MainPage.xaml.h, MainPage.xaml.cpp:<ept id=\"p1\">**</ept>Contain the XAML markup and code-behind for the default \"start\" page in an app.","pos":[8880,9013]},{"content":"It has no navigation support or built-in controls.","pos":[9014,9064]},{"content":"<bpt id=\"p1\">**</bpt>pch.h, pch.cpp:<ept id=\"p1\">**</ept> A precompiled header file and the file that includes it in your project.","pos":[9069,9161]},{"content":"In pch.h, you can include any headers that do not change often and are included in other files in the solution.","pos":[9162,9273]},{"content":"<bpt id=\"p1\">**</bpt>Package.appxmanifest:<ept id=\"p1\">**</ept> An XML file that describes the device capabilities that your app requires, and the app version info and other metadata.","pos":[9278,9423]},{"content":"To open this file in the <bpt id=\"p1\">**</bpt>Manifest Designer<ept id=\"p1\">**</ept>, just double-click it.","pos":[9424,9493]},{"pos":[9498,9608],"content":"<bpt id=\"p1\">**</bpt>HelloWorld<ph id=\"ph1\">\\_</ph>TemporaryKey.pfx:<ept id=\"p1\">**</ept>A key that enables deployment of the app on this machine, from Visual Studio."},{"content":"A first look at the code","pos":[9613,9637]},{"content":"If you examine the code in App.xaml.h, App.xaml.cpp in the shared project, you'll notice that it's mostly C++ code that looks familiar.","pos":[9639,9774]},{"content":"However, some syntax elements might not be as familiar if you are new to Windows Runtime apps, or you've worked with C++/CLI.","pos":[9775,9900]},{"content":"Here are the most common non-standard syntax elements you'll see in C++/CX:","pos":[9901,9976]},{"content":"Ref classes","pos":[9984,9995]},{"content":"Almost all Windows Runtime classes, which includes all the types in the Windows API--XAML controls, the pages in your app, the App class itself, all device and network objects, all container types--are declared as a <bpt id=\"p1\">**</bpt>ref class<ept id=\"p1\">**</ept>.","pos":[9999,10229]},{"content":"(A few Windows types are <bpt id=\"p1\">**</bpt>value class<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>value struct<ept id=\"p2\">**</ept>).","pos":[10230,10292]},{"content":"A ref class is consumable from any language.","pos":[10293,10337]},{"content":"In C++, the lifetime of these types is governed by automatic reference counting (not garbage collection) so that you never explicitly delete these objects.","pos":[10338,10493]},{"content":"You can create your own ref classes as well.","pos":[10494,10538]},{"content":"All Windows Runtime types must be declared within a namespace and unlike in ISO C++ the types themselves have an accessibility modifier.","pos":[10827,10963]},{"content":"The <bpt id=\"p1\">**</bpt>public<ept id=\"p1\">**</ept> modifier makes the class visible to Windows Runtime components outside the namespace.","pos":[10964,11064]},{"content":"The <bpt id=\"p1\">**</bpt>sealed<ept id=\"p1\">**</ept> keyword means the class cannot serve as a base class.","pos":[11065,11133]},{"content":"Almost all ref classes are sealed; class inheritance is not broadly used because Javascript does not understand it.","pos":[11134,11249]},{"pos":[11255,11283],"content":"<bpt id=\"p1\">**</bpt>ref new<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>^ (hats)<ept id=\"p2\">**</ept>"},{"content":"You declare a variable of a ref class by using the ^ (hat) operator, and you instantiate the object with the ref new keyword.","pos":[11286,11411]},{"content":"Thereafter you access the object's instance methods with the -&gt; operator just like a C++ pointer.","pos":[11412,11509]},{"content":"Static methods are accessed with the :: operator just as in ISO C++.","pos":[11510,11578]},{"content":"In the following code, we use the fully qualified name to instantiate an object, and use the -&gt; operator to call an instance method.","pos":[11581,11713]},{"pos":[11914,12083],"content":"Typically, in a .cpp file we would add a <ph id=\"ph1\">`using namespace  Windows::UI::Xaml::Media::Imaging`</ph> directive and the auto keyword, so that the same code would look like this:"},{"content":"Properties","pos":[12189,12199]},{"content":"A ref class can have properties, which, just as in managed languages, are special member functions that appear as fields to consuming code.","pos":[12206,12345]},{"content":"Delegates","pos":[13039,13048]},{"content":"Just as in managed languages, a delegate is a reference type that encapsulates a function with a specific signature.","pos":[13055,13171]},{"content":"They are most often used with events and event handlers","pos":[13172,13227]},{"content":"Adding content to the app","pos":[13821,13846]},{"content":"Let's add some content to the app.","pos":[13848,13882]},{"content":"Step 1: Modify your start page","pos":[13886,13916]},{"pos":[13924,13969],"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, open MainPage.xaml."},{"content":"Create controls for the UI by adding the following XAML to the root <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Grid<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR242704)</ept>, immediately before its closing tag.","pos":[13974,14147]},{"content":"It contains a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StackPanel<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR209635)</ept> that has a <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>TextBlock<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/BR209652)</ept> that asks the user's name, a <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>TextBox<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/BR209683)</ept> element that accepts the user's name, a <bpt id=\"p7\">[</bpt><bpt id=\"p8\">**</bpt>Button<ept id=\"p8\">**</ept><ept id=\"p7\">](https://msdn.microsoft.com/library/windows/apps/BR209265)</ept>, and another <bpt id=\"p9\">**</bpt>TextBlock<ept id=\"p9\">**</ept> element.","pos":[14148,14569]},{"pos":[15087,15223],"content":"We talk more about XAML layout in the <bpt id=\"p1\">[</bpt>Navigation, layout, and views<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/Dn263172)</ept> article."},{"content":"At this point, you have created a very basic Universal Windows app.","pos":[15229,15296]},{"content":"To see what the UWP app looks like, press F5 to build, deploy, and run the app in debugging mode.","pos":[15297,15394]},{"content":"The default splash screen appears first.","pos":[15396,15436]},{"content":"It has an imageâ€”Assets<ph id=\"ph1\">\\\\</ph>SplashScreen.scale-100.pngâ€”and a background color that are specified in the app's manifest file.","pos":[15437,15557]},{"content":"To learn how to customize the splash screen, see <bpt id=\"p1\">[</bpt>Adding a splash screen<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/Hh465332)</ept>.","pos":[15558,15690]},{"content":"When the splash screen disappears, your app appears.","pos":[15692,15744]},{"content":"It displays the main page of the App.","pos":[15745,15782]},{"content":"Press the Windows key or click the Start button to go to the Start menu, and notice that deploying the app adds it to the Start menu's list of installed apps.","pos":[15784,15942]},{"content":"It also appears when you click on the the New link next to the All Apps button.","pos":[15943,16022]},{"content":"To run the app again, just tap or click its tile, press F5 or Ctrl+F5 in Visual Studio as usual.","pos":[16023,16119]},{"content":"Windows Store app screen, with controls","pos":[16124,16163]},{"content":"It doesn't do muchâ€”yetâ€”but congratulations, you've built your first Universal Windows Platform app!","pos":[16194,16293]},{"content":"To stop debugging and close the app, return to Visual Studio and press Shift+F5.","pos":[16298,16378]},{"pos":[16383,16495],"content":"For more information, see <bpt id=\"p1\">[</bpt>Run a Store app from Visual Studio<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkId=619619)</ept>."},{"content":"In the app, you can type in the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>TextBox<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR209683)</ept>, but clicking the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Button<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/BR209265)</ept> doesn't do anything.","pos":[16500,16713]},{"content":"In later steps, you create an event handler for the button's <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Click<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR227737)</ept> event, which displays a personalized greeting.","pos":[16714,16891]},{"content":"Start the app on a mobile device emulator","pos":[16896,16937]},{"content":"Your app runs on any Windows 10 device, so letâ€™s see how it looks on a Windows Phone.","pos":[16940,17025]},{"content":"This section requires a Windows Phone running Windows 10, or access to a Windows Phone emulator and it requires that Visual Studio be running on a physical computer (not a virtual machine) with HyperV supported and enabled.","pos":[17026,17249]},{"content":"In addition to the options to debug on a desktop device, Visual Studio provides options for deploying and debugging your app on a physical mobile device connected to the computer, or on a mobile device emulator.","pos":[17251,17462]},{"content":"You can choose among emulators for devices with different memory and display configurations.","pos":[17463,17555]},{"content":"Device","pos":[17563,17569]},{"content":"Emulator 10.0.0.0 WVGA 4 inch 512MB","pos":[17578,17613]},{"content":"Various emulators in other configurations","pos":[17620,17661]},{"content":"It's a good idea to test your app on a device with a small screen and limited memory, so use the <bpt id=\"p1\">**</bpt>Emulator 10.0.0.0 WVGA 4 inch 512MB<ept id=\"p1\">**</ept> option.","pos":[17663,17807]},{"content":"<bpt id=\"p1\">**</bpt>Tip<ept id=\"p1\">**</ept>  For more info about using the phone emulator, see <bpt id=\"p2\">[</bpt>Run Windows Phone apps in the emulator<ept id=\"p2\">](http://go.microsoft.com/fwlink/p/?LinkId=394233)</ept>.","pos":[17808,17957]},{"content":"To debug your app on a physical device, you must have a device thatâ€™s registered for development.","pos":[17962,18059]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>Register your Windows Phone<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/Dn614128)</ept>.","pos":[18060,18167]},{"content":"To start debugging on a mobile device emulator","pos":[18171,18217]},{"pos":[18225,18379],"content":"In the target device menu (<ph id=\"ph1\">![</ph>Start debugging menu<ph id=\"ph2\">](images/startdebug-full.png)</ph>) on the <bpt id=\"p1\">**</bpt>Standard<ept id=\"p1\">**</ept> toolbar, pick <bpt id=\"p2\">**</bpt>Emulator 10.0.0.0 WVGA 4 inch 512MB<ept id=\"p2\">**</ept>."},{"pos":[18384,18490],"content":"Click the <bpt id=\"p1\">**</bpt>Start Debugging<ept id=\"p1\">**</ept> button (<ph id=\"ph1\">![</ph>Start debugging button<ph id=\"ph2\">](images/startdebug-sm.png)</ph>) in the toolbar."},{"content":"â€“orâ€“","pos":[18495,18499]},{"pos":[18504,18555],"content":"From the <bpt id=\"p1\">**</bpt>Debug<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>Start Debugging<ept id=\"p2\">**</ept>."},{"content":"â€“orâ€“","pos":[18560,18564]},{"content":"Press F5.","pos":[18569,18578]},{"content":"On the mobile device emulator, the app looks like this.","pos":[18580,18635]},{"content":"Initial app screen on mobile device","pos":[18639,18674]},{"content":"Visual Studio starts the selected emulator and then deploys and starts your app.","pos":[18706,18786]},{"content":"The first thing you'll notice is that the 120-pixel left margin that looks good on the local machine pushes your content off the smaller screen of a mobile device.","pos":[18787,18950]},{"content":"Later in this tutorial, you'll learn how to adapt the UI to different screen sizes so your app always looks good.","pos":[18951,19064]},{"content":"Step 2: Create an event handler","pos":[19069,19100]},{"pos":[19106,19349],"content":"In MainPage.xaml, in either XAML or design view, select the \"Say Hello\" <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Button<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR209265)</ept> in the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>StackPanel<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/BR209635)</ept> you added earlier."},{"pos":[19354,19486],"content":"Open the <bpt id=\"p1\">**</bpt>Properties Window<ept id=\"p1\">**</ept> by pressing Alt+Enter, and then choose the Events button (<ph id=\"ph1\">![</ph>Events button<ph id=\"ph2\">](images/eventsbutton.png)</ph>)."},{"content":"Find the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Click<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR227737)</ept> event.","pos":[19491,19576]},{"content":"In its text box, type the name of the function that handles the <bpt id=\"p1\">**</bpt>Click<ept id=\"p1\">**</ept> event.","pos":[19577,19657]},{"content":"For this example, type \"Button<ph id=\"ph1\">\\_</ph>Click\".","pos":[19658,19697]},{"content":"Properties window, Events view","pos":[19701,19731]},{"content":"Press Enter.","pos":[19764,19776]},{"content":"The event handler method is created in MainPage.xaml.cpp and opened so that you can add the code that's executed when the event occurs.","pos":[19777,19912]},{"pos":[19917,20162],"content":"At the same time, in MainPage.xaml, the XAML for the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Button<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR209265)</ept> is updated to declare the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Click<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/BR227737)</ept> event handler, like this:"},{"content":"You could also have simply added this to the xaml code manually, which can be helpful if the designer doesn't load.","pos":[20235,20350]},{"content":"If you enter this manually, type \"Click\" and then let IntelliSense pop up the option to add a new event handler.","pos":[20351,20463]},{"content":"That way, Visual Studio creates the necessary method declaration and stub.","pos":[20464,20538]},{"content":"The designer fails to load if an unhandled exception occurs during rendering.","pos":[20540,20617]},{"content":"Rendering in the designer involves running a design-time version of the page.","pos":[20618,20695]},{"content":"It can be helpful to disable running user code.","pos":[20696,20743]},{"content":"You can do this by changing the setting in the <bpt id=\"p1\">**</bpt>Tools, Options<ept id=\"p1\">**</ept> dialog box.","pos":[20744,20821]},{"content":"Under <bpt id=\"p1\">**</bpt>XAML Designer<ept id=\"p1\">**</ept>, uncheck <bpt id=\"p2\">**</bpt>Run project code in XAML designer (if supported)<ept id=\"p2\">**</ept>.","pos":[20822,20908]},{"content":"In MainPage.xaml.cpp, add the following code to the <bpt id=\"p1\">**</bpt>Button<ph id=\"ph1\">\\_</ph>Click<ept id=\"p1\">**</ept> event handler that you just created.","pos":[20914,21020]},{"content":"This code retrieves the user's name from the <ph id=\"ph1\">`nameInput`</ph> <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>TextBox<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR209683)</ept> control and uses it to create a greeting.","pos":[21021,21191]},{"content":"The <ph id=\"ph1\">`greetingOutput`</ph> <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>TextBlock<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR209652)</ept> displays the result.","pos":[21192,21307]},{"content":"Set the project as the startup, and then press F5 to build and run the app.","pos":[21512,21587]},{"content":"When you type a name in the text box and click the button, the app displays a personalized greeting.","pos":[21588,21688]},{"content":"App screen with message display","pos":[21692,21723]},{"content":"Step 3: Style the start page","pos":[21754,21782]},{"content":"Choosing a theme","pos":[21788,21804]},{"content":"It's easy to customize the look and feel of your app.","pos":[21806,21859]},{"content":"By default, your app uses resources that have a light style.","pos":[21860,21920]},{"content":"The system resources also include a light theme.","pos":[21921,21969]},{"content":"Let's try it out and see what it looks like.","pos":[21970,22014]},{"content":"To switch to the dark theme","pos":[22018,22045]},{"content":"Open App.xaml.","pos":[22053,22067]},{"pos":[22072,22329],"content":"In the opening <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Application<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR242324)</ept> tag, edit the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>RequestedTheme<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.application.requestedtheme)</ept> property and set its value to <bpt id=\"p5\">**</bpt>Dark<ept id=\"p5\">**</ept>:"},{"pos":[22369,22486],"content":"Here's the full <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Application<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR242324)</ept> tag with the dark theme :"},{"content":"Press F5 to build and run it.","pos":[22767,22796]},{"content":"Notice that it uses the dark theme.","pos":[22797,22832]},{"content":"App screen with dark theme","pos":[22836,22862]},{"content":"Which theme should you use?","pos":[22890,22917]},{"content":"Whichever one you want.","pos":[22918,22941]},{"content":"Here's our take: for apps that mostly display images or video, we recommend the dark theme; for apps that contain a lot of text, we recommend the light theme.","pos":[22942,23100]},{"content":"If you're using a custom color scheme, use the theme that goes best with your app's look and feel.","pos":[23101,23199]},{"content":"In the rest of this tutorial, we use the Light theme in screenshots.","pos":[23200,23268]},{"pos":[23270,23371],"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  The theme is applied when the app is started and can't be changed while the app is running."},{"content":"Using system styles","pos":[23377,23396]},{"content":"Right now, in the Windows app the text is very small and difficult to read.","pos":[23398,23473]},{"content":"Let's fix that by applying a system style.","pos":[23474,23516]},{"content":"To change the style of an element","pos":[23520,23553]},{"content":"In the Windows project, open MainPage.xaml.","pos":[23561,23604]},{"pos":[23609,23767],"content":"In either XAML or design view, select the \"What's your name?\"<bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>TextBlock<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR209652)</ept> that you added earlier."},{"pos":[23772,23911],"content":"In the <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> window (<bpt id=\"p2\">**</bpt>F4<ept id=\"p2\">**</ept>), choose the Properties button (<ph id=\"ph1\">![</ph>Properties button<ph id=\"ph2\">](images/propertiesbutton.png)</ph>) in the upper right."},{"pos":[23916,23973],"content":"Expand the <bpt id=\"p1\">**</bpt>Text<ept id=\"p1\">**</ept> group and set the font size to 18 px."},{"pos":[23978,24045],"content":"Expand the <bpt id=\"p1\">**</bpt>Miscellaneous<ept id=\"p1\">**</ept> group and find the <bpt id=\"p2\">**</bpt>Style<ept id=\"p2\">**</ept> property."},{"pos":[24050,24207],"content":"Click the property marker (the green box to the right of the <bpt id=\"p1\">**</bpt>Style<ept id=\"p1\">**</ept> property), and then, on the menu, choose <bpt id=\"p2\">**</bpt>System Resource<ept id=\"p2\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p3\">**</bpt>BaseTextBlockStyle<ept id=\"p3\">**</ept>."},{"pos":[24210,24439],"content":"<bpt id=\"p1\">**</bpt>BaseTextBlockStyle<ept id=\"p1\">**</ept> is a resource that's defined in the <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>ResourceDictionary<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/BR208794)</ept> in <ph id=\"ph1\">&lt;root&gt;\\\\</ph>Program Files<ph id=\"ph2\">\\\\</ph>Windows Kits<ph id=\"ph3\">\\\\</ph>10<ph id=\"ph4\">\\\\</ph>Include<ph id=\"ph5\">\\\\</ph>winrt<ph id=\"ph6\">\\\\</ph>xaml<ph id=\"ph7\">\\\\</ph>design<ph id=\"ph8\">\\\\</ph>generic.xaml."},{"content":"Properties window, Properties view","pos":[24443,24477]},{"content":"On the XAML design surface, the appearance of the text changes.","pos":[24511,24574]},{"content":"In the XAML editor, the XAML for the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>TextBlock<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR209652)</ept> is updated:","pos":[24575,24697]},{"pos":[24797,24980],"content":"Repeat the process to set the font size and assign the <bpt id=\"p1\">**</bpt>BaseTextBlockStyle<ept id=\"p1\">**</ept> to the <ph id=\"ph1\">`greetingOutput`</ph><bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>TextBlock<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/BR209652)</ept> element."},{"pos":[24984,25216],"content":"<bpt id=\"p1\">**</bpt>Tip<ept id=\"p1\">**</ept>  Although there's no text in this <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>TextBlock<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/BR209652)</ept>, when you move the pointer over the XAML design surface, a blue outline shows where it is so that you can select it."},{"content":"Your XAML now looks like this:","pos":[25222,25252]},{"content":"Press F5 to build and run the app.","pos":[25828,25862]},{"content":"It now looks like this:","pos":[25863,25886]},{"content":"App screen with larger text","pos":[25891,25918]},{"content":"Step 4: Adapt the UI to different window sizes","pos":[25950,25996]},{"content":"Now we'll make the UI adapt to different screen sizes so it looks good on mobile devices.","pos":[25998,26087]},{"content":"To do this, you add a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>VisualStateManager<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR209021)</ept> and set properties that are applied for different visual states.","pos":[26088,26257]},{"content":"To adjust the UI layout","pos":[26261,26284]},{"pos":[26292,26446],"content":"In the XAML editor, add this block of XAML after the opening tag of the root <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Grid<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR242704)</ept> element."},{"content":"Debug the app on the local machine.","pos":[27357,27392]},{"content":"Notice that the UI looks the same as before unless the window gets narrower than 641 device-independent pixels (DIPs).","pos":[27393,27511]},{"content":"Debug the app on the mobile device emulator.","pos":[27516,27560]},{"content":"Notice that the UI uses the properties you defined in the <ph id=\"ph1\">`narrowState`</ph> and appears correctly on the small screen.","pos":[27561,27675]},{"content":"Mobile app screen with styled text","pos":[27679,27713]},{"pos":[27745,27936],"content":"If you've used a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>VisualStateManager<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR209021)</ept> in previous versions of XAML, you might notice that the XAML here uses a simplified syntax."},{"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>VisualState<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR209007)</ept> named <ph id=\"ph1\">`wideState`</ph> has an <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>AdaptiveTrigger<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/Dn890382)</ept> with its <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>MinWindowWidth<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.adaptivetrigger.minwindowwidth)</ept> property set to 641.","pos":[27938,28275]},{"content":"This means that the state is to be applied only when the window width is not less than the minimum of 641 DIPs.","pos":[28276,28387]},{"content":"You don't define any <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Setter<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR208817)</ept> objects for this state, so it uses the layout properties you defined in the XAML for the page content.","pos":[28388,28582]},{"content":"The second <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>VisualState<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR209007)</ept>, <ph id=\"ph1\">`narrowState`</ph>, has an <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>AdaptiveTrigger<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/Dn890382)</ept> with its <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>MinWindowWidth<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.adaptivetrigger.minwindowwidth)</ept> property set to 0.","pos":[28584,28924]},{"content":"This state is applied when the window width is greater than 0, but less than 641 DIPs.","pos":[28925,29011]},{"content":"(At 641 DIPs, the <ph id=\"ph1\">`wideState`</ph> is applied.) In this state, you do define some <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Setter<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR208817)</ept> objects to change the layout properties of controls in the UI:","pos":[29012,29222]},{"pos":[29228,29300],"content":"You reduce the left margin of the <ph id=\"ph1\">`contentPanel`</ph> element from 120 to 20."},{"pos":[29305,29499],"content":"You change the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Orientation<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.stackpanel.orientation)</ept> of the <ph id=\"ph1\">`inputPanel`</ph> element from <bpt id=\"p3\">**</bpt>Horizontal<ept id=\"p3\">**</ept> to <bpt id=\"p4\">**</bpt>Vertical<ept id=\"p4\">**</ept>."},{"pos":[29504,29564],"content":"You add a top margin of 4 DIPs to the <ph id=\"ph1\">`inputButton`</ph> element."},{"content":"Summary","pos":[29570,29577]},{"content":"Congratulations, you've completed the first tutorial!","pos":[29579,29632]},{"content":"It taught how to add content to Windows Universal apps, how to add interactivity to them, and how to change their appearance.","pos":[29633,29758]},{"content":"Next steps","pos":[29763,29773]},{"content":"If you have a Windows Universal app project that targets Windows 8.1 and/or Windows Phone 8.1, you can port it to Windows 10.","pos":[29775,29900]},{"content":"There is no automatic process for this, but you can do it manually with a little effort.","pos":[29901,29989]},{"content":"Start with a new Windows Universal project to get the latest project system structure and manifest files, copy your code files into the project's directory structure, add the items to your project, and rewrite your XAML using the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>VisualStateManager<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR209021)</ept> according to the guidance in this topic.","pos":[29990,30343]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Porting a Windows Runtime 8 project to a Universal Windows Platform (UWP) project<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/Mt188203)</ept> and <bpt id=\"p2\">[</bpt>Porting to the Universal Windows Platform (C++)<ept id=\"p2\">](http://go.microsoft.com/fwlink/p/?LinkId=619525)</ept>.","pos":[30344,30615]},{"pos":[30617,30866],"content":"If you have existing C++ code that you want to integrate with a UWP app, such as to create a new UWP UI for an existing application, see <bpt id=\"p1\">[</bpt>How to: Use existing C++ code in a Universal Windows project<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkId=619623)</ept>."}],"content":"---\nauthor: martinekuan\nms.assetid: DC235C16-8DAF-4078-9365-6612A10F3EC3\ntitle: Create a Hello World app in C++ (Windows 10)\ndescription: With Microsoft Visual Studio 2015, you can use C++ to develop an app that runs on Windows 10, including on phones running Windows 10. These apps have a UI that's defined in Extensible Application Markup Language (XAML).\n---\n\n# Create a \"hello world\" app in C++ (Windows 10)\n\nWith Microsoft Visual Studio 2015, you can use C++ to develop an app that runs on Windows 10, including on phones running Windows 10. These apps have a UI that's defined in Extensible Application Markup Language (XAML).\n\nTo develop an app that runs on Windows 8.1 and Windows Phone 8.1, use Microsoft Visual Studio 2013 Update 3 or later and follow the steps [here](https://msdn.microsoft.com/library/windows/apps/Dn263168). The most significant difference is that for Windows 8.1 and Windows Phone 8.1, you use a solution with three projects, one for the desktop (or tablet device), one for the phone, and one for shared code. For Windows 10 development, all code shares the same project.\n\nFor tutorials in other programming languages, see:\n\n-   [Create your first Windows Store app using JavaScript](https://msdn.microsoft.com/library/windows/apps/BR211385)\n\n-   [Create your first Windows Store app using C# or Visual Basic](https://msdn.microsoft.com/library/windows/apps/Hh974581)\n\n## Before you start...\n\n-   To complete this tutorial, you must use Visual Studio 2015 Community or later, or one of the non-Community versions of Visual Studio 2015, on a computer that's running Windows 10 or Windows 8.1. To download, see [Get the tools](http://go.microsoft.com/fwlink/p/?LinkId=532666).\n-   Install the appropriate [SDK](http://go.microsoft.com/fwlink/?LinkId=533049) for Windows Universal Platform development.\n-   You also must have a developer license. For instructions, see [Get a developer license](https://msdn.microsoft.com/library/windows/apps/Hh974578).\n-   We assume you have a basic understanding of standard C++, XAML, and the concepts in the [XAML overview](https://msdn.microsoft.com/library/windows/apps/Mt185595).\n-   We assume you're using the default window layout in Visual Studio. To reset to the default layout, on the menu bar, choose **Window** > **Reset Window Layout**.\n-   Note that there is a known issue with Visual Studio 2015 that can result in a NullReferenceException when loading the XAML designer. This issue blocks some of the steps of this tutorial, unless you apply the workaround. For details about this issue and the workaround, see [this MSDN forum post](http://go.microsoft.com/fwlink/p/?LinkId=624036) .\n\n## Comparing C++ desktop apps to Windows apps\n\nIf you're coming from a background in Windows desktop programming in C++, you'll probably find that some aspects of Windows Store app and Windows Phone app programming are familiar, but other aspects require some learning.\n\n### What's the same?\n\n-   You can use the STL, the CRT (with some exceptions), and any other C++ library as long as the code does not attempt to call Windows functions that are not accessible from the Windows Runtime environment.\n\n-   If you're accustomed to visual designers, you can still use the designer built into Microsoft Visual Studio, or you can use the more full-featured Blend for Visual Studio. If you're accustomed to coding UI by hand, you can hand-code your XAML.\n\n-   You're still creating apps that use Windows operating system types and your own custom types.\n\n-   You're still using the Visual Studio debugger, profiler, and other development tools.\n\n-   You're still creating apps that are compiled to native machine code by the Visual C++ compiler. Windows Store apps in C++ don't execute in a managed runtime environment.\n\n### What's new?\n\n-   The design principles for Windows Store apps and Universal Windows apps are very different from those for desktop apps. Window borders, labels, dialog boxes, and so on, are de-emphasized. Content is foremost. Great Universal Windows apps incorporate these principles from the very beginning of the planning stage.\n\n-   You're using XAML to define the entire UI. The separation between UI and core program logic is much clearer in a Windows Universal app than in an MFC or Win32 app. Other people can work on the appearance of the UI in the XAML file while you're working on the behavior in the code file.\n\n-   You're primarily programming against a new, easy-to-navigate, object-oriented API, the Windows Runtime, although on Windows devices Win32 is still available for some functionality.\n\n-   You use C++/CX to consume and create Windows Runtime objects. C++/CX enables C++ exception handling, delegates, events, and automatic reference counting of dynamically created objects. When you use C++/CX, the details of the underlying COM and Windows architecture are hidden from your app code. For more information, see [C++/CX Language Reference](https://msdn.microsoft.com/en-us/library/windows/apps/hh699871.aspx).\n\n-   Your app is compiled into a package that also contains metadata about the types that your app contains, the resources that it uses, and the capabilities that it requires (file access, internet access, camera access, and so forth).\n\n-   In the Windows Store and Windows Phone Store your app is verified as safe by a certification process and made discoverable to millions of potential customers.\n\n## Hello World Store app in C++\n\nOur first app is a \"Hello World\" that demonstrates some basic features of interactivity, layout, and styles. We'll create an app from the Windows Universal app project template. If you've developed apps for Windows 8.1 and Windows Phone 8.1 before, you might remember that you had to have three projects in Visual Studio, one for the Windows app, one for the phone app, and another with shared code. The Windows 10 Universal Windows Platform (UWP) makes it possible to have just one project, which runs on all devices, including desktop and laptop computers running Windows 10, devices such as tablets, mobile phones, and so on.\n\nWe'll start with the basics:\n\n-   How to create a Universal Windows project in Visual Studio 2015 or later.\n\n-   How to understand the projects and files that are created.\n\n-   How to understand the extensions in Visual C++ component extensions (C++/CX), and when to use them.\n\n**First, create a solution in Visual Studio**\n\n1.  In Visual Studio, on the menu bar, choose **File** > **New** > **Project**.\n\n2.  In the **New Project** dialog box, in the left pane, expand **Installed** > **Visual C++** > **Windows** > **Universal**.\n\n3.  In the center pane, select **Blank App (Universal Windows)**.\n\n4.  Enter a name for the project. We'll name it HelloWorld.\n\n ![C++ project templates in the New Project dialog box ](images/vs2015-newuniversalproject-cpp.png)\n\n5.  Choose the **OK** button.\n\n   If this is the first UWP project you've created, and you haven't enabled Developer Mode on your computer, the Enable Developer mode dialog box appears. Click on the link to bring up the Settings page that lets you set Developer Mode. Developer Mode allows your apps to be deployed and run locally.\n\n   Your project files are created.\n\nBefore we go on, letâ€™s look at what's in the solution.\n\n![Univeral app solution with nodes collapsed](images/vs2015-solutionexploreruniversal-0-cpp.png)\n\n### About the project files\n\nEvery .xaml file in a project folder has a corresponding .xaml.h file and .xaml.cpp file in the same folder and a .g file and a .g.hpp file in the Generated Files folder, which is on disk but not part of the project. You modify the XAML files to create UI elements and connect them to data sources (DataBinding). You modify the .h and .cpp files to add custom logic for event handlers. The auto-generated files represent the transformation of the XAML markup into C++. Don't modify these files, but you can study them to better understand how the code-behind works. Basically, the generated file contains a partial class definition for a XAML root element; this class is the same class that you modify in the \\*.xaml.h and .cpp files. The generated files declare the XAML UI child elements as class members so that you can reference them in the code you write. At build time, the generated code and your code are merged into a complete class definition and then compiled.\n\nLet's look first at the project files.\n\n-   **App.xaml, App.xaml.h, App.xaml.cpp:** Represent the Application object, which is an app's entry point. App.xaml contains no page-specific UI markup, but you can add UI styles and other elements that you want to be accessible from any page. The code-behind files contain handlers for the **OnLaunched** and **OnSuspending** events. Typically, you add custom code here to initialize your app when it starts and perform cleanup when it's suspended or terminated.\n-   **MainPage.xaml, MainPage.xaml.h, MainPage.xaml.cpp:**Contain the XAML markup and code-behind for the default \"start\" page in an app. It has no navigation support or built-in controls.\n-   **pch.h, pch.cpp:** A precompiled header file and the file that includes it in your project. In pch.h, you can include any headers that do not change often and are included in other files in the solution.\n-   **Package.appxmanifest:** An XML file that describes the device capabilities that your app requires, and the app version info and other metadata. To open this file in the **Manifest Designer**, just double-click it.\n-   **HelloWorld\\_TemporaryKey.pfx:**A key that enables deployment of the app on this machine, from Visual Studio.\n\n## A first look at the code\n\nIf you examine the code in App.xaml.h, App.xaml.cpp in the shared project, you'll notice that it's mostly C++ code that looks familiar. However, some syntax elements might not be as familiar if you are new to Windows Runtime apps, or you've worked with C++/CLI. Here are the most common non-standard syntax elements you'll see in C++/CX:\n\n-   **Ref classes**\n\nAlmost all Windows Runtime classes, which includes all the types in the Windows API--XAML controls, the pages in your app, the App class itself, all device and network objects, all container types--are declared as a **ref class**. (A few Windows types are **value class** or **value struct**). A ref class is consumable from any language. In C++, the lifetime of these types is governed by automatic reference counting (not garbage collection) so that you never explicitly delete these objects. You can create your own ref classes as well.\n\n```cpp\n    namespace HelloWorld\n    {\n        /// <summary>\n        /// An empty page that can be used on its own or navigated to within a Frame.\n        /// </summary>\n        public ref class MainPage sealed\n        {\n        public:\n            MainPage();\n\n        };\n    }\n```    \n\nAll Windows Runtime types must be declared within a namespace and unlike in ISO C++ the types themselves have an accessibility modifier. The **public** modifier makes the class visible to Windows Runtime components outside the namespace. The **sealed** keyword means the class cannot serve as a base class. Almost all ref classes are sealed; class inheritance is not broadly used because Javascript does not understand it.\n\n-   **ref new** and **^ (hats)**\n\n You declare a variable of a ref class by using the ^ (hat) operator, and you instantiate the object with the ref new keyword. Thereafter you access the object's instance methods with the -> operator just like a C++ pointer. Static methods are accessed with the :: operator just as in ISO C++.\n\n In the following code, we use the fully qualified name to instantiate an object, and use the -> operator to call an instance method.\n\n ```cpp\n    Windows::UI::Xaml::Media::Imaging::BitmapImage^ bitmapImage =\n        ref new Windows::UI::Xaml::Media::Imaging::BitmapImage();\n      \n    bitmapImage->SetSource(fileStream);\n    ```\n\n   Typically, in a .cpp file we would add a `using namespace  Windows::UI::Xaml::Media::Imaging` directive and the auto keyword, so that the same code would look like this:\n\n```cpp\n    auto bitmapImage = ref new BitmapImage();\n    bitmapImage->SetSource(fileStream);\n```\n\n-   **Properties**\n\n   A ref class can have properties, which, just as in managed languages, are special member functions that appear as fields to consuming code.\n\n```cpp\n    public ref class SaveStateEventArgs sealed\n            {\n            public:\n\n                // Declare the property\n                property Windows::Foundation::Collections::IMap<Platform::String^, Platform::Object^>^ PageState\n                {\n                    Windows::Foundation::Collections::IMap<Platform::String^, Platform::Object^>^ get();\n                }\n    ...\n    };\n\n    ...\n    // consume the property like a public field\n    void PhotoPage::SaveState(Object^ sender, Common::SaveStateEventArgs^ e)\n    {    \n        if (mruToken != nullptr && !mruToken->IsEmpty())\n        {\n            e->PageState->Insert(\"mruToken\", mruToken);\n        }\n    }\n```\n\n-   **Delegates**\n\n   Just as in managed languages, a delegate is a reference type that encapsulates a function with a specific signature. They are most often used with events and event handlers\n\n```cpp\n    // Delegate declaration (within namespace scope)\n    public delegate void LoadStateEventHandler(Platform::Object^ sender, LoadStateEventArgs^ e);\n\n    // Event declaration (class scope)\n    public ref class NavigationHelper sealed\n    {\n      public:\n        event LoadStateEventHandler^ LoadState;\n    };\n\n    // Create the event handler in consuming class\n    MainPage::MainPage()\n    {\n        auto navigationHelper = ref new Common::NavigationHelper(this);\n        navigationHelper->LoadState += ref new Common::LoadStateEventHandler(this, &MainPage::LoadState);\n    }\n```\n\n## Adding content to the app\n\nLet's add some content to the app.\n\n**Step 1: Modify your start page**\n\n1.  In **Solution Explorer**, open MainPage.xaml.\n2.  Create controls for the UI by adding the following XAML to the root [**Grid**](https://msdn.microsoft.com/library/windows/apps/BR242704), immediately before its closing tag. It contains a [**StackPanel**](https://msdn.microsoft.com/library/windows/apps/BR209635) that has a [**TextBlock**](https://msdn.microsoft.com/library/windows/apps/BR209652) that asks the user's name, a [**TextBox**](https://msdn.microsoft.com/library/windows/apps/BR209683) element that accepts the user's name, a [**Button**](https://msdn.microsoft.com/library/windows/apps/BR209265), and another **TextBlock** element.\n\n```xml\n    <StackPanel x:Name=\"contentPanel\" Margin=\"120,30,0,0\">\n        <TextBlock HorizontalAlignment=\"Left\" Text=\"Hello World\" FontSize=\"36\"/>\n        <TextBlock Text=\"What's your name?\"/>\n        <StackPanel x:Name=\"inputPanel\" Orientation=\"Horizontal\" Margin=\"0,20,0,20\">\n            <TextBox x:Name=\"nameInput\" Width=\"300\" HorizontalAlignment=\"Left\"/>\n            <Button x:Name=\"inputButton\" Content=\"Say \\\"Hello\\\"\"/>\n        </StackPanel>\n        <TextBlock x:Name=\"greetingOutput\"/>\n    </StackPanel>\n```\n\nWe talk more about XAML layout in the [Navigation, layout, and views](https://msdn.microsoft.com/library/windows/apps/Dn263172) article.\n\n3.  At this point, you have created a very basic Universal Windows app. To see what the UWP app looks like, press F5 to build, deploy, and run the app in debugging mode.\n\nThe default splash screen appears first. It has an imageâ€”Assets\\\\SplashScreen.scale-100.pngâ€”and a background color that are specified in the app's manifest file. To learn how to customize the splash screen, see [Adding a splash screen](https://msdn.microsoft.com/library/windows/apps/Hh465332).\n\nWhen the splash screen disappears, your app appears. It displays the main page of the App.\n\nPress the Windows key or click the Start button to go to the Start menu, and notice that deploying the app adds it to the Start menu's list of installed apps. It also appears when you click on the the New link next to the All Apps button. To run the app again, just tap or click its tile, press F5 or Ctrl+F5 in Visual Studio as usual.\n\n ![Windows Store app screen, with controls](images/xaml-hw-app2.png)\n\n   It doesn't do muchâ€”yetâ€”but congratulations, you've built your first Universal Windows Platform app!\n\n   To stop debugging and close the app, return to Visual Studio and press Shift+F5.\n\n   For more information, see [Run a Store app from Visual Studio](http://go.microsoft.com/fwlink/p/?LinkId=619619).\n\n   In the app, you can type in the [**TextBox**](https://msdn.microsoft.com/library/windows/apps/BR209683), but clicking the [**Button**](https://msdn.microsoft.com/library/windows/apps/BR209265) doesn't do anything. In later steps, you create an event handler for the button's [**Click**](https://msdn.microsoft.com/library/windows/apps/BR227737) event, which displays a personalized greeting.\n\n## Start the app on a mobile device emulator\n\n\nYour app runs on any Windows 10 device, so letâ€™s see how it looks on a Windows Phone. This section requires a Windows Phone running Windows 10, or access to a Windows Phone emulator and it requires that Visual Studio be running on a physical computer (not a virtual machine) with HyperV supported and enabled.\n\nIn addition to the options to debug on a desktop device, Visual Studio provides options for deploying and debugging your app on a physical mobile device connected to the computer, or on a mobile device emulator. You can choose among emulators for devices with different memory and display configurations.\n\n-   **Device**\n-   **Emulator 10.0.0.0 WVGA 4 inch 512MB**\n-   Various emulators in other configurations\n\nIt's a good idea to test your app on a device with a small screen and limited memory, so use the **Emulator 10.0.0.0 WVGA 4 inch 512MB** option.\n**Tip**  For more info about using the phone emulator, see [Run Windows Phone apps in the emulator](http://go.microsoft.com/fwlink/p/?LinkId=394233).\n\n \n\nTo debug your app on a physical device, you must have a device thatâ€™s registered for development. For more info, see [Register your Windows Phone](https://msdn.microsoft.com/library/windows/apps/Dn614128).\n\n**To start debugging on a mobile device emulator**\n\n1.  In the target device menu (![Start debugging menu](images/startdebug-full.png)) on the **Standard** toolbar, pick **Emulator 10.0.0.0 WVGA 4 inch 512MB**.\n2.  Click the **Start Debugging** button (![Start debugging button](images/startdebug-sm.png)) in the toolbar.\n\n   â€“orâ€“\n\n   From the **Debug** menu, click **Start Debugging**.\n\n   â€“orâ€“\n\n   Press F5.\n\nOn the mobile device emulator, the app looks like this.\n\n![Initial app screen on mobile device](images/hw10-screen1-mob.png)\n\nVisual Studio starts the selected emulator and then deploys and starts your app. The first thing you'll notice is that the 120-pixel left margin that looks good on the local machine pushes your content off the smaller screen of a mobile device. Later in this tutorial, you'll learn how to adapt the UI to different screen sizes so your app always looks good.\n\n## Step 2: Create an event handler\n\n1.  In MainPage.xaml, in either XAML or design view, select the \"Say Hello\" [**Button**](https://msdn.microsoft.com/library/windows/apps/BR209265) in the [**StackPanel**](https://msdn.microsoft.com/library/windows/apps/BR209635) you added earlier.\n2.  Open the **Properties Window** by pressing Alt+Enter, and then choose the Events button (![Events button](images/eventsbutton.png)).\n3.  Find the [**Click**](https://msdn.microsoft.com/library/windows/apps/BR227737) event. In its text box, type the name of the function that handles the **Click** event. For this example, type \"Button\\_Click\".\n\n![Properties window, Events view](images/xaml-hw-event.png)\n\n4.  Press Enter. The event handler method is created in MainPage.xaml.cpp and opened so that you can add the code that's executed when the event occurs.\n\n   At the same time, in MainPage.xaml, the XAML for the [**Button**](https://msdn.microsoft.com/library/windows/apps/BR209265) is updated to declare the [**Click**](https://msdn.microsoft.com/library/windows/apps/BR227737) event handler, like this:\n\n```xml\n    <Button Content=\"Say \\\"Hello\\\"\" Click=\"Button_Click\"/>\n```\n\nYou could also have simply added this to the xaml code manually, which can be helpful if the designer doesn't load. If you enter this manually, type \"Click\" and then let IntelliSense pop up the option to add a new event handler. That way, Visual Studio creates the necessary method declaration and stub.\n\nThe designer fails to load if an unhandled exception occurs during rendering. Rendering in the designer involves running a design-time version of the page. It can be helpful to disable running user code. You can do this by changing the setting in the **Tools, Options** dialog box. Under **XAML Designer**, uncheck **Run project code in XAML designer (if supported)**.\n\n5.  In MainPage.xaml.cpp, add the following code to the **Button\\_Click** event handler that you just created. This code retrieves the user's name from the `nameInput` [**TextBox**](https://msdn.microsoft.com/library/windows/apps/BR209683) control and uses it to create a greeting. The `greetingOutput` [**TextBlock**](https://msdn.microsoft.com/library/windows/apps/BR209652) displays the result.\n\n```cpp\n    void HelloWorld::MainPage::Button_Click(Platform::Object^ sender, Windows::UI::Xaml::RoutedEventArgs^ e)\n    {\n        greetingOutput->Text = \"Hello, \" + nameInput->Text + \"!\";\n    }\n```\n\n6.  Set the project as the startup, and then press F5 to build and run the app. When you type a name in the text box and click the button, the app displays a personalized greeting.\n\n![App screen with message display](images/xaml-hw-app4.png)\n\n## Step 3: Style the start page\n\n### Choosing a theme\n\nIt's easy to customize the look and feel of your app. By default, your app uses resources that have a light style. The system resources also include a light theme. Let's try it out and see what it looks like.\n\n**To switch to the dark theme**\n\n1.  Open App.xaml.\n2.  In the opening [**Application**](https://msdn.microsoft.com/library/windows/apps/BR242324) tag, edit the [**RequestedTheme**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.application.requestedtheme) property and set its value to **Dark**:\n\n```xml\n   RequestedTheme=\"Light\"\n```\n\nHere's the full [**Application**](https://msdn.microsoft.com/library/windows/apps/BR242324) tag with the dark theme :\n\n```xml \n        <Application\n        x:Class=\"HelloWorld.App\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:local=\"using:HelloWorld\" \n        RequestedTheme=\"Dark\">\n```\n\n3.  Press F5 to build and run it. Notice that it uses the dark theme.\n\n![App screen with dark theme](images/xaml-hw-app3.png)\n\nWhich theme should you use? Whichever one you want. Here's our take: for apps that mostly display images or video, we recommend the dark theme; for apps that contain a lot of text, we recommend the light theme. If you're using a custom color scheme, use the theme that goes best with your app's look and feel. In the rest of this tutorial, we use the Light theme in screenshots.\n\n**Note**  The theme is applied when the app is started and can't be changed while the app is running.\n\n### Using system styles\n\nRight now, in the Windows app the text is very small and difficult to read. Let's fix that by applying a system style.\n\n**To change the style of an element**\n\n1.  In the Windows project, open MainPage.xaml.\n2.  In either XAML or design view, select the \"What's your name?\"[**TextBlock**](https://msdn.microsoft.com/library/windows/apps/BR209652) that you added earlier.\n3.  In the **Properties** window (**F4**), choose the Properties button (![Properties button](images/propertiesbutton.png)) in the upper right.\n4.  Expand the **Text** group and set the font size to 18 px.\n5.  Expand the **Miscellaneous** group and find the **Style** property.\n6.  Click the property marker (the green box to the right of the **Style** property), and then, on the menu, choose **System Resource** > **BaseTextBlockStyle**.\n\n **BaseTextBlockStyle** is a resource that's defined in the [**ResourceDictionary**](https://msdn.microsoft.com/library/windows/apps/BR208794) in <root>\\\\Program Files\\\\Windows Kits\\\\10\\\\Include\\\\winrt\\\\xaml\\\\design\\\\generic.xaml.\n\n![Properties window, Properties view](images/xaml-hw-style-cpp.png)\n\n On the XAML design surface, the appearance of the text changes. In the XAML editor, the XAML for the [**TextBlock**](https://msdn.microsoft.com/library/windows/apps/BR209652) is updated:\n\n```xml\n   <TextBlock Text=\"What's your name?\" Style=\"{StaticResource BasicTextStyle}\"/><\n```\n\n7.  Repeat the process to set the font size and assign the **BaseTextBlockStyle** to the `greetingOutput`[**TextBlock**](https://msdn.microsoft.com/library/windows/apps/BR209652) element.\n\n  **Tip**  Although there's no text in this [**TextBlock**](https://msdn.microsoft.com/library/windows/apps/BR209652), when you move the pointer over the XAML design surface, a blue outline shows where it is so that you can select it.  \n\n  Your XAML now looks like this:\n\n```xml\n    <StackPanel x:Name=\"contentPanel\" Margin=\"120,30,0,0\">\n        <TextBlock Style=\"{ThemeResource BaseTextBlockStyle}\" FontSize=\"16\" Text=\"What's your name?\"/>\n        <StackPanel x:Name=\"inputPanel\" Orientation=\"Horizontal\" Margin=\"0,20,0,20\">\n            <TextBox x:Name=\"nameInput\" Width=\"300\" HorizontalAlignment=\"Left\"/>\n            <Button x:Name=\"inputButton\" Content=\"Say \\\"Hello\\\"\" Click=\"Button_Click\"/>\n        </StackPanel>\n        <TextBlock Style=\"{ThemeResource BaseTextBlockStyle}\" FontSize=\"16\" x:Name=\"greetingOutput\"/>\n    </StackPanel>\n```\n\n8.  Press F5 to build and run the app. It now looks like this:\n\n ![App screen with larger text](images/xaml-hw-app5.png)\n\n### Step 4: Adapt the UI to different window sizes\n\nNow we'll make the UI adapt to different screen sizes so it looks good on mobile devices. To do this, you add a [**VisualStateManager**](https://msdn.microsoft.com/library/windows/apps/BR209021) and set properties that are applied for different visual states.\n\n**To adjust the UI layout**\n\n1.  In the XAML editor, add this block of XAML after the opening tag of the root [**Grid**](https://msdn.microsoft.com/library/windows/apps/BR242704) element.\n\n```xml\n    <VisualStateManager.VisualStateGroups>\n        <VisualStateGroup>\n            <VisualState x:Name=\"wideState\">\n                <VisualState.StateTriggers>\n                    <AdaptiveTrigger MinWindowWidth=\"641\" />\n                </VisualState.StateTriggers>\n            </VisualState>\n            <VisualState x:Name=\"narrowState\">\n                <VisualState.StateTriggers>\n                    <AdaptiveTrigger MinWindowWidth=\"0\" />\n                </VisualState.StateTriggers>\n                <VisualState.Setters>\n                    <Setter Target=\"contentPanel.Margin\" Value=\"20,30,0,0\"/>\n                    <Setter Target=\"inputPanel.Orientation\" Value=\"Vertical\"/>\n                    <Setter Target=\"inputButton.Margin\" Value=\"0,4,0,0\"/>\n                </VisualState.Setters>\n            </VisualState>\n        </VisualStateGroup>\n    </VisualStateManager.VisualStateGroups>\n```\n\n2.  Debug the app on the local machine. Notice that the UI looks the same as before unless the window gets narrower than 641 device-independent pixels (DIPs).\n3.  Debug the app on the mobile device emulator. Notice that the UI uses the properties you defined in the `narrowState` and appears correctly on the small screen.\n\n![Mobile app screen with styled text](images/hw10-screen2-mob.png)\n\nIf you've used a [**VisualStateManager**](https://msdn.microsoft.com/library/windows/apps/BR209021) in previous versions of XAML, you might notice that the XAML here uses a simplified syntax.\n\nThe [**VisualState**](https://msdn.microsoft.com/library/windows/apps/BR209007) named `wideState` has an [**AdaptiveTrigger**](https://msdn.microsoft.com/library/windows/apps/Dn890382) with its [**MinWindowWidth**](https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.adaptivetrigger.minwindowwidth) property set to 641. This means that the state is to be applied only when the window width is not less than the minimum of 641 DIPs. You don't define any [**Setter**](https://msdn.microsoft.com/library/windows/apps/BR208817) objects for this state, so it uses the layout properties you defined in the XAML for the page content.\n\nThe second [**VisualState**](https://msdn.microsoft.com/library/windows/apps/BR209007), `narrowState`, has an [**AdaptiveTrigger**](https://msdn.microsoft.com/library/windows/apps/Dn890382) with its [**MinWindowWidth**](https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.adaptivetrigger.minwindowwidth) property set to 0. This state is applied when the window width is greater than 0, but less than 641 DIPs. (At 641 DIPs, the `wideState` is applied.) In this state, you do define some [**Setter**](https://msdn.microsoft.com/library/windows/apps/BR208817) objects to change the layout properties of controls in the UI:\n\n-   You reduce the left margin of the `contentPanel` element from 120 to 20.\n-   You change the [**Orientation**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.stackpanel.orientation) of the `inputPanel` element from **Horizontal** to **Vertical**.\n-   You add a top margin of 4 DIPs to the `inputButton` element.\n\n### Summary\n\nCongratulations, you've completed the first tutorial! It taught how to add content to Windows Universal apps, how to add interactivity to them, and how to change their appearance.\n\n## Next steps\n\nIf you have a Windows Universal app project that targets Windows 8.1 and/or Windows Phone 8.1, you can port it to Windows 10. There is no automatic process for this, but you can do it manually with a little effort. Start with a new Windows Universal project to get the latest project system structure and manifest files, copy your code files into the project's directory structure, add the items to your project, and rewrite your XAML using the [**VisualStateManager**](https://msdn.microsoft.com/library/windows/apps/BR209021) according to the guidance in this topic. For more information, see [Porting a Windows Runtime 8 project to a Universal Windows Platform (UWP) project](https://msdn.microsoft.com/library/windows/apps/Mt188203) and [Porting to the Universal Windows Platform (C++)](http://go.microsoft.com/fwlink/p/?LinkId=619525).\n\nIf you have existing C++ code that you want to integrate with a UWP app, such as to create a new UWP UI for an existing application, see [How to: Use existing C++ code in a Universal Windows project](http://go.microsoft.com/fwlink/p/?LinkId=619623).\n\n"}