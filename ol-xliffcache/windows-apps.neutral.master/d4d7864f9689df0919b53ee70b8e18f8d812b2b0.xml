{"nodes":[{"content":"Set up the game project","pos":[27,50]},{"content":"The first step in assembling your game is to set up a project in Microsoft Visual Studio in such a way that you minimize the amount of code infrastructure work you need to do.","pos":[64,239]},{"content":"Set up the game project","pos":[296,319]},{"content":"Updated for UWP apps on Windows 10.","pos":[325,360]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept>","pos":[361,453]},{"content":"The first step in assembling your game is to set up a project in Microsoft Visual Studio in such a way that you minimize the amount of code infrastructure work you need to do.","pos":[458,633]},{"content":"You can save yourself a lot of time and hassle by using the right template and configuring the project specifically for game development.","pos":[634,771]},{"content":"We step you through the setup and configuration of a simple game project.","pos":[772,845]},{"content":"Objective","pos":[850,859]},{"content":"To learn how to set up a Direct3D game project in Visual Studio.","pos":[866,930]},{"content":"Setting up the game project","pos":[935,962]},{"content":"You can write a game from scratch, with just a handy text editor, a few samples, and a hat full of raw brainpower.","pos":[965,1079]},{"content":"But that probably isn't the most effective use of your time.","pos":[1080,1140]},{"content":"If you're new to Universal Windows Platform (UWP) development, why not let Visual Studio shoulder some of the burden?","pos":[1141,1258]},{"content":"Here's what to do to get your project off to a roaring start.","pos":[1259,1320]},{"content":"1. Pick the right template","pos":[1325,1351]},{"content":"A Visual Studio template is a collection of settings and code files that target a specific type of app based on the preferred language and technology.","pos":[1354,1504]},{"content":"In Microsoft Visual Studio 2015, you'll find a number of templates that can dramatically ease game and graphics app development.","pos":[1505,1633]},{"content":"If you don't use a template, you must develop much of the basic graphics rendering and display framework yourself, which can be a bit of a chore to a new game developer.","pos":[1634,1803]},{"content":"The right template for this tutorial, is the one titled DirectX 11 App (Universal Windows).","pos":[1805,1896]},{"content":"In Visual Studio 2015, click <bpt id=\"p1\">**</bpt>File...<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>New Project<ept id=\"p2\">**</ept>, and then:","pos":[1897,1969]},{"pos":[1975,2045],"content":"From <bpt id=\"p1\">**</bpt>Templates<ept id=\"p1\">**</ept>, select <bpt id=\"p2\">**</bpt>Visual C++<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Windows<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>Universal<ept id=\"p4\">**</ept>."},{"pos":[2050,2116],"content":"In the center pane, select <bpt id=\"p1\">**</bpt>DirectX 11 App (Universal Windows)<ept id=\"p1\">**</ept>."},{"pos":[2121,2169],"content":"Give your game project a name, and click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>."},{"content":"selecting the direct3d application template","pos":[2173,2216]},{"content":"This template provides you with the basic framework for a UWP app using DirectX with C++.","pos":[2258,2347]},{"content":"Go on, build and run it with F5!","pos":[2348,2380]},{"content":"Check out that powder blue screen.","pos":[2381,2415]},{"content":"Take a moment and review the code that the template provides.","pos":[2416,2477]},{"content":"Tthe template creates multiple code files containing the basic functionality for a UWP app using DirectX with C++.","pos":[2478,2592]},{"content":"We talk more about the other code files in <bpt id=\"p1\">[</bpt>step 3<ept id=\"p1\">](#3-review-the-included-libraries-and-headers)</ept>.","pos":[2593,2691]},{"content":"Right now, let's quickly inspect <bpt id=\"p1\">**</bpt>App.h<ept id=\"p1\">**</ept>.","pos":[2692,2735]},{"content":"You create these 5 methods, <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Initialize<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh700495)</ept>, <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>SetWindow<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh700509)</ept>, <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>Load<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/hh700501)</ept>, <bpt id=\"p7\">[</bpt><bpt id=\"p8\">**</bpt>Run<ept id=\"p8\">**</ept><ept id=\"p7\">](https://msdn.microsoft.com/library/windows/apps/hh700505)</ept>, and <bpt id=\"p9\">[</bpt><bpt id=\"p10\">**</bpt>Uninitialize<ept id=\"p10\">**</ept><ept id=\"p9\">](https://msdn.microsoft.com/library/windows/apps/hh700523)</ept>, when implementing the <bpt id=\"p11\">[</bpt><bpt id=\"p12\">**</bpt>IFrameworkView<ept id=\"p12\">**</ept><ept id=\"p11\">](https://msdn.microsoft.com/library/windows/apps/hh700469)</ept> interface that defines a view provider.","pos":[4595,5135]},{"content":"These methods are run by the app singleton that is created when your game is launched, and load all your app's resources as well as connect the appropriate event handlers.","pos":[5136,5307]},{"content":"Your <bpt id=\"p1\">**</bpt>main<ept id=\"p1\">**</ept> method is in the <bpt id=\"p2\">**</bpt>App.cpp<ept id=\"p2\">**</ept> source file.","pos":[5309,5364]},{"content":"It looks like this:","pos":[5365,5384]},{"content":"Right now, it creates an instance of the Direct3D view provider from the view provider factory (<bpt id=\"p1\">**</bpt>Direct3DApplicationSource<ept id=\"p1\">**</ept>, defined in <bpt id=\"p2\">**</bpt>App.h<ept id=\"p2\">**</ept>), and passes it to the app singleton to run (<bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>CoreApplication::Run<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh700469)</ept>).","pos":[5611,5890]},{"content":"This means that the starting point for your game lives in the body of the implementation of the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>IFrameworkView::Run<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh700505)</ept> method, in this case, <bpt id=\"p3\">**</bpt>App::Run<ept id=\"p3\">**</ept>.","pos":[5891,6106]},{"content":"Here's the code:","pos":[6107,6123]},{"content":"If the window for your game isn't closed, this dispatches all events, updates the timer, and renders and presents the results of your graphics pipeline.","pos":[6663,6815]},{"content":"We talk about this in greater detail in <bpt id=\"p1\">[</bpt>Defining the game's UWP framework<ept id=\"p1\">](tutorial--building-the-games-metro-style-app-framework.md)</ept> and <bpt id=\"p2\">[</bpt>Assembling the rendering pipeline<ept id=\"p2\">](tutorial--assembling-the-rendering-pipeline.md)</ept>.","pos":[6816,7039]},{"content":"At this point, you should have a sense of the basic code structure of a UWP DirectX game.","pos":[7040,7129]},{"content":"2. Review and update the package.appxmanifest file","pos":[7134,7184]},{"content":"The code files aren't all there is to the template.","pos":[7187,7238]},{"content":"The <bpt id=\"p1\">**</bpt>package.appxmanifest<ept id=\"p1\">**</ept> file contains metadata about your project that are used for packaging and launching your game and for submission to the Windows Store.","pos":[7239,7402]},{"content":"It also contains important info the player's system uses to provide access to the system resources the game needs to run.","pos":[7403,7524]},{"content":"Launch the <bpt id=\"p1\">**</bpt>Manifest Designer<ept id=\"p1\">**</ept> by double-clicking the <bpt id=\"p2\">**</bpt>package.appxmanifest<ept id=\"p2\">**</ept> file in <bpt id=\"p3\">**</bpt>Solution Explorer<ept id=\"p3\">**</ept>.","pos":[7526,7637]},{"content":"You see this view:","pos":[7638,7656]},{"content":"the package.appx manifest editor.","pos":[7660,7693]},{"content":"For more info about the <bpt id=\"p1\">**</bpt>package.appxmanifest<ept id=\"p1\">**</ept> file and packaging, see <bpt id=\"p2\">[</bpt>Manifest Designer<ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/br230259.aspx)</ept>.","pos":[7739,7895]},{"content":"For now, take a look at the <bpt id=\"p1\">**</bpt>Capabilities<ept id=\"p1\">**</ept> tab and look at the options provided.","pos":[7896,7978]},{"content":"the default capabilities of a direct3d app.","pos":[7982,8025]},{"content":"If you don't select the capabilities that your game uses, such as access to the <bpt id=\"p1\">**</bpt>Internet<ept id=\"p1\">**</ept> for global high score board, you won't be able to access the corresponding resources or features.","pos":[8071,8261]},{"content":"When you create a new game, make sure that you select the capabilities that your game needs to run!","pos":[8262,8361]},{"pos":[8363,8471],"content":"Now, let's look at the rest of the files that come with the <bpt id=\"p1\">**</bpt>DirectX 11 App (Universal Windows)<ept id=\"p1\">**</ept> template."},{"content":"3. Review the included libraries and headers","pos":[8476,8520]},{"content":"There are a few files we haven't looked at yet.","pos":[8523,8570]},{"content":"These files provide additional tools and support common to Direct3D game development scenarios.","pos":[8571,8666]},{"content":"Template Source File","pos":[8670,8690]},{"content":"Description","pos":[8701,8712]},{"content":"StepTimer.h","pos":[9170,9181]},{"content":"Defines a high-resolution timer useful for gaming or interactive rendering apps.","pos":[9201,9281]},{"content":"Sample3DSceneRenderer.h/.cpp","pos":[9420,9448]},{"content":"Defines a basic renderer implementation that connects a Direct3D swap chain and graphics adapter to your UWP using DirectX.","pos":[9451,9574]},{"content":"DirectXHelper.h","pos":[9670,9685]},{"content":"Implements a single method, <bpt id=\"p1\">**</bpt>DX::ThrowIfFailed<ept id=\"p1\">**</ept>, that converts the error HRESULT values returned by DirectX APIs into Windows Runtime exceptions.","pos":[9701,9848]},{"content":"Use this method to put a break point for debugging DirectX errors.","pos":[9849,9915]},{"content":"pch.h/.cpp","pos":[9920,9930]},{"content":"Contains all the Windows system includes for the APIs used by a Direct3D app, including the DirectX 11 APIs.","pos":[9951,10059]},{"content":"SamplePixelShader.hlsl","pos":[10170,10192]},{"content":"Contains the high-level shader language (HLSL) code for a very basic pixel shader.","pos":[10201,10283]},{"content":"SampleVertexShader.hlsl","pos":[10420,10443]},{"content":"Contains the high-level shader language (HLSL) code for a very basic vertex shader.","pos":[10451,10534]},{"content":"Next steps","pos":[10676,10686]},{"content":"At this point, you can create a UWP with DirectX game project and identify the components and files provided by the DirectX 11 App (Universal Windows) template.","pos":[10688,10848]},{"pos":[10850,11097],"content":"In the next tutorial, <bpt id=\"p1\">[</bpt>Defining the game's UWP framework<ept id=\"p1\">](tutorial--building-the-games-metro-style-app-framework.md)</ept>, we work with a completed game and examine how it uses and extends many of the concepts and components that the template provides."}],"content":"---\nauthor: mtoepke\ntitle: Set up the game project\ndescription: The first step in assembling your game is to set up a project in Microsoft Visual Studio in such a way that you minimize the amount of code infrastructure work you need to do.\nms.assetid: 9fde90b3-bf79-bcb3-03b6-d38ab85803f2\n---\n\n# Set up the game project\n\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\nThe first step in assembling your game is to set up a project in Microsoft Visual Studio in such a way that you minimize the amount of code infrastructure work you need to do. You can save yourself a lot of time and hassle by using the right template and configuring the project specifically for game development. We step you through the setup and configuration of a simple game project.\n\n## Objective\n\n\n-   To learn how to set up a Direct3D game project in Visual Studio.\n\n## Setting up the game project\n\n\nYou can write a game from scratch, with just a handy text editor, a few samples, and a hat full of raw brainpower. But that probably isn't the most effective use of your time. If you're new to Universal Windows Platform (UWP) development, why not let Visual Studio shoulder some of the burden? Here's what to do to get your project off to a roaring start.\n\n## 1. Pick the right template\n\n\nA Visual Studio template is a collection of settings and code files that target a specific type of app based on the preferred language and technology. In Microsoft Visual Studio 2015, you'll find a number of templates that can dramatically ease game and graphics app development. If you don't use a template, you must develop much of the basic graphics rendering and display framework yourself, which can be a bit of a chore to a new game developer.\n\nThe right template for this tutorial, is the one titled DirectX 11 App (Universal Windows). In Visual Studio 2015, click **File...** &gt; **New Project**, and then:\n\n1.  From **Templates**, select **Visual C++**, **Windows**, **Universal**.\n2.  In the center pane, select **DirectX 11 App (Universal Windows)**.\n3.  Give your game project a name, and click **OK**.\n\n![selecting the direct3d application template](images/simple-dx-game-vs-new-proj.png)\n\nThis template provides you with the basic framework for a UWP app using DirectX with C++. Go on, build and run it with F5! Check out that powder blue screen. Take a moment and review the code that the template provides. Tthe template creates multiple code files containing the basic functionality for a UWP app using DirectX with C++. We talk more about the other code files in [step 3](#3-review-the-included-libraries-and-headers). Right now, let's quickly inspect **App.h**.\n\n```cpp\n    ref class App sealed : public Windows::ApplicationModel::Core::IFrameworkView\n    {\n    public:\n        App();\n\n        // IFrameworkView Methods.\n        virtual void Initialize(Windows::ApplicationModel::Core::CoreApplicationView^ applicationView);\n        virtual void SetWindow(Windows::UI::Core::CoreWindow^ window);\n        virtual void Load(Platform::String^ entryPoint);\n        virtual void Run();\n        virtual void Uninitialize();\n\n    protected:\n        // Application lifecycle event handlers.\n        void OnActivated(Windows::ApplicationModel::Core::CoreApplicationView^ applicationView, Windows::ApplicationModel::Activation::IActivatedEventArgs^ args);\n        void OnSuspending(Platform::Object^ sender, Windows::ApplicationModel::SuspendingEventArgs^ args);\n        void OnResuming(Platform::Object^ sender, Platform::Object^ args);\n\n        // Window event handlers.\n        void OnWindowSizeChanged(Windows::UI::Core::CoreWindow^ sender, Windows::UI::Core::WindowSizeChangedEventArgs^ args);\n        void OnVisibilityChanged(Windows::UI::Core::CoreWindow^ sender, Windows::UI::Core::VisibilityChangedEventArgs^ args);\n        void OnWindowClosed(Windows::UI::Core::CoreWindow^ sender, Windows::UI::Core::CoreWindowEventArgs^ args);\n\n        // DisplayInformation event handlers.\n        void OnDpiChanged(Windows::Graphics::Display::DisplayInformation^ sender, Platform::Object^ args);\n        void OnOrientationChanged(Windows::Graphics::Display::DisplayInformation^ sender, Platform::Object^ args);\n        void OnDisplayContentsInvalidated(Windows::Graphics::Display::DisplayInformation^ sender, Platform::Object^ args);\n\n    private:\n        std::shared_ptr<DX::DeviceResources> m_deviceResources;\n        std::unique_ptr<MyAwesomeGameMain> m_main;\n        bool m_windowClosed;\n        bool m_windowVisible;\n    };\n```\n\nYou create these 5 methods, [**Initialize**](https://msdn.microsoft.com/library/windows/apps/hh700495), [**SetWindow**](https://msdn.microsoft.com/library/windows/apps/hh700509), [**Load**](https://msdn.microsoft.com/library/windows/apps/hh700501), [**Run**](https://msdn.microsoft.com/library/windows/apps/hh700505), and [**Uninitialize**](https://msdn.microsoft.com/library/windows/apps/hh700523), when implementing the [**IFrameworkView**](https://msdn.microsoft.com/library/windows/apps/hh700469) interface that defines a view provider. These methods are run by the app singleton that is created when your game is launched, and load all your app's resources as well as connect the appropriate event handlers.\n\nYour **main** method is in the **App.cpp** source file. It looks like this:\n\n```cpp\n[Platform::MTAThread]\nint main(Platform::Array<Platform::String^>^)\n{\n    auto direct3DApplicationSource = ref new Direct3DApplicationSource();\n    CoreApplication::Run(direct3DApplicationSource);\n    return 0;\n}\n```\n\nRight now, it creates an instance of the Direct3D view provider from the view provider factory (**Direct3DApplicationSource**, defined in **App.h**), and passes it to the app singleton to run ([**CoreApplication::Run**](https://msdn.microsoft.com/library/windows/apps/hh700469)). This means that the starting point for your game lives in the body of the implementation of the [**IFrameworkView::Run**](https://msdn.microsoft.com/library/windows/apps/hh700505) method, in this case, **App::Run**. Here's the code:\n\n```cpp\nvoid App::Run()\n{\n    while (!m_windowClosed)\n    {\n        if (m_windowVisible)\n        {\n            CoreWindow::GetForCurrentThread()->Dispatcher->ProcessEvents(CoreProcessEventsOption::ProcessAllIfPresent);\n\n            m_main->Update();\n\n            if (m_main->Render())\n            {\n                m_deviceResources->Present();\n            }\n        }\n        else\n        {\n            CoreWindow::GetForCurrentThread()->Dispatcher->ProcessEvents(CoreProcessEventsOption::ProcessOneAndAllPending);\n        }\n    }\n}\n```\n\nIf the window for your game isn't closed, this dispatches all events, updates the timer, and renders and presents the results of your graphics pipeline. We talk about this in greater detail in [Defining the game's UWP framework](tutorial--building-the-games-metro-style-app-framework.md) and [Assembling the rendering pipeline](tutorial--assembling-the-rendering-pipeline.md). At this point, you should have a sense of the basic code structure of a UWP DirectX game.\n\n## 2. Review and update the package.appxmanifest file\n\n\nThe code files aren't all there is to the template. The **package.appxmanifest** file contains metadata about your project that are used for packaging and launching your game and for submission to the Windows Store. It also contains important info the player's system uses to provide access to the system resources the game needs to run.\n\nLaunch the **Manifest Designer** by double-clicking the **package.appxmanifest** file in **Solution Explorer**. You see this view:\n\n![the package.appx manifest editor.](images/simple-dx-game-vs-app-manifest.png)\n\nFor more info about the **package.appxmanifest** file and packaging, see [Manifest Designer](https://msdn.microsoft.com/library/windows/apps/br230259.aspx). For now, take a look at the **Capabilities** tab and look at the options provided.\n\n![the default capabilities of a direct3d app.](images/simple-dx-game-vs-capabilities.png)\n\nIf you don't select the capabilities that your game uses, such as access to the **Internet** for global high score board, you won't be able to access the corresponding resources or features. When you create a new game, make sure that you select the capabilities that your game needs to run!\n\nNow, let's look at the rest of the files that come with the **DirectX 11 App (Universal Windows)** template.\n\n## 3. Review the included libraries and headers\n\n\nThere are a few files we haven't looked at yet. These files provide additional tools and support common to Direct3D game development scenarios.\n\n| Template Source File         | Description                                                                                                                                                                                                            |\n|------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| StepTimer.h                  | Defines a high-resolution timer useful for gaming or interactive rendering apps.                                                                                                                                       |\n| Sample3DSceneRenderer.h/.cpp | Defines a basic renderer implementation that connects a Direct3D swap chain and graphics adapter to your UWP using DirectX.                                                                                            |\n| DirectXHelper.h              | Implements a single method, **DX::ThrowIfFailed**, that converts the error HRESULT values returned by DirectX APIs into Windows Runtime exceptions. Use this method to put a break point for debugging DirectX errors. |\n| pch.h/.cpp                   | Contains all the Windows system includes for the APIs used by a Direct3D app, including the DirectX 11 APIs.                                                                                                           |\n| SamplePixelShader.hlsl       | Contains the high-level shader language (HLSL) code for a very basic pixel shader.                                                                                                                                     |\n| SampleVertexShader.hlsl      | Contains the high-level shader language (HLSL) code for a very basic vertex shader.                                                                                                                                    |\n\n \n\n### Next steps\n\nAt this point, you can create a UWP with DirectX game project and identify the components and files provided by the DirectX 11 App (Universal Windows) template.\n\nIn the next tutorial, [Defining the game's UWP framework](tutorial--building-the-games-metro-style-app-framework.md), we work with a completed game and examine how it uses and extends many of the concepts and components that the template provides.\n\n \n\n \n\n\n\n\n"}