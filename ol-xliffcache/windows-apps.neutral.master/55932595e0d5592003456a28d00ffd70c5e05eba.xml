{"nodes":[{"content":"Periodic notifications, which are also called polled notifications, update tiles and badges at a fixed interval by downloading content from a cloud service.","pos":[34,190]},{"content":"Periodic notification overview","pos":[198,228]},{"content":"Periodic notification overview","pos":[317,347]},{"content":"Periodic notifications, which are also called polled notifications, update tiles and badges at a fixed interval by downloading content from a cloud service.","pos":[353,509]},{"content":"To use periodic notifications, your client app code needs to provide two pieces of information:","pos":[510,605]},{"content":"The Uniform Resource Identifier (URI) of a web location for Windows to poll for tile or badge updates for your app","pos":[611,725]},{"content":"How often that URI should be polled","pos":[730,765]},{"content":"Periodic notifications enable your app to get live tile updates with minimal cloud service and client investment.","pos":[767,880]},{"content":"Periodic notifications are a good delivery method for distributing the same content to a wide audience.","pos":[881,984]},{"pos":[986,1193],"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>   You can learn more by downloading the <bpt id=\"p2\">[</bpt>Push and periodic notifications sample<ept id=\"p2\">](http://go.microsoft.com/fwlink/p/?linkid=231476)</ept> for Windows 8.1 and re-using its source code in your Windows 10 app."},{"pos":[1294,1306],"content":"How it works"},{"content":"Periodic notifications require that your app hosts a cloud service.","pos":[1309,1376]},{"content":"The service will be polled periodically by all users who have the app installed.","pos":[1377,1457]},{"content":"At each polling interval, such as once an hour, Windows sends an HTTP GET request to the URI, downloads the requested tile or badge content (as XML) that is supplied in response to the request, and displays the content on the app's tile.","pos":[1458,1695]},{"content":"Note that periodic updates cannot be used with toast notifications.","pos":[1697,1764]},{"content":"Toast is best delivered through <bpt id=\"p1\">[</bpt>scheduled<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh465417)</ept> or <bpt id=\"p2\">[</bpt>push<ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/xaml/hh868252)</ept> notifications.","pos":[1765,1954]},{"pos":[2100,2128],"content":"URI location and XML content"},{"content":"Any valid HTTP or HTTPS web address can be used as the URI to be polled.","pos":[2131,2203]},{"content":"The cloud server's response includes the downloaded content.","pos":[2205,2265]},{"content":"The content returned from the URI must conform to the <bpt id=\"p1\">[</bpt>Tile<ept id=\"p1\">](tiles-and-notifications-adaptive-tiles-schema.md)</ept> or <bpt id=\"p2\">[</bpt>Badge<ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/br212851)</ept> XML schema specification, and must be UTF-8 encoded.","pos":[2266,2498]},{"content":"You can use defined HTTP headers to specify the <bpt id=\"p1\">[</bpt>expiration time<ept id=\"p1\">](#expiry)</ept> or <bpt id=\"p2\">[</bpt>tag<ept id=\"p2\">](#taggo)</ept> for the notification.","pos":[2499,2612]},{"pos":[2722,2738],"content":"Polling Behavior"},{"content":"Call one of these methods to begin polling:","pos":[2741,2784]},{"pos":[2790,2880],"content":"<bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StartPeriodicUpdate<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh701684)</ept> (Tile)"},{"pos":[2885,2976],"content":"<bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StartPeriodicUpdate<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh701611)</ept> (Badge)"},{"pos":[2981,3076],"content":"<bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StartPeriodicUpdateBatch<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh967945)</ept> (Tile)"},{"content":"When you call one of these methods, the URI is immediately polled and the tile or badge is updated with the received contents.","pos":[3078,3204]},{"content":"After this initial poll, Windows continues to provide updates at the requested interval.","pos":[3205,3293]},{"content":"Polling continues until you explicitly stop it (with <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>TileUpdater.StopPeriodicUpdate<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh701697)</ept>), your app is uninstalled, or, in the case of a secondary tile, the tile is removed.","pos":[3294,3526]},{"content":"Otherwise, Windows continues to poll for updates to your tile or badge even if your app is never launched again.","pos":[3527,3639]},{"pos":[3771,3794],"content":"The recurrence interval"},{"content":"You specify the recurrence interval as a parameter of the methods listed above.","pos":[3796,3875]},{"content":"Note that while Windows makes a best effort to poll as requested, the interval is not precise.","pos":[3876,3970]},{"content":"The requested poll interval can be delayed by up to 15 minutes at the discretion of Windows.","pos":[3971,4063]},{"pos":[4168,4182],"content":"The start time"},{"content":"You optionally can specify a particular time of day to begin polling.","pos":[4184,4253]},{"content":"Consider an app that changes its tile content just once a day.","pos":[4254,4316]},{"content":"In such a case, we recommend that you poll close to the time that you update your cloud service.","pos":[4317,4413]},{"content":"For example, if a daily shopping site publishes the day's offers at 8 AM, poll for new tile content shortly after 8 AM.","pos":[4414,4533]},{"content":"If you provide a start time, the first call to the method polls for content immediately.","pos":[4535,4623]},{"content":"Then, regular polling starts within 15 minutes of the provided start time.","pos":[4624,4698]},{"pos":[4833,4857],"content":"Automatic retry behavior"},{"content":"The URI is polled only if the device is online.","pos":[4859,4906]},{"content":"If the network is available but the URI cannot be contacted for any reason, this iteration of the polling interval is skipped, and the URI will be polled again at the next interval.","pos":[4907,5088]},{"content":"If the device is in an off, sleep, or hibernated state when a polling interval is reached, the URI is polled when the device returns from its off or sleep state.","pos":[5089,5250]},{"pos":[5305,5347],"content":"Expiration of tile and badge notifications"},{"content":"By default, periodic tile and badge notifications expire three days from the time they are downloaded.","pos":[5350,5452]},{"content":"When a notification expires, the content is removed from the badge, tile, or queue and is no longer shown to the user.","pos":[5453,5571]},{"content":"It is a best practice to set an explicit expiration time on all periodic tile and badge notifications, using a time that makes sense for your app or notification, to ensure that the content does not persist longer than it is relevant.","pos":[5572,5806]},{"content":"An explicit expiration time is essential for content with a defined life span.","pos":[5807,5885]},{"content":"It also assures the removal of stale content if your cloud service becomes unreachable, or if the user disconnects from the network for an extended period of time.","pos":[5886,6049]},{"content":"Your cloud service sets an expiration date and time for a notification by including the X-WNS-Expires HTTP header in the response payload.","pos":[6051,6189]},{"content":"The X-WNS-Expires HTTP header conforms to the <bpt id=\"p1\">[</bpt>HTTP-date format<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=253706)</ept>.","pos":[6190,6304]},{"content":"For more information, see <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StartPeriodicUpdate<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh701684)</ept> or <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>StartPeriodicUpdateBatch<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh967945)</ept>.","pos":[6305,6507]},{"content":"For example, during a stock market's active trading day, you can set the expiration for a stock price update to twice that of your polling interval (such as one hour after receipt if you are polling every half-hour).","pos":[6509,6725]},{"content":"As another example, a news app might determine that one day is an appropriate expiration time for a daily news tile update.","pos":[6726,6849]},{"pos":[6902,6950],"content":"Periodic notifications in the notification queue"},{"content":"You can use periodic tile updates with <bpt id=\"p1\">[</bpt>notification cycling<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh781199)</ept>.","pos":[6953,7073]},{"content":"By default, a tile on the Start screen shows the content of a single notification until it is replaced by a new notification.","pos":[7074,7199]},{"content":"When you enable cycling, up to five notifications are maintained in a queue and the tile cycles through them.","pos":[7200,7309]},{"content":"If the queue has reached its capacity of five notifications, the next new notification replaces the oldest notification in the queue.","pos":[7311,7444]},{"content":"However, by setting tags on your notifications, you can affect the queue's replacement policy.","pos":[7445,7539]},{"content":"A tag is an app-specific, case-insensitive string of up to 16 alphanumeric characters, specified in the <bpt id=\"p1\">[</bpt>X-WNS-Tag<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh465435.aspx#pncodes_x_wns_tag)</ept> HTTP header in the response payload.","pos":[7540,7773]},{"content":"Windows compares the tag of an incoming notification with the tags of all notifications already in the queue.","pos":[7774,7883]},{"content":"If a match is found, the new notification replaces the queued notification with the same tag.","pos":[7884,7977]},{"content":"If no match is found, the default replacement rule is applied and the new notification replaces the oldest notification in the queue.","pos":[7978,8111]},{"content":"You can use notification queuing and tagging to implement a variety of rich notification scenarios.","pos":[8113,8212]},{"content":"For example, a stock app could send five notifications, each about a different stock and each tagged with a stock name.","pos":[8213,8332]},{"content":"This prevents the queue from ever containing two notifications for the same stock, the older of which is out of date.","pos":[8333,8450]},{"pos":[8452,8567],"content":"For more information, see <bpt id=\"p1\">[</bpt>Using the notification queue<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh781199)</ept>."},{"pos":[8723,8754],"content":"Enabling the notification queue"},{"content":"To implement a notification queue, first enable the queue for your tile (see <bpt id=\"p1\">[</bpt>How to use the notification queue with local notifications<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh465429)</ept>).","pos":[8756,8953]},{"content":"The call to enable the queue needs to be done only once in your app's lifetime, but there is no harm in calling it each time your app is launched.","pos":[8954,9100]},{"pos":[9307,9355],"content":"Polling for more than one notification at a time"},{"content":"You must provide a unique URI for each notification that you'd like Windows to download for your tile.","pos":[9357,9459]},{"content":"By using the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StartPeriodicUpdateBatch<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh967945)</ept> method, you can provide up to five URIs at once for use with the notification queue.","pos":[9460,9646]},{"content":"Each URI is polled for a single notification payload, at or near the same time.","pos":[9647,9726]},{"content":"Each polled URI can return its own expiration and tag value.","pos":[9727,9787]},{"pos":[9825,9839],"content":"Related topics"},{"content":"Guidelines for periodic notifications","pos":[9845,9882]},{"content":"How to set up periodic notifications for badges","pos":[9945,9992]},{"content":"How to set up periodic notifications for tiles","pos":[10055,10101]}],"content":"---\nauthor: mijacobs\nDescription: Periodic notifications, which are also called polled notifications, update tiles and badges at a fixed interval by downloading content from a cloud service.\ntitle: Periodic notification overview\nms.assetid: 1EB79BF6-4B94-451F-9FAB-0A1B45B4D01C\nlabel: TBD\ntemplate: detail.hbs\n---\n\n# Periodic notification overview\n\n\n\n\n\nPeriodic notifications, which are also called polled notifications, update tiles and badges at a fixed interval by downloading content from a cloud service. To use periodic notifications, your client app code needs to provide two pieces of information:\n\n-   The Uniform Resource Identifier (URI) of a web location for Windows to poll for tile or badge updates for your app\n-   How often that URI should be polled\n\nPeriodic notifications enable your app to get live tile updates with minimal cloud service and client investment. Periodic notifications are a good delivery method for distributing the same content to a wide audience.\n\n**Note**   You can learn more by downloading the [Push and periodic notifications sample](http://go.microsoft.com/fwlink/p/?linkid=231476) for Windows 8.1 and re-using its source code in your Windows 10 app.\n\n \n\n## <span id=\"How_it_works\"></span><span id=\"how_it_works\"></span><span id=\"HOW_IT_WORKS\"></span>How it works\n\n\nPeriodic notifications require that your app hosts a cloud service. The service will be polled periodically by all users who have the app installed. At each polling interval, such as once an hour, Windows sends an HTTP GET request to the URI, downloads the requested tile or badge content (as XML) that is supplied in response to the request, and displays the content on the app's tile.\n\nNote that periodic updates cannot be used with toast notifications. Toast is best delivered through [scheduled](https://msdn.microsoft.com/library/windows/apps/hh465417) or [push](https://msdn.microsoft.com/library/windows/apps/xaml/hh868252) notifications.\n\n## <span id=\"URI_location_and_XML_content\"></span><span id=\"uri_location_and_xml_content\"></span><span id=\"URI_LOCATION_AND_XML_CONTENT\"></span>URI location and XML content\n\n\nAny valid HTTP or HTTPS web address can be used as the URI to be polled.\n\nThe cloud server's response includes the downloaded content. The content returned from the URI must conform to the [Tile](tiles-and-notifications-adaptive-tiles-schema.md) or [Badge](https://msdn.microsoft.com/library/windows/apps/br212851) XML schema specification, and must be UTF-8 encoded. You can use defined HTTP headers to specify the [expiration time](#expiry) or [tag](#taggo) for the notification.\n\n## <span id=\"Polling_Behavior\"></span><span id=\"polling_behavior\"></span><span id=\"POLLING_BEHAVIOR\"></span>Polling Behavior\n\n\nCall one of these methods to begin polling:\n\n-   [**StartPeriodicUpdate**](https://msdn.microsoft.com/library/windows/apps/hh701684) (Tile)\n-   [**StartPeriodicUpdate**](https://msdn.microsoft.com/library/windows/apps/hh701611) (Badge)\n-   [**StartPeriodicUpdateBatch**](https://msdn.microsoft.com/library/windows/apps/hh967945) (Tile)\n\nWhen you call one of these methods, the URI is immediately polled and the tile or badge is updated with the received contents. After this initial poll, Windows continues to provide updates at the requested interval. Polling continues until you explicitly stop it (with [**TileUpdater.StopPeriodicUpdate**](https://msdn.microsoft.com/library/windows/apps/hh701697)), your app is uninstalled, or, in the case of a secondary tile, the tile is removed. Otherwise, Windows continues to poll for updates to your tile or badge even if your app is never launched again.\n\n### <span id=\"The_recurrence_interval\"></span><span id=\"the_recurrence_interval\"></span><span id=\"THE_RECURRENCE_INTERVAL\"></span>The recurrence interval\n\nYou specify the recurrence interval as a parameter of the methods listed above. Note that while Windows makes a best effort to poll as requested, the interval is not precise. The requested poll interval can be delayed by up to 15 minutes at the discretion of Windows.\n\n### <span id=\"The_start_time\"></span><span id=\"the_start_time\"></span><span id=\"THE_START_TIME\"></span>The start time\n\nYou optionally can specify a particular time of day to begin polling. Consider an app that changes its tile content just once a day. In such a case, we recommend that you poll close to the time that you update your cloud service. For example, if a daily shopping site publishes the day's offers at 8 AM, poll for new tile content shortly after 8 AM.\n\nIf you provide a start time, the first call to the method polls for content immediately. Then, regular polling starts within 15 minutes of the provided start time.\n\n### <span id=\"Automatic_retry_behavior\"></span><span id=\"automatic_retry_behavior\"></span><span id=\"AUTOMATIC_RETRY_BEHAVIOR\"></span>Automatic retry behavior\n\nThe URI is polled only if the device is online. If the network is available but the URI cannot be contacted for any reason, this iteration of the polling interval is skipped, and the URI will be polled again at the next interval. If the device is in an off, sleep, or hibernated state when a polling interval is reached, the URI is polled when the device returns from its off or sleep state.\n\n## <span id=\"expiry\"></span><span id=\"EXPIRY\"></span>Expiration of tile and badge notifications\n\n\nBy default, periodic tile and badge notifications expire three days from the time they are downloaded. When a notification expires, the content is removed from the badge, tile, or queue and is no longer shown to the user. It is a best practice to set an explicit expiration time on all periodic tile and badge notifications, using a time that makes sense for your app or notification, to ensure that the content does not persist longer than it is relevant. An explicit expiration time is essential for content with a defined life span. It also assures the removal of stale content if your cloud service becomes unreachable, or if the user disconnects from the network for an extended period of time.\n\nYour cloud service sets an expiration date and time for a notification by including the X-WNS-Expires HTTP header in the response payload. The X-WNS-Expires HTTP header conforms to the [HTTP-date format](http://go.microsoft.com/fwlink/p/?linkid=253706). For more information, see [**StartPeriodicUpdate**](https://msdn.microsoft.com/library/windows/apps/hh701684) or [**StartPeriodicUpdateBatch**](https://msdn.microsoft.com/library/windows/apps/hh967945).\n\nFor example, during a stock market's active trading day, you can set the expiration for a stock price update to twice that of your polling interval (such as one hour after receipt if you are polling every half-hour). As another example, a news app might determine that one day is an appropriate expiration time for a daily news tile update.\n\n## <span id=\"taggo\"></span><span id=\"TAGGO\"></span>Periodic notifications in the notification queue\n\n\nYou can use periodic tile updates with [notification cycling](https://msdn.microsoft.com/library/windows/apps/hh781199). By default, a tile on the Start screen shows the content of a single notification until it is replaced by a new notification. When you enable cycling, up to five notifications are maintained in a queue and the tile cycles through them.\n\nIf the queue has reached its capacity of five notifications, the next new notification replaces the oldest notification in the queue. However, by setting tags on your notifications, you can affect the queue's replacement policy. A tag is an app-specific, case-insensitive string of up to 16 alphanumeric characters, specified in the [X-WNS-Tag](https://msdn.microsoft.com/library/windows/apps/hh465435.aspx#pncodes_x_wns_tag) HTTP header in the response payload. Windows compares the tag of an incoming notification with the tags of all notifications already in the queue. If a match is found, the new notification replaces the queued notification with the same tag. If no match is found, the default replacement rule is applied and the new notification replaces the oldest notification in the queue.\n\nYou can use notification queuing and tagging to implement a variety of rich notification scenarios. For example, a stock app could send five notifications, each about a different stock and each tagged with a stock name. This prevents the queue from ever containing two notifications for the same stock, the older of which is out of date.\n\nFor more information, see [Using the notification queue](https://msdn.microsoft.com/library/windows/apps/hh781199).\n\n### <span id=\"Enabling_the_notification_queue\"></span><span id=\"enabling_the_notification_queue\"></span><span id=\"ENABLING_THE_NOTIFICATION_QUEUE\"></span>Enabling the notification queue\n\nTo implement a notification queue, first enable the queue for your tile (see [How to use the notification queue with local notifications](https://msdn.microsoft.com/library/windows/apps/hh465429)). The call to enable the queue needs to be done only once in your app's lifetime, but there is no harm in calling it each time your app is launched.\n\n### <span id=\"Polling_for_more_than_one_notification_at_a_time\"></span><span id=\"polling_for_more_than_one_notification_at_a_time\"></span><span id=\"POLLING_FOR_MORE_THAN_ONE_NOTIFICATION_AT_A_TIME\"></span>Polling for more than one notification at a time\n\nYou must provide a unique URI for each notification that you'd like Windows to download for your tile. By using the [**StartPeriodicUpdateBatch**](https://msdn.microsoft.com/library/windows/apps/hh967945) method, you can provide up to five URIs at once for use with the notification queue. Each URI is polled for a single notification payload, at or near the same time. Each polled URI can return its own expiration and tag value.\n\n## <span id=\"related_topics\"></span>Related topics\n\n\n* [Guidelines for periodic notifications](https://msdn.microsoft.com/library/windows/apps/hh761461)\n* [How to set up periodic notifications for badges](https://msdn.microsoft.com/library/windows/apps/hh761476)\n* [How to set up periodic notifications for tiles](https://msdn.microsoft.com/library/windows/apps/hh761476)\n \n\n \n\n\n\n\n"}