{"nodes":[{"content":"Handle file activation","pos":[29,51]},{"content":"An app can register to become the default handler for a certain file type.","pos":[65,139]},{"content":"Handle file activation","pos":[196,218]},{"content":"Updated for UWP apps on Windows 10.","pos":[224,259]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept>","pos":[260,352]},{"content":"Important APIs","pos":[360,374]},{"content":"Windows.ApplicationModel.Activation.FileActivatedEventArgs","pos":[385,443]},{"content":"Windows.UI.Xaml.Application.OnFileActivated","pos":[512,555]},{"content":"An app can register to become the default handler for a certain file type.","pos":[618,692]},{"content":"Both Classic Windows Platform (CWP) apps and Universal Windows Platform (UWP) apps can register to be a default file handler.","pos":[693,818]},{"content":"If the user chooses your app as the default handler for a certain file type, your app will be activated when that type of file is launched.","pos":[819,958]},{"content":"We recommend that you only register for a file type if you expect to handle all file launches for that type of file.","pos":[960,1076]},{"content":"If your app only needs to use the file type internally, then you don't need to register to be the default handler.","pos":[1077,1191]},{"content":"If you do choose to register for a file type, you must provide the end user with the functionality that is expected when your app is activated for that file type.","pos":[1192,1354]},{"content":"For example, a picture viewer app may register to display a .jpg file.","pos":[1355,1425]},{"content":"For more info on file associations, see <bpt id=\"p1\">[</bpt>Guidelines for file types and URIs<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh700321)</ept>.","pos":[1426,1561]},{"content":"These steps show how to register for a custom file type, .alsdk, and how to activate your app when the user launches an .alsdk file.","pos":[1563,1695]},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  In UWP apps, certain URIs and file extensions are reserved for use by built-in apps and the operating system.","pos":[1699,1818]},{"content":"Attempts to register your app with a reserved URI or file extension will be ignored.","pos":[1819,1903]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Reserved file and URI scheme names<ept id=\"p1\">](reserved-uri-scheme-names.md)</ept>.","pos":[1904,1997]},{"content":"Step 1: Specify the extension point in the package manifest","pos":[2002,2061]},{"content":"The app receives activation events only for the file extensions listed in the package manifest.","pos":[2064,2159]},{"content":"Here's how you indicate that your app handles the files with the <ph id=\"ph1\">`.alsdk`</ph> extension.","pos":[2160,2244]},{"content":"In the <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, double-click package.appxmanifest to open the manifest designer.","pos":[2250,2344]},{"content":"Select the <bpt id=\"p1\">**</bpt>Declarations<ept id=\"p1\">**</ept> tab and in the <bpt id=\"p2\">**</bpt>Available Declarations<ept id=\"p2\">**</ept> drop-down, select <bpt id=\"p3\">**</bpt>File Type Associations<ept id=\"p3\">**</ept> and then click <bpt id=\"p4\">**</bpt>Add<ept id=\"p4\">**</ept>.","pos":[2345,2483]},{"content":"See <bpt id=\"p1\">[</bpt>Programmatic Identifiers<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/desktop/cc144152)</ept> for more details of identifiers used by file associations.","pos":[2484,2634]},{"content":"Here is a brief description of each of the fields that you may fill in the manifest designer:","pos":[2640,2733]},{"content":"Field","pos":[2737,2742]},{"content":"Description","pos":[2745,2756]},{"content":"Display Name","pos":[3179,3191]},{"content":"Specify the display name for a group of file types.","pos":[3196,3247]},{"content":"The display name is used to identify the file type in the <bpt id=\"p1\">[</bpt>Set Default Programs<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/desktop/cc144154)</ept> on the <bpt id=\"p2\">**</bpt>Control Panel<ept id=\"p2\">**</ept>.","pos":[3248,3415]},{"content":"Logo","pos":[3422,3426]},{"content":"Specify the logo that is used to identify the file type on the desktop and in the <bpt id=\"p1\">[</bpt>Set Default Programs<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/desktop/cc144154)</ept> on the <bpt id=\"p2\">**</bpt>Control Panel<ept id=\"p2\">**</ept>.","pos":[3431,3622]},{"content":"If no Logo is specified, the application’s small logo is used.","pos":[3623,3685]},{"content":"Info Tip","pos":[3692,3700]},{"content":"Specify the <bpt id=\"p1\">[</bpt>info tip<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/desktop/cc144152)</ept> for a group of file types.","pos":[3705,3815]},{"content":"This tool tip text appears when the user hovers on the icon for a file of this type.","pos":[3816,3900]},{"content":"Name","pos":[3907,3911]},{"content":"Choose a name for a group of file types that share the same display name, logo, info tip, and edit flags.","pos":[3916,4021]},{"content":"Choose a group name that can stay the same across app updates.","pos":[4022,4084]},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  The Name must be in all lower case letters.","pos":[4085,4138]},{"content":"Content Type","pos":[4145,4157]},{"content":"Specify the MIME content type, such as <bpt id=\"p1\">**</bpt>image/jpeg<ept id=\"p1\">**</ept>, for a particular file type.","pos":[4162,4244]},{"content":"<bpt id=\"p1\">**</bpt>Important Note about allowed content types:  <ept id=\"p1\">**</ept>Here is an alphabetic list of MIME content types that you cannot enter into the package manifest because they are either reserved or forbidden: <bpt id=\"p2\">**</bpt>application/force-download<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>application/octet-stream<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>application/unknown<ept id=\"p4\">**</ept>, <bpt id=\"p5\">**</bpt>application/x-msdownload<ept id=\"p5\">**</ept>.","pos":[4245,4554]},{"content":"File type","pos":[4561,4570]},{"content":"Specify the file type to register for, preceded by a period, for example, “.jpeg”.\"","pos":[4575,4658]},{"content":"<bpt id=\"p1\">**</bpt>Reserved and forbidden file types<ept id=\"p1\">**</ept> See <bpt id=\"p2\">[</bpt>Reserved URI scheme names and file types<ept id=\"p2\">](reserved-uri-scheme-names.md)</ept> for an alphabetic list of files types for built-in apps that you can't register for your UWP apps because they are either reserved or forbidden.","pos":[4659,4918]},{"pos":[4926,4956],"content":"Enter <ph id=\"ph1\">`alsdk`</ph> as the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept>."},{"pos":[4961,4997],"content":"Enter <ph id=\"ph1\">`.alsdk`</ph> as the <bpt id=\"p1\">**</bpt>File Type<ept id=\"p1\">**</ept>."},{"content":"Enter “images<ph id=\"ph1\">\\\\</ph>Icon.png” as the Logo.","pos":[5002,5039]},{"content":"Press Ctrl+S to save the change to package.appxmanifest.","pos":[5044,5100]},{"content":"The steps above add an <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Extension<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br211400)</ept> element like this one to the package manifest.","pos":[5102,5245]},{"content":"The <bpt id=\"p1\">**</bpt>windows.fileTypeAssociation<ept id=\"p1\">**</ept> category indicates that the app handles files with the <ph id=\"ph1\">`.alsdk`</ph> extension.","pos":[5246,5356]},{"content":"Step 2: Add the proper icons","pos":[5760,5788]},{"content":"Apps that become the default for a file type have their icons displayed in various places throughout the system.","pos":[5791,5903]},{"content":"For example these icons are shown in:","pos":[5904,5941]},{"content":"Windows Explorer ItemsView, context menus, and the Ribbon","pos":[5947,6004]},{"content":"Default programs Control Panel","pos":[6009,6039]},{"content":"File picker","pos":[6044,6055]},{"content":"Search results on the Start screen","pos":[6060,6094]},{"content":"Match the look of the app tile logo and use your app's background color rather than making the icon transparent.","pos":[6096,6208]},{"content":"Have the logo extend to the edge without padding it.","pos":[6209,6261]},{"content":"Test your icons on white backgrounds.","pos":[6262,6299]},{"content":"For example icons, see the <bpt id=\"p1\">[</bpt>Association launching sample<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkID=620490)</ept>.","pos":[6300,6407]},{"content":"the solution explorer with a view of the files in the images folder.","pos":[6410,6478]},{"content":"there are 16, 32, 48, and 256 pixel versions of both ‘icon.targetsize’ and ‘smalltile-sdk’","pos":[6479,6569]},{"content":"Step 3: Handle the activated event","pos":[6602,6636]},{"pos":[6639,6773],"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>OnFileActivated<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br242331)</ept> event handler receives all file activation events."},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[6777,6810]},{"content":"It is recommended that apps create a new XAML Frame for each activation event that opens a new page.","pos":[7770,7870]},{"content":"This way, the navigation backstack for the new XAML Frame will not contain any previous content that the app might have on the current window when suspended.","pos":[7871,8028]},{"content":"Apps that decide to use a single XAML Frame for Launch and File Contracts should clear the pages on the Frame's navigation journal before navigating to a new page.","pos":[8029,8192]},{"content":"When launched via File activation, apps should consider including UI that allows the user to go back to the top page of the app.","pos":[8194,8322]},{"content":"Remarks","pos":[8327,8334]},{"content":"The files that you receive could come from an untrusted source.","pos":[8337,8400]},{"content":"We recommend that you validate the content of a file before taking action on it.","pos":[8401,8481]},{"content":"For more info on input validation, see <bpt id=\"p1\">[</bpt>Writing Secure Code<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkID=142053)</ept>","pos":[8482,8591]},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  This article is for Windows 10 developers writing Universal Windows Platform (UWP) apps.","pos":[8595,8693]},{"content":"If you’re developing for Windows 8.x or Windows Phone 8.x, see the <bpt id=\"p1\">[</bpt>archived documentation<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept>.","pos":[8694,8835]},{"content":"Related topics","pos":[8843,8857]},{"content":"Complete example","pos":[8861,8877]},{"content":"Association launching sample","pos":[8884,8912]},{"content":"Concepts","pos":[8966,8974]},{"content":"Default Programs","pos":[8981,8997]},{"content":"File Type and Protocol Associations Model","pos":[9063,9104]},{"content":"Tasks","pos":[9170,9175]},{"content":"Launch the default app for a file","pos":[9182,9215]},{"content":"Handle URI activation","pos":[9258,9279]},{"content":"Guidelines","pos":[9310,9320]},{"content":"Guidelines for file types and URIs","pos":[9327,9361]},{"content":"Reference","pos":[9424,9433]},{"content":"Windows.ApplicationModel.Activation.FileActivatedEventArgs","pos":[9441,9499]},{"content":"Windows.UI.Xaml.Application.OnFileActivated","pos":[9566,9609]}],"content":"---\nauthor: TylerMSFT\ntitle: Handle file activation\ndescription: An app can register to become the default handler for a certain file type.\nms.assetid: A0F914C5-62BC-4FF7-9236-E34C5277C363\n---\n\n# Handle file activation\n\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\n\n**Important APIs**\n\n-   [**Windows.ApplicationModel.Activation.FileActivatedEventArgs**](https://msdn.microsoft.com/library/windows/apps/br224716)\n-   [**Windows.UI.Xaml.Application.OnFileActivated**](https://msdn.microsoft.com/library/windows/apps/br242331)\n\nAn app can register to become the default handler for a certain file type. Both Classic Windows Platform (CWP) apps and Universal Windows Platform (UWP) apps can register to be a default file handler. If the user chooses your app as the default handler for a certain file type, your app will be activated when that type of file is launched.\n\nWe recommend that you only register for a file type if you expect to handle all file launches for that type of file. If your app only needs to use the file type internally, then you don't need to register to be the default handler. If you do choose to register for a file type, you must provide the end user with the functionality that is expected when your app is activated for that file type. For example, a picture viewer app may register to display a .jpg file. For more info on file associations, see [Guidelines for file types and URIs](https://msdn.microsoft.com/library/windows/apps/hh700321).\n\nThese steps show how to register for a custom file type, .alsdk, and how to activate your app when the user launches an .alsdk file.\n\n> **Note**  In UWP apps, certain URIs and file extensions are reserved for use by built-in apps and the operating system. Attempts to register your app with a reserved URI or file extension will be ignored. For more information, see [Reserved file and URI scheme names](reserved-uri-scheme-names.md).\n\n## Step 1: Specify the extension point in the package manifest\n\n\nThe app receives activation events only for the file extensions listed in the package manifest. Here's how you indicate that your app handles the files with the `.alsdk` extension.\n\n1.  In the **Solution Explorer**, double-click package.appxmanifest to open the manifest designer. Select the **Declarations** tab and in the **Available Declarations** drop-down, select **File Type Associations** and then click **Add**. See [Programmatic Identifiers](https://msdn.microsoft.com/library/windows/desktop/cc144152) for more details of identifiers used by file associations.\n\n    Here is a brief description of each of the fields that you may fill in the manifest designer:\n\n| Field | Description |\n|------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| **Display Name** | Specify the display name for a group of file types. The display name is used to identify the file type in the [Set Default Programs](https://msdn.microsoft.com/library/windows/desktop/cc144154) on the **Control Panel**. |\n| **Logo** | Specify the logo that is used to identify the file type on the desktop and in the [Set Default Programs](https://msdn.microsoft.com/library/windows/desktop/cc144154) on the **Control Panel**. If no Logo is specified, the application’s small logo is used. |\n| **Info Tip** | Specify the [info tip](https://msdn.microsoft.com/library/windows/desktop/cc144152) for a group of file types. This tool tip text appears when the user hovers on the icon for a file of this type. |\n| **Name** | Choose a name for a group of file types that share the same display name, logo, info tip, and edit flags. Choose a group name that can stay the same across app updates. **Note**  The Name must be in all lower case letters. |\n| **Content Type** | Specify the MIME content type, such as **image/jpeg**, for a particular file type. **Important Note about allowed content types:  **Here is an alphabetic list of MIME content types that you cannot enter into the package manifest because they are either reserved or forbidden: **application/force-download**, **application/octet-stream**, **application/unknown**, **application/x-msdownload**. |\n| **File type** | Specify the file type to register for, preceded by a period, for example, “.jpeg”.\" **Reserved and forbidden file types** See [Reserved URI scheme names and file types](reserved-uri-scheme-names.md) for an alphabetic list of files types for built-in apps that you can't register for your UWP apps because they are either reserved or forbidden. |\n\n2.  Enter `alsdk` as the **Name**.\n3.  Enter `.alsdk` as the **File Type**.\n4.  Enter “images\\\\Icon.png” as the Logo.\n5.  Press Ctrl+S to save the change to package.appxmanifest.\n\nThe steps above add an [**Extension**](https://msdn.microsoft.com/library/windows/apps/br211400) element like this one to the package manifest. The **windows.fileTypeAssociation** category indicates that the app handles files with the `.alsdk` extension.\n\n```xml\n      <Extensions>\n        <uap:Extension Category=\"windows.fileTypeAssociation\">\n          <uap:FileTypeAssociation Name=\"alsdk\">\n            <uap:Logo>images\\icon.png</uap:Logo>\n            <uap:SupportedFileTypes>\n              <uap:FileType>.alsdk</uap:FileType>\n            </uap:SupportedFileTypes>\n          </uap:FileTypeAssociation>\n        </uap:Extension>\n      </Extensions>\n```\n\n## Step 2: Add the proper icons\n\n\nApps that become the default for a file type have their icons displayed in various places throughout the system. For example these icons are shown in:\n\n-   Windows Explorer ItemsView, context menus, and the Ribbon\n-   Default programs Control Panel\n-   File picker\n-   Search results on the Start screen\n\nMatch the look of the app tile logo and use your app's background color rather than making the icon transparent. Have the logo extend to the edge without padding it. Test your icons on white backgrounds. For example icons, see the [Association launching sample](http://go.microsoft.com/fwlink/p/?LinkID=620490).\n![the solution explorer with a view of the files in the images folder. there are 16, 32, 48, and 256 pixel versions of both ‘icon.targetsize’ and ‘smalltile-sdk’](images/seviewofimages.png)\n\n## Step 3: Handle the activated event\n\n\nThe [**OnFileActivated**](https://msdn.microsoft.com/library/windows/apps/br242331) event handler receives all file activation events.\n\n> [!div class=\"tabbedCodeSnippets\"]\n```vb\nProtected Overrides Sub OnFileActivated(ByVal args As Windows.ApplicationModel.Activation.FileActivatedEventArgs)\n      ' TODO: Handle file activation\n      ' The number of files received is args.Files.Size\n      ' The name of the first file is args.Files(0).Name\nEnd Sub\n```\n```cpp\nvoid App::OnFileActivated(Windows::ApplicationModel::Activation::FileActivatedEventArgs^ args)\n{\n       // TODO: Handle file activation\n       // The number of files received is args->Files->Size\n       // The first file is args->Files->GetAt(0)->Name\n}\n```\n```cs\nprotected override void OnFileActivated(FileActivatedEventArgs args)\n{\n       // TODO: Handle file activation\n       // The number of files received is args.Files.Size\n       // The name of the first file is args.Files[0].Name\n}\n```\n\n    > **Note**  When launched via File Contract, make sure that Back button takes the user back to the screen that launched the app and not to the app's previous content.\n\nIt is recommended that apps create a new XAML Frame for each activation event that opens a new page. This way, the navigation backstack for the new XAML Frame will not contain any previous content that the app might have on the current window when suspended. Apps that decide to use a single XAML Frame for Launch and File Contracts should clear the pages on the Frame's navigation journal before navigating to a new page.\n\nWhen launched via File activation, apps should consider including UI that allows the user to go back to the top page of the app.\n\n## Remarks\n\n\nThe files that you receive could come from an untrusted source. We recommend that you validate the content of a file before taking action on it. For more info on input validation, see [Writing Secure Code](http://go.microsoft.com/fwlink/p/?LinkID=142053)\n\n> **Note**  This article is for Windows 10 developers writing Universal Windows Platform (UWP) apps. If you’re developing for Windows 8.x or Windows Phone 8.x, see the [archived documentation](http://go.microsoft.com/fwlink/p/?linkid=619132).\n\n \n\n## Related topics\n\n**Complete example**\n\n* [Association launching sample](http://go.microsoft.com/fwlink/p/?LinkID=231484)\n\n**Concepts**\n\n* [Default Programs](https://msdn.microsoft.com/library/windows/desktop/cc144154)\n* [File Type and Protocol Associations Model](https://msdn.microsoft.com/library/windows/desktop/hh848047)\n\n**Tasks**\n\n* [Launch the default app for a file](launch-the-default-app-for-a-file.md)\n* [Handle URI activation](handle-uri-activation.md)\n\n**Guidelines**\n\n* [Guidelines for file types and URIs](https://msdn.microsoft.com/library/windows/apps/hh700321)\n\n**Reference**\n* [**Windows.ApplicationModel.Activation.FileActivatedEventArgs**](https://msdn.microsoft.com/library/windows/apps/br224716)\n* [**Windows.UI.Xaml.Application.OnFileActivated**](https://msdn.microsoft.com/library/windows/apps/br242331)\n\n \n\n \n"}