{"nodes":[{"content":"Plan your DirectX port","pos":[27,49]},{"content":"Plan your game porting project from DirectX 9 to DirectX 11 and Universal Windows Platform (UWP)-- upgrade your graphics code, and put your game in the Windows Runtime environment.","pos":[63,243]},{"content":"Plan your DirectX port","pos":[300,322]},{"content":"Updated for UWP apps on Windows 10.","pos":[328,363]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept>","pos":[364,456]},{"content":"Summary","pos":[463,470]},{"content":"Plan your DirectX port","pos":[478,500]},{"content":"Important changes from Direct3D 9 to Direct3D 11","pos":[506,554]},{"content":"Feature mapping","pos":[599,614]},{"content":"Plan your game porting project from DirectX 9 to DirectX 11 and Universal Windows Platform (UWP): upgrade your graphics code, and put your game in the Windows Runtime environment.","pos":[638,817]},{"content":"Plan to port graphics code","pos":[822,848]},{"content":"Before you begin porting your game to UWP, it's important to ensure that your game does not have any holdovers from Direct3D 8.","pos":[851,978]},{"content":"Ensure that your game doesn't have any remnants of the fixed function pipeline.","pos":[979,1058]},{"content":"For a complete list of deprecated features, including fixed pipeline functionality, see <bpt id=\"p1\">[</bpt>Deprecated Features<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/desktop/cc308047)</ept>.","pos":[1059,1230]},{"content":"Upgrading from Direct3D 9 to Direct3D 11 is more than a search-and-replace change.","pos":[1232,1314]},{"content":"You need to know the difference between the Direct3D device, device context, and graphics infrastructure, and learn about other important changes since Direct3D 9.","pos":[1315,1478]},{"content":"You can start this process by reading the other topics in this section.","pos":[1479,1550]},{"content":"You must replace the D3DX and DXUT helper libraries with your own helper libraries, or with community tools.","pos":[1552,1660]},{"content":"See the <bpt id=\"p1\">[</bpt>Feature mapping<ept id=\"p1\">](feature-mapping.md)</ept> section for more info.","pos":[1661,1729]},{"pos":[1733,1967],"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>   You can use the <bpt id=\"p2\">[</bpt>DirectX Tool Kit<ept id=\"p2\">](http://go.microsoft.com/fwlink/p/?LinkID=248929)</ept> or <bpt id=\"p3\">[</bpt>DirectXTex<ept id=\"p3\">](http://go.microsoft.com/fwlink/p/?LinkID=248926)</ept> to replace some functionality that was formerly provided by D3DX and DXUT."},{"content":"Shaders written in assembly language should be upgraded to HLSL using shader model 4 level 9<ph id=\"ph1\">\\_</ph>1 or 9<ph id=\"ph2\">\\_</ph>3 functionality, and shaders written for the Effects library will need to be updated to a more recent version of HLSL syntax.","pos":[1972,2199]},{"content":"See the <bpt id=\"p1\">[</bpt>Feature mapping<ept id=\"p1\">](feature-mapping.md)</ept> section for more info.","pos":[2200,2268]},{"content":"Get familiar with the different <bpt id=\"p1\">[</bpt>Direct3D feature levels<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/desktop/ff476876)</ept>.","pos":[2270,2389]},{"content":"Feature levels classify a wide range of video hardware by defining sets of known functionality.","pos":[2390,2485]},{"content":"Each set roughly corresponds to versions of Direct3D, from 9.1 through 11.2.","pos":[2486,2562]},{"content":"All feature levels use the DirectX 11 API.","pos":[2563,2605]},{"content":"Plan to port Win32 UI code to CoreWindow","pos":[2610,2650]},{"content":"UWP apps run in a window created for an app container, called a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>CoreWindow<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br208225)</ept>.","pos":[2653,2792]},{"content":"Your game controls the window by inheriting from <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>IFrameworkView<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh700478)</ept>, which requires less implementation details than a desktop window.","pos":[2793,2987]},{"content":"Your game's main loop will be in the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>IFrameworkView::Run<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh700505)</ept> method.","pos":[2988,3116]},{"content":"The lifecycle of a UWP app is very different from a desktop app.","pos":[3118,3182]},{"content":"You'll need to save the game often, because when a suspend event happens your app only has a limited amount of time to stop running code, and you want to make sure the player can get back to where they were right away when your app resumes.","pos":[3183,3423]},{"content":"Games should save just often enough to maintain a continuous gameplay experience from resume, but not so often that the game saves impact framerate or cause the game to stutter.","pos":[3424,3601]},{"content":"Your game will potentially need to load game state when the game resumes from a terminated state.","pos":[3602,3699]},{"content":"<bpt id=\"p1\">[</bpt>DirectXMath<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/desktop/ee415571)</ept> can be used as a replacement for D3DXMath and XNAMath, and it can come in handy if you need a math library.","pos":[3701,3883]},{"content":"DirectXMath has fast, portable data types, and types that are aligned and packed for use with shaders.","pos":[3884,3986]},{"content":"Native libraries such as the <bpt id=\"p1\">[</bpt>Interlocked API<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/desktop/dd405529)</ept> have been expanded to support ARM intrinsics.","pos":[3988,4141]},{"content":"If your game uses interlocked APIs, you can keep using them in DirectX 11 and UWP.","pos":[4142,4224]},{"content":"Our templates and code samples use new C++ features that you might not be familiar with yet.","pos":[4226,4318]},{"content":"For example, asynchronous methods are used with <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>lambda expressions<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dd293608.aspx)</ept> to load Direct3D resources without blocking the UI thread.","pos":[4319,4513]},{"content":"There are two concepts you'll use often:","pos":[4515,4555]},{"content":"Managed references ([<bpt id=\"p1\">**</bpt><ph id=\"ph1\">^</ph><ept id=\"p1\">**</ept>]https://msdn.microsoft.com/library/windows/apps/yk97tc08.aspx) and <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>managed classes<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/6w96b5h7.aspx)</ept> (ref classes) are a fundamental part of the Windows Runtime.","pos":[4561,4800]},{"content":"You will need to use managed ref classes to interface with Windows Runtime components, for example <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>IFrameworkView<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh700478)</ept> (more on that in the walkthrough).","pos":[4801,5013]},{"pos":[5018,5213],"content":"When working with Direct3D 11 COM interfaces, use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Microsoft::WRL::ComPtr<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br244983.aspx)</ept> template type to make COM pointers easier to use."}],"content":"---\nauthor: mtoepke\ntitle: Plan your DirectX port\ndescription: Plan your game porting project from DirectX 9 to DirectX 11 and Universal Windows Platform (UWP)-- upgrade your graphics code, and put your game in the Windows Runtime environment.\nms.assetid: 3c0c33ca-5d15-ae12-33f8-9b5d8da08155\n---\n\n# Plan your DirectX port\n\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\n**Summary**\n\n-   Plan your DirectX port\n-   [Important changes from Direct3D 9 to Direct3D 11](understand-direct3d-11-1-concepts.md)\n-   [Feature mapping](feature-mapping.md)\n\n\nPlan your game porting project from DirectX 9 to DirectX 11 and Universal Windows Platform (UWP): upgrade your graphics code, and put your game in the Windows Runtime environment.\n\n## Plan to port graphics code\n\n\nBefore you begin porting your game to UWP, it's important to ensure that your game does not have any holdovers from Direct3D 8. Ensure that your game doesn't have any remnants of the fixed function pipeline. For a complete list of deprecated features, including fixed pipeline functionality, see [Deprecated Features](https://msdn.microsoft.com/library/windows/desktop/cc308047).\n\nUpgrading from Direct3D 9 to Direct3D 11 is more than a search-and-replace change. You need to know the difference between the Direct3D device, device context, and graphics infrastructure, and learn about other important changes since Direct3D 9. You can start this process by reading the other topics in this section.\n\nYou must replace the D3DX and DXUT helper libraries with your own helper libraries, or with community tools. See the [Feature mapping](feature-mapping.md) section for more info.\n\n> **Note**   You can use the [DirectX Tool Kit](http://go.microsoft.com/fwlink/p/?LinkID=248929) or [DirectXTex](http://go.microsoft.com/fwlink/p/?LinkID=248926) to replace some functionality that was formerly provided by D3DX and DXUT.\n\n \n\nShaders written in assembly language should be upgraded to HLSL using shader model 4 level 9\\_1 or 9\\_3 functionality, and shaders written for the Effects library will need to be updated to a more recent version of HLSL syntax. See the [Feature mapping](feature-mapping.md) section for more info.\n\nGet familiar with the different [Direct3D feature levels](https://msdn.microsoft.com/library/windows/desktop/ff476876). Feature levels classify a wide range of video hardware by defining sets of known functionality. Each set roughly corresponds to versions of Direct3D, from 9.1 through 11.2. All feature levels use the DirectX 11 API.\n\n## Plan to port Win32 UI code to CoreWindow\n\n\nUWP apps run in a window created for an app container, called a [**CoreWindow**](https://msdn.microsoft.com/library/windows/apps/br208225). Your game controls the window by inheriting from [**IFrameworkView**](https://msdn.microsoft.com/library/windows/apps/hh700478), which requires less implementation details than a desktop window. Your game's main loop will be in the [**IFrameworkView::Run**](https://msdn.microsoft.com/library/windows/apps/hh700505) method.\n\nThe lifecycle of a UWP app is very different from a desktop app. You'll need to save the game often, because when a suspend event happens your app only has a limited amount of time to stop running code, and you want to make sure the player can get back to where they were right away when your app resumes. Games should save just often enough to maintain a continuous gameplay experience from resume, but not so often that the game saves impact framerate or cause the game to stutter. Your game will potentially need to load game state when the game resumes from a terminated state.\n\n[DirectXMath](https://msdn.microsoft.com/library/windows/desktop/ee415571) can be used as a replacement for D3DXMath and XNAMath, and it can come in handy if you need a math library. DirectXMath has fast, portable data types, and types that are aligned and packed for use with shaders.\n\nNative libraries such as the [Interlocked API](https://msdn.microsoft.com/library/windows/desktop/dd405529) have been expanded to support ARM intrinsics. If your game uses interlocked APIs, you can keep using them in DirectX 11 and UWP.\n\nOur templates and code samples use new C++ features that you might not be familiar with yet. For example, asynchronous methods are used with [**lambda expressions**](https://msdn.microsoft.com/library/windows/apps/dd293608.aspx) to load Direct3D resources without blocking the UI thread.\n\nThere are two concepts you'll use often:\n\n-   Managed references ([**^**]https://msdn.microsoft.com/library/windows/apps/yk97tc08.aspx) and [**managed classes**](https://msdn.microsoft.com/library/windows/apps/6w96b5h7.aspx) (ref classes) are a fundamental part of the Windows Runtime. You will need to use managed ref classes to interface with Windows Runtime components, for example [**IFrameworkView**](https://msdn.microsoft.com/library/windows/apps/hh700478) (more on that in the walkthrough).\n-   When working with Direct3D 11 COM interfaces, use the [**Microsoft::WRL::ComPtr**](https://msdn.microsoft.com/library/windows/apps/br244983.aspx) template type to make COM pointers easier to use.\n\n \n\n \n\n\n\n\n"}