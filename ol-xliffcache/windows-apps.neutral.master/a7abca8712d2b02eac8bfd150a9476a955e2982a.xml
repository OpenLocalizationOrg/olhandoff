{"nodes":[{"content":"App bar and command bar","pos":[76,99]},{"content":"Command bars (also called \"app bars\") provide users with easy access to your app's most common tasks, and can be used to show commands or options that are specific to the user's context, such as a photo selection or drawing mode.","pos":[101,330]},{"content":"They can also be used for navigation among app pages or between app sections.","pos":[331,408]},{"content":"Command bars can be used with any navigation pattern.","pos":[409,462]},{"content":"Example of a command bar with icons","pos":[466,501]},{"pos":[595,609],"content":"Important APIs"},{"content":"CommandBar","pos":[625,635]},{"content":"AppBarButton","pos":[737,749]},{"content":"AppBarToggleButton","pos":[852,870]},{"content":"AppBarSeparator","pos":[979,994]},{"content":"Is this the right control","pos":[1097,1122]},{"pos":[1124,1659],"content":"The CommandBar control is a general-purpose, flexible, light-weight control that can display both complex content, such as images or text blocks, as well as simple commands such as <bpt id=\"p1\">[</bpt>AppBarButton<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.appbarbutton.aspx)</ept>, <bpt id=\"p2\">[</bpt>AppBarToggleButton<ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.appbartogglebutton.aspx)</ept>, and <bpt id=\"p3\">[</bpt>AppBarSeparator<ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.appbarseparator.aspx)</ept> controls."},{"content":"XAML provides both the AppBar control and the CommandBar control.","pos":[1661,1726]},{"content":"You should use the AppBar only when you are upgrading a Universal Windows 8 app that uses the AppBar, and need to minimize changes.","pos":[1727,1858]},{"content":"For new apps in Windows 10, we recommend using the CommandBar control instead.","pos":[1859,1937]},{"content":"This document assumes you are using the CommandBar control.","pos":[1938,1997]},{"content":"Examples","pos":[2002,2010]},{"content":"An expanded command bar in the Microsoft Photos app.","pos":[2011,2063]},{"content":"Command bar in Microsoft Photos app","pos":[2067,2102]},{"content":"A command bar in the Outlook Calendar on Windows Phone.","pos":[2153,2208]},{"content":"Command bar in Outlook Calendar app","pos":[2212,2247]},{"content":"Anatomy","pos":[2309,2316]},{"content":"By default, the command bar shows a row of icon buttons and an optional \"see more\" button, which is represented by an ellipsis <ph id=\"ph1\">\\[</ph>•••<ph id=\"ph2\">\\]</ph>.","pos":[2318,2453]},{"content":"Here's the command bar created by the example code shown later.","pos":[2454,2517]},{"content":"It's shown in its closed compact state.","pos":[2518,2557]},{"content":"A closed command bar","pos":[2561,2581]},{"content":"The command bar can also be shown in a closed minimal state that looks like this.","pos":[2616,2697]},{"content":"See the <bpt id=\"p1\">[</bpt>Open and closed states<ept id=\"p1\">](#open-and-closed-states)</ept> section for more info.","pos":[2698,2778]},{"content":"A closed command bar","pos":[2782,2802]},{"content":"Here's the same command bar in its open state.","pos":[2837,2883]},{"content":"The labels identify the main parts of the control.","pos":[2884,2934]},{"content":"A closed command bar","pos":[2938,2958]},{"content":"The command bar is divided into 4 main areas:","pos":[2997,3042]},{"content":"The \"see more\" <ph id=\"ph1\">\\[</ph>•••<ph id=\"ph2\">\\]</ph> button is shown on the right of the bar.","pos":[3045,3108]},{"content":"Pressing the \"see more\" <ph id=\"ph1\">\\[</ph>•••<ph id=\"ph2\">\\]</ph> button has 2 effects: it reveals the labels on the primary command buttons, and it opens the overflow menu if any secondary commands are present.","pos":[3109,3286]},{"content":"The button will not be visible when no secondary commands and no hidden labels are present.","pos":[3287,3378]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">`OverflowButtonVisibility`</ph><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.commandbar.overflowbuttonvisibility.aspx)</ept> property allows apps to change this default auto-hide behavior.","pos":[3379,3586]},{"content":"The content area is aligned to the left side of the bar.","pos":[3589,3645]},{"content":"It is shown if the <ph id=\"ph1\">`Content`</ph> property is populated.","pos":[3646,3697]},{"content":"The primary command area is aligned to the right side of the bar, next to the \"see more\" <ph id=\"ph1\">\\[</ph>•••<ph id=\"ph2\">\\]</ph> button.","pos":[3700,3804]},{"content":"It is shown if the <ph id=\"ph1\">`PrimaryCommands`</ph> property is populated.","pos":[3805,3864]},{"pos":[3869,3980],"content":"The overflow menu is shown only when the command bar is open and the <ph id=\"ph1\">`SecondaryCommands`</ph> property is populated."},{"pos":[3983,4052],"content":"The layout is reversed when the <bpt id=\"p1\">[</bpt>FlowDirection<ept id=\"p1\">]()</ept> is <bpt id=\"p2\">**</bpt>RightToLeft<ept id=\"p2\">**</ept>."},{"content":"Create a command bar","pos":[4057,4077]},{"content":"This example creates the command bar shown previously.","pos":[4078,4132]},{"content":"Commands and content","pos":[5004,5024]},{"pos":[5025,5503],"content":"The CommandBar control has 3 properties you can use to add commands and content: <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>PrimaryCommands<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.commandbar.primarycommands.aspx)</ept>, <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>SecondaryCommands<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.commandbar.secondarycommands.aspx)</ept>, and <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>Content<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.contentcontrol.content.aspx)</ept>."},{"content":"Primary actions and overflow","pos":[5510,5538]},{"content":"By default, items you add to the command bar are added to the <bpt id=\"p1\">**</bpt>PrimaryCommands<ept id=\"p1\">**</ept> collection.","pos":[5540,5633]},{"content":"These commands are shown to the left of the \"see more\" <ph id=\"ph1\">\\[</ph>•••<ph id=\"ph2\">\\]</ph> button, in what we call the action space.","pos":[5634,5738]},{"content":"Place the most important commands, the ones that you want to remain visible in the bar, in the action space.","pos":[5739,5847]},{"content":"On the smallest screens (320 epx width), a maximum of 4 items will fit in the command bar's action space.","pos":[5848,5953]},{"content":"You can add commands to the <bpt id=\"p1\">**</bpt>SecondaryCommands<ept id=\"p1\">**</ept> collection, and these items are shown in the overflow area.","pos":[5955,6064]},{"content":"Place less important commands within the overflow area.","pos":[6065,6120]},{"content":"The default overflow area is styled to be distinct from the bar.","pos":[6122,6186]},{"content":"You can adjust the styling by setting the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>CommandBarOverflowPresenterStyle<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.commandbar.commandbaroverflowpresenterstyle.aspx)</ept> property to a <bpt id=\"p3\">[</bpt>Style<ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.style.aspx)</ept> that targets the <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>CommandBarOverflowPresenter<ept id=\"p5\">**</ept><ept id=\"p4\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.commandbaroverflowpresenter.aspx)</ept>.","pos":[6187,6662]},{"content":"You can programmatically move commands between the PrimaryCommands and SecondaryCommands as needed.","pos":[6664,6763]},{"content":"App bar buttons","pos":[6770,6785]},{"content":"Both the PrimaryCommands and SecondaryCommands can be populated only with <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>AppBarButton<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbarbutton.aspx)</ept>, <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>AppBarToggleButton<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbartogglebutton.aspx)</ept>, and <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>AppBarSeparator<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbarseparator.aspx)</ept> command elements.","pos":[6787,7250]},{"content":"These controls are optimized for use in a command bar, and their appearance changes depending on whether the control is used in the action space or overflow area.","pos":[7251,7413]},{"content":"The app bar button controls are characterized by an icon and associated label.","pos":[7415,7493]},{"content":"They have two sizes; normal and compact.","pos":[7494,7534]},{"content":"By default, the text label is shown.","pos":[7535,7571]},{"content":"When the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>IsCompact<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbarbutton.iscompact.aspx)</ept> property is set to <bpt id=\"p3\">**</bpt>true<ept id=\"p3\">**</ept>, the text label is hidden.","pos":[7572,7758]},{"content":"When used in a CommandBar control, the command bar overwrites the button's IsCompact property automatically as the command bar is opened and closed.","pos":[7759,7907]},{"content":"To position app bar button labels to the right of their icons, apps can use CommandBar's new <bpt id=\"p1\">[</bpt><ph id=\"ph1\">`DefaultLabelPosition`</ph><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.commandbar.defaultlabelposition.aspx)</ept> property.","pos":[7909,8147]},{"content":"Individual app bar buttons cannot move their label position, this must be done on the command bar as a whole.","pos":[8148,8257]},{"content":"Here is what the code snippet above looks like when drawn by an app.","pos":[8442,8510]},{"content":"Command bar with labels on the right","pos":[8514,8550]},{"content":"When you place an app bar button in the overflow menu (SecondaryCommands), it's shown as text only.","pos":[8589,8688]},{"content":"Here's the same app bar toggle button shown in the action space as a primary command (top), and in the overflow area as a secondary command (bottom).","pos":[8689,8838]},{"content":"App bar button as primary and secondary command","pos":[8842,8889]},{"content":"If there is a command that would appear consistently across pages, it's best to keep that command in a consistent location.","pos":[8939,9062]},{"content":"We recommended placing Accept, Yes, and OK commands to the left of Reject, No, and Cancel.","pos":[9067,9157]},{"content":"Consistency gives users the confidence to move around the system and helps them transfer their knowledge of app navigation from app to app.","pos":[9158,9297]},{"content":"Button labels","pos":[9304,9317]},{"content":"We recommend keeping app bar button labels short, preferably a single word.","pos":[9319,9394]},{"content":"Longer labels positioned bellow an app bar button's icon will wrap to multiple lines thus increasing the overall height of the opened command bar.","pos":[9395,9541]},{"content":"You can include a soft-hyphen character (0x00AD) in the text for a label to hint at the character boundary where a word break should occur.","pos":[9542,9681]},{"content":"In XAML, you express this using an escape sequence, like this:","pos":[9682,9744]},{"content":"When the label wraps at the hinted location, it looks like this.","pos":[9820,9884]},{"content":"App bar button with wrapping label","pos":[9888,9922]},{"content":"Other content","pos":[9967,9980]},{"content":"You can add any XAML elements to the content area by setting the <bpt id=\"p1\">**</bpt>Content<ept id=\"p1\">**</ept> property.","pos":[9982,10068]},{"content":"If you want to add more than one element, you need to place them in a panel container and make the panel the single child of the Content property.","pos":[10069,10215]},{"content":"When there are both primary commands and content, the primary commands take precedence and may cause the content to be clipped.","pos":[10217,10344]},{"content":"When the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ClosedDisplayMode<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.closeddisplaymode.aspx)</ept> is <bpt id=\"p3\">**</bpt>Compact<ept id=\"p3\">**</ept>, the content can be clipped if it is larger than the compact size of the command bar.","pos":[10347,10589]},{"content":"You should handle the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Opening<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.opening.aspx)</ept> and <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Closed<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.closed.aspx)</ept> events to show or hide parts of the UI in the content area so that they aren't clipped.","pos":[10590,10927]},{"content":"See the <bpt id=\"p1\">[</bpt>Open and closed states<ept id=\"p1\">](#open-and-closed-states)</ept> section for more info.","pos":[10928,11008]},{"content":"Open and closed states","pos":[11013,11035]},{"content":"The command bar can be open or closed.","pos":[11037,11075]},{"content":"A user can switch between these states by pressing the \"see more\" <ph id=\"ph1\">\\[</ph>•••<ph id=\"ph2\">\\]</ph> button.","pos":[11076,11157]},{"content":"You can switch between them programmatically by setting the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>IsOpen<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.isopen.aspx)</ept> property.","pos":[11158,11338]},{"content":"When open, the primary command buttons are shown with text labels and the overflow menu is open if secondary commands are present, as shown previously.","pos":[11339,11490]},{"pos":[11492,12023],"content":"You can use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Opening<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.opening.aspx)</ept>, <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Opened<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.opened.aspx)</ept>, <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>Closing<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.closing.aspx)</ept>, and <bpt id=\"p7\">[</bpt><bpt id=\"p8\">**</bpt>Closed<ept id=\"p8\">**</ept><ept id=\"p7\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.closed.aspx)</ept> events to respond to the command bar being opened or closed."},{"content":"The Opening and Closing events occur before the transition animation begins.","pos":[12028,12104]},{"content":"The Opened and Closed events occur after the transition completes.","pos":[12107,12173]},{"content":"In this example, the Opening and Closing events are used to change the opacity of the command bar.","pos":[12175,12273]},{"content":"When the command bar is closed, it's semi-transparent so the app background shows through.","pos":[12274,12364]},{"content":"When the command bar is opened, the command bar is made opaque so the user can focus on the commands.","pos":[12365,12466]},{"content":"ClosedDisplayMode","pos":[13091,13108]},{"content":"You can control how the command bar is shown in its closed state by setting the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ClosedDisplayMode<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.closeddisplaymode.aspx)</ept> property.","pos":[13110,13332]},{"content":"There are 3 closed display modes to choose from:","pos":[13333,13381]},{"content":"<bpt id=\"p1\">**</bpt>Compact<ept id=\"p1\">**</ept>: The default mode.","pos":[13384,13414]},{"content":"Shows content, primary command icons without labels, and the \"see more\" <ph id=\"ph1\">\\[</ph>•••<ph id=\"ph2\">\\]</ph> button.","pos":[13415,13502]},{"content":"<bpt id=\"p1\">**</bpt>Minimal<ept id=\"p1\">**</ept>: Shows only a thin bar that acts as the \"see more\" <ph id=\"ph1\">\\[</ph>•••<ph id=\"ph2\">\\]</ph> button.","pos":[13505,13583]},{"content":"The user can press anywhere on the bar to open it.","pos":[13584,13634]},{"content":"<bpt id=\"p1\">**</bpt>Hidden<ept id=\"p1\">**</ept>: The command bar is not shown when it's closed.","pos":[13637,13695]},{"content":"This can be useful for showing contextual commands with an inline command bar.","pos":[13696,13774]},{"content":"In this case, you must open the command bar programmatically by setting the <bpt id=\"p1\">**</bpt>IsOpen<ept id=\"p1\">**</ept> property or changing the ClosedDisplayMode to <bpt id=\"p2\">**</bpt>Minimal<ept id=\"p2\">**</ept> or <bpt id=\"p3\">**</bpt>Compact<ept id=\"p3\">**</ept>.","pos":[13775,13935]},{"content":"Here, a command bar is used to hold simple formatting commands for a <bpt id=\"p1\">[</bpt>RichEditBox<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.richeditbox.aspx)</ept>.","pos":[13937,14116]},{"content":"When the edit box doesn't have focus, the formatting commands can be distracting, so they're hidden.","pos":[14117,14217]},{"content":"When the edit box is being used, the command bar's ClosedDisplayMode is changed to Compact so the formatting commands are visible.","pos":[14218,14348]},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>The implementation of the editing commands is beyond the scope of this example.","pos":[15203,15302]},{"content":"For more info, see the <bpt id=\"p1\">[</bpt>RichEditBox<ept id=\"p1\">](rich-edit-box.md)</ept> article.","pos":[15303,15366]},{"content":"Although the Minimal and Hidden modes are useful in some situations, keep in mind that hiding all actions could confuse users.","pos":[15368,15494]},{"content":"Changing the ClosedDisplayMode to provide more or less of a hint to the user affects the layout of surrounding elements.","pos":[15496,15616]},{"content":"In contrast, when the CommandBar transitions between closed and open, it does not affect the layout of other elements.","pos":[15617,15735]},{"content":"IsSticky","pos":[15741,15749]},{"content":"After opening the command bar, if the user interacts with the app anywhere outside of the control then by default the overflow menu is dismissed and the labels are hidden.","pos":[15751,15922]},{"content":"Closing it in this way is called <bpt id=\"p1\">*</bpt>light dismiss<ept id=\"p1\">*</ept>.","pos":[15923,15972]},{"content":"You can control how the bar is dismissed by setting the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>IsSticky<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.issticky.aspx)</ept> property.","pos":[15973,16153]},{"content":"When the bar is sticky (<ph id=\"ph1\">`IsSticky=\"true\"`</ph>), it's not closed by a light dismiss gesture.","pos":[16154,16241]},{"content":"The bar remains open until the user presses the \"see more\" <ph id=\"ph1\">\\[</ph>•••<ph id=\"ph2\">\\]</ph> button or, if present, selects an item from the overflow menu.","pos":[16242,16371]},{"content":"Do's and don'ts","pos":[16376,16391]},{"content":"Placement","pos":[16397,16406]},{"content":"Command bars can be placed at the top of the app window, at the bottom of the app window, and inline.","pos":[16408,16509]},{"content":"Example 1 of app bar placement","pos":[16513,16543]},{"content":"For small handheld devices, we recommend positioning command bars at the bottom of the screen for easy reachability.","pos":[16590,16706]},{"content":"For devices with larger screens, if you're placing just one command bar, we recommend placing it near the top of the window.","pos":[16711,16835]},{"content":"Use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>DiagonalSizeInInches<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/windows.graphics.display.displayinformation.diagonalsizeininches.aspx)</ept> API to determine physical screen size.","pos":[16836,17028]},{"content":"Command bars can be placed in the following screen regions on single-view screens (left example) and on multi-view screens (right example).","pos":[17030,17169]},{"content":"Inline command bars can be placed anywhere in the action space.","pos":[17170,17233]},{"content":"Example 2 of app bar placement","pos":[17237,17267]},{"content":"<bpt id=\"p1\">**</bpt>Touch devices<ept id=\"p1\">**</ept>: If the command bar must remain visible to a user when the touch keyboard, or Soft Input Panel (SIP), appears then you can assign the command bar to the <ph id=\"ph1\">`BottomAppBar`</ph> property of a Page and it will move to remain visible when the SIP is present.","pos":[17311,17575]},{"content":"Otherwise, you should place the command bar inline and positioned relative to your app content.","pos":[17576,17671]},{"content":"Actions","pos":[17677,17684]},{"content":"Prioritize the actions that go in the command bar based on their visibility.","pos":[17686,17762]},{"content":"Place the most important commands, the ones that you want to remain visible in the bar, in the first few slots of the action space.","pos":[17768,17899]},{"content":"On the smallest screens (320 epx width), between 2-4 items will fit in the command bar's action space, depending on other on-screen UI.","pos":[17900,18035]},{"content":"Place less-important commands later in the bar's action space or within the first few slots of the overflow area.","pos":[18040,18153]},{"content":"These commands will be visible when the bar has enough screen real estate, but will fall into the overflow area's drop-down menu when there isn't enough room.","pos":[18154,18312]},{"content":"Place the least-important commands within the overflow area.","pos":[18317,18377]},{"content":"These commands will always appear in the drop-down menu.","pos":[18378,18434]},{"content":"If there is a command that would appear consistently across pages, it's best to keep that command in a consistent location.","pos":[18436,18559]},{"content":"We recommended placing Accept, Yes, and OK commands to the left of Reject, No, and Cancel.","pos":[18560,18650]},{"content":"Consistency gives users the confidence to move around the system and helps them transfer their knowledge of app navigation from app to app.","pos":[18651,18790]},{"content":"Although you can place all actions within the overflow area so that only the \"see more\" <ph id=\"ph1\">\\[</ph>•••<ph id=\"ph2\">\\]</ph> button is visible on the command bar, keep in mind that hiding all actions could confuse users.","pos":[18792,18983]},{"content":"Command bar flyouts","pos":[18989,19008]},{"content":"Consider logical groupings for the commands, such as placing Reply, Reply All, and Forward in a Respond menu.","pos":[19010,19119]},{"content":"While typically an app bar button activates a single command, an app bar button can be used to show a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>MenuFlyout<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.menuflyout.aspx)</ept> or <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Flyout<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.flyout.aspx)</ept> with custom content.","pos":[19120,19451]},{"content":"Example of flyouts on a command bar","pos":[19455,19490]},{"content":"Overflow menu","pos":[19534,19547]},{"content":"Example of command bar with \"More\" area","pos":[19551,19590]},{"content":"The overflow menu is represented by the \"see more\" <ph id=\"ph1\">\\[</ph>•••<ph id=\"ph2\">\\]</ph> button, the visible entry point for the menu.","pos":[19639,19743]},{"content":"It's on the far-right of the toolbar, adjacent to primary actions.","pos":[19744,19810]},{"content":"The overflow area is allocated for actions that are less frequently used.","pos":[19815,19888]},{"content":"Actions can come and go between the primary action space and the overflow menu at breakpoints.","pos":[19893,19987]},{"content":"You can also designate actions to always remain in the primary action space regardless of screen or app window size.","pos":[19988,20104]},{"content":"Infrequently used actions can remain in the overflow menu even when the app bar is expanded on larger screens.","pos":[20109,20219]},{"content":"Adaptability","pos":[20224,20236]},{"content":"The same number of actions in the app bar should be visible in both portrait and landscape orientation, which reduces the user's cognitive load.","pos":[20242,20386]},{"content":"The number of actions available should be determined by the device's width in portrait orientation.","pos":[20387,20486]},{"content":"On small screens that are likely to be used one-handed, app bars should be positioned near the bottom of the screen.","pos":[20491,20607]},{"content":"On larger screens, placing app bars closer to the top of the window makes them more noticeable and discoverable.","pos":[20612,20724]},{"content":"By targeting breakpoints, you can move actions in and out of the menu as the window size changes.","pos":[20729,20826]},{"content":"By targeting screen diagonal, you can modify app bar position based on device screen size.","pos":[20831,20921]},{"content":"Consider moving labels to the right of app bar button icons to improve legibility.","pos":[20926,21008]},{"content":"Labels on the bottom require users to open the command bar to reveal labels, while labels on the right are visible even when command bar is closed.","pos":[21009,21156]},{"content":"This optimization works well on larger windows.","pos":[21157,21204]},{"content":"Related articles","pos":[21209,21225]},{"pos":[21227,21339],"content":"<bpt id=\"p1\">**</bpt>For designers<ept id=\"p1\">**</ept><ph id=\"ph1\">\n</ph><bpt id=\"p2\">[</bpt>Command design basics for UWP apps<ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/dn958433)</ept>"},{"pos":[21341,21441],"content":"<bpt id=\"p1\">**</bpt>For developers (XAML)<ept id=\"p1\">**</ept><ph id=\"ph1\">\n</ph><bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>CommandBar<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/dn279427)</ept>"}],"content":"---\nauthor: Jwmsft\nlabel: App bars/command bars\ntemplate: detail.hbs\n---\n\n# App bar and command bar\n\nCommand bars (also called \"app bars\") provide users with easy access to your app's most common tasks, and can be used to show commands or options that are specific to the user's context, such as a photo selection or drawing mode. They can also be used for navigation among app pages or between app sections. Command bars can be used with any navigation pattern.\n\n![Example of a command bar with icons](images/controls_appbar_icons.png)\n\n<span class=\"sidebar_heading\" style=\"font-weight: bold;\">Important APIs</span>\n\n-   [**CommandBar **](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.commandbar.aspx)\n-   [**AppBarButton**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.appbarbutton.aspx)\n-   [**AppBarToggleButton**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.appbartogglebutton.aspx)\n-   [**AppBarSeparator**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.appbarseparator.aspx)\n\n## Is this the right control\n\nThe CommandBar control is a general-purpose, flexible, light-weight control that can display both complex content, such as images or text blocks, as well as simple commands such as [AppBarButton](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.appbarbutton.aspx), [AppBarToggleButton](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.appbartogglebutton.aspx), and [AppBarSeparator](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.appbarseparator.aspx) controls.\n\nXAML provides both the AppBar control and the CommandBar control. You should use the AppBar only when you are upgrading a Universal Windows 8 app that uses the AppBar, and need to minimize changes. For new apps in Windows 10, we recommend using the CommandBar control instead. This document assumes you are using the CommandBar control.\n\n## Examples\nAn expanded command bar in the Microsoft Photos app.\n\n![Command bar in Microsoft Photos app](images/control-examples/command-bar-photos.png)\n\nA command bar in the Outlook Calendar on Windows Phone.\n\n![Command bar in Outlook Calendar app](images/control-examples/command-bar-calendar-phone.png)\n\n## Anatomy\n\nBy default, the command bar shows a row of icon buttons and an optional \"see more\" button, which is represented by an ellipsis \\[•••\\]. Here's the command bar created by the example code shown later. It's shown in its closed compact state.\n\n![A closed command bar](images/command-bar-compact.png)\n\nThe command bar can also be shown in a closed minimal state that looks like this. See the [Open and closed states](#open-and-closed-states) section for more info.\n\n![A closed command bar](images/command-bar-minimal.png)\n\nHere's the same command bar in its open state. The labels identify the main parts of the control.\n\n![A closed command bar](images/commandbar_anatomy_open.png)\n\nThe command bar is divided into 4 main areas:\n- The \"see more\" \\[•••\\] button is shown on the right of the bar. Pressing the \"see more\" \\[•••\\] button has 2 effects: it reveals the labels on the primary command buttons, and it opens the overflow menu if any secondary commands are present. The button will not be visible when no secondary commands and no hidden labels are present. [`OverflowButtonVisibility`](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.commandbar.overflowbuttonvisibility.aspx) property allows apps to change this default auto-hide behavior.\n- The content area is aligned to the left side of the bar. It is shown if the `Content` property is populated.\n- The primary command area is aligned to the right side of the bar, next to the \"see more\" \\[•••\\] button. It is shown if the `PrimaryCommands` property is populated.  \n- The overflow menu is shown only when the command bar is open and the `SecondaryCommands` property is populated. \n\nThe layout is reversed when the [FlowDirection]() is **RightToLeft**.\n\n## Create a command bar\nThis example creates the command bar shown previously.\n\n```xaml\n<CommandBar>\n    <AppBarToggleButton Icon=\"Shuffle\" Label=\"Shuffle\" Click=\"AppBarButton_Click\" />\n    <AppBarToggleButton Icon=\"RepeatAll\" Label=\"Repeat\" Click=\"AppBarButton_Click\"/>\n    <AppBarSeparator/>\n    <AppBarButton Icon=\"Back\" Label=\"Back\" Click=\"AppBarButton_Click\"/>\n    <AppBarButton Icon=\"Stop\" Label=\"Stop\" Click=\"AppBarButton_Click\"/>\n    <AppBarButton Icon=\"Play\" Label=\"Play\" Click=\"AppBarButton_Click\"/>\n    <AppBarButton Icon=\"Forward\" Label=\"Forward\" Click=\"AppBarButton_Click\"/>\n\n    <CommandBar.SecondaryCommands>\n        <AppBarButton Icon=\"Like\" Label=\"Like\" Click=\"AppBarButton_Click\"/>\n        <AppBarButton Icon=\"Dislike\" Label=\"Dislike\" Click=\"AppBarButton_Click\"/>\n    </CommandBar.SecondaryCommands>\n\n    <CommandBar.Content>\n        <TextBlock Text=\"Now playing...\" Margin=\"12,14\"/>\n    </CommandBar.Content>\n</CommandBar>\n```\n\n## Commands and content\nThe CommandBar control has 3 properties you can use to add commands and content: [**PrimaryCommands**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.commandbar.primarycommands.aspx), [**SecondaryCommands**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.commandbar.secondarycommands.aspx), and [**Content**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.contentcontrol.content.aspx).\n\n\n### Primary actions and overflow\n\nBy default, items you add to the command bar are added to the **PrimaryCommands** collection. These commands are shown to the left of the \"see more\" \\[•••\\] button, in what we call the action space. Place the most important commands, the ones that you want to remain visible in the bar, in the action space. On the smallest screens (320 epx width), a maximum of 4 items will fit in the command bar's action space.\n\nYou can add commands to the **SecondaryCommands** collection, and these items are shown in the overflow area. Place less important commands within the overflow area.\n\nThe default overflow area is styled to be distinct from the bar. You can adjust the styling by setting the [**CommandBarOverflowPresenterStyle**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.commandbar.commandbaroverflowpresenterstyle.aspx) property to a [Style](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.style.aspx) that targets the [**CommandBarOverflowPresenter**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.commandbaroverflowpresenter.aspx).\n\nYou can programmatically move commands between the PrimaryCommands and SecondaryCommands as needed. \n\n### App bar buttons\n\nBoth the PrimaryCommands and SecondaryCommands can be populated only with [**AppBarButton**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbarbutton.aspx), [**AppBarToggleButton**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbartogglebutton.aspx), and [**AppBarSeparator**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbarseparator.aspx) command elements. These controls are optimized for use in a command bar, and their appearance changes depending on whether the control is used in the action space or overflow area.\n\nThe app bar button controls are characterized by an icon and associated label. They have two sizes; normal and compact. By default, the text label is shown. When the [**IsCompact**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbarbutton.iscompact.aspx) property is set to **true**, the text label is hidden. When used in a CommandBar control, the command bar overwrites the button's IsCompact property automatically as the command bar is opened and closed.\n\nTo position app bar button labels to the right of their icons, apps can use CommandBar's new [`DefaultLabelPosition`](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.commandbar.defaultlabelposition.aspx) property. Individual app bar buttons cannot move their label position, this must be done on the command bar as a whole.\n```xaml\n<CommandBar DefaultLabelPosition=\"Right\">\n    <AppBarToggleButton Icon=\"Shuffle\" Label=\"Shuffle\"/>\n    <AppBarToggleButton Icon=\"RepeatAll\" Label=\"Repeat\"/>\n</CommandBar>\n```\n\nHere is what the code snippet above looks like when drawn by an app.\n\n![Command bar with labels on the right](images/app-bar-labels-on-right.png)\n\nWhen you place an app bar button in the overflow menu (SecondaryCommands), it's shown as text only. Here's the same app bar toggle button shown in the action space as a primary command (top), and in the overflow area as a secondary command (bottom).\n\n![App bar button as primary and secondary command](images/app-bar-toggle-button-two-modes.png)\n\n- *If there is a command that would appear consistently across pages, it's best to keep that command in a consistent location.*\n- *We recommended placing Accept, Yes, and OK commands to the left of Reject, No, and Cancel. Consistency gives users the confidence to move around the system and helps them transfer their knowledge of app navigation from app to app.*\n\n### Button labels\n\nWe recommend keeping app bar button labels short, preferably a single word. Longer labels positioned bellow an app bar button's icon will wrap to multiple lines thus increasing the overall height of the opened command bar. You can include a soft-hyphen character (0x00AD) in the text for a label to hint at the character boundary where a word break should occur. In XAML, you express this using an escape sequence, like this:\n\n```xaml\n<AppBarButton Icon=\"Back\" Label=\"Areally&#x00AD;longlabel\"/>\n```\n\nWhen the label wraps at the hinted location, it looks like this.\n\n![App bar button with wrapping label](images/app-bar-button-label-wrap.png)\n\n### Other content\n\nYou can add any XAML elements to the content area by setting the **Content** property. If you want to add more than one element, you need to place them in a panel container and make the panel the single child of the Content property.\n\nWhen there are both primary commands and content, the primary commands take precedence and may cause the content to be clipped. \n\nWhen the [**ClosedDisplayMode**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.closeddisplaymode.aspx) is **Compact**, the content can be clipped if it is larger than the compact size of the command bar. You should handle the [**Opening**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.opening.aspx) and [**Closed**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.closed.aspx) events to show or hide parts of the UI in the content area so that they aren't clipped. See the [Open and closed states](#open-and-closed-states) section for more info.\n\n## Open and closed states\n\nThe command bar can be open or closed. A user can switch between these states by pressing the \"see more\" \\[•••\\] button. You can switch between them programmatically by setting the [**IsOpen**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.isopen.aspx) property. When open, the primary command buttons are shown with text labels and the overflow menu is open if secondary commands are present, as shown previously.\n\nYou can use the [**Opening**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.opening.aspx), [**Opened**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.opened.aspx), [**Closing**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.closing.aspx), and [**Closed**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.closed.aspx) events to respond to the command bar being opened or closed.  \n- The Opening and Closing events occur before the transition animation begins.\n- The Opened and Closed events occur after the transition completes.\n\nIn this example, the Opening and Closing events are used to change the opacity of the command bar. When the command bar is closed, it's semi-transparent so the app background shows through. When the command bar is opened, the command bar is made opaque so the user can focus on the commands.\n\n```xaml\n<CommandBar Opening=\"CommandBar_Opening\"\n            Closing=\"CommandBar_Closing\">\n    <AppBarButton Icon=\"Accept\" Label=\"Accept\"/>\n    <AppBarButton Icon=\"Edit\" Label=\"Edit\"/>\n    <AppBarButton Icon=\"Save\" Label=\"Save\"/>\n    <AppBarButton Icon=\"Cancel\" Label=\"Cancel\"/>\n</CommandBar>\n```\n\n```csharp\nprivate void CommandBar_Opening(object sender, object e)\n{\n    CommandBar cb = sender as CommandBar;\n    if (cb != null) cb.Background.Opacity = 1.0;\n}\n\nprivate void CommandBar_Closing(object sender, object e)\n{\n    CommandBar cb = sender as CommandBar;\n    if (cb != null) cb.Background.Opacity = 0.5;\n}\n\n```\n\n### ClosedDisplayMode\n\nYou can control how the command bar is shown in its closed state by setting the [**ClosedDisplayMode**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.closeddisplaymode.aspx) property. There are 3 closed display modes to choose from:\n- **Compact**: The default mode. Shows content, primary command icons without labels, and the \"see more\" \\[•••\\] button.\n- **Minimal**: Shows only a thin bar that acts as the \"see more\" \\[•••\\] button. The user can press anywhere on the bar to open it.\n- **Hidden**: The command bar is not shown when it's closed. This can be useful for showing contextual commands with an inline command bar. In this case, you must open the command bar programmatically by setting the **IsOpen** property or changing the ClosedDisplayMode to **Minimal** or **Compact**.\n\nHere, a command bar is used to hold simple formatting commands for a [RichEditBox](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.richeditbox.aspx). When the edit box doesn't have focus, the formatting commands can be distracting, so they're hidden. When the edit box is being used, the command bar's ClosedDisplayMode is changed to Compact so the formatting commands are visible.\n\n```xaml\n<StackPanel Width=\"300\"\n            GotFocus=\"EditStackPanel_GotFocus\"\n            LostFocus=\"EditStackPanel_LostFocus\">\n    <CommandBar x:Name=\"FormattingCommandBar\" ClosedDisplayMode=\"Hidden\">\n        <AppBarButton Icon=\"Bold\" Label=\"Bold\" ToolTipService.ToolTip=\"Bold\"/>\n        <AppBarButton Icon=\"Italic\" Label=\"Italic\" ToolTipService.ToolTip=\"Italic\"/>\n        <AppBarButton Icon=\"Underline\" Label=\"Underline\" ToolTipService.ToolTip=\"Underline\"/>\n    </CommandBar>\n    <RichEditBox Height=\"200\"/>\n</StackPanel>\n```\n\n```csharp\nprivate void EditStackPanel_GotFocus(object sender, RoutedEventArgs e)\n{\n    FormattingCommandBar.ClosedDisplayMode = AppBarClosedDisplayMode.Compact;\n}\n\nprivate void EditStackPanel_LostFocus(object sender, RoutedEventArgs e)\n{\n    FormattingCommandBar.ClosedDisplayMode = AppBarClosedDisplayMode.Hidden;\n}\n```\n\n>**Note**&nbsp;&nbsp;The implementation of the editing commands is beyond the scope of this example. For more info, see the [RichEditBox](rich-edit-box.md) article.\n\nAlthough the Minimal and Hidden modes are useful in some situations, keep in mind that hiding all actions could confuse users.\n\nChanging the ClosedDisplayMode to provide more or less of a hint to the user affects the layout of surrounding elements. In contrast, when the CommandBar transitions between closed and open, it does not affect the layout of other elements.\n\n### IsSticky\n\nAfter opening the command bar, if the user interacts with the app anywhere outside of the control then by default the overflow menu is dismissed and the labels are hidden. Closing it in this way is called *light dismiss*. You can control how the bar is dismissed by setting the [**IsSticky**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.appbar.issticky.aspx) property. When the bar is sticky (`IsSticky=\"true\"`), it's not closed by a light dismiss gesture. The bar remains open until the user presses the \"see more\" \\[•••\\] button or, if present, selects an item from the overflow menu.\n\n## Do's and don'ts\n\n### Placement\n\nCommand bars can be placed at the top of the app window, at the bottom of the app window, and inline.\n\n![Example 1 of app bar placement](images/AppbarGuidelines_Placement1.png)\n\n-   For small handheld devices, we recommend positioning command bars at the bottom of the screen for easy reachability.\n-   For devices with larger screens, if you're placing just one command bar, we recommend placing it near the top of the window.\nUse the [**DiagonalSizeInInches**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.display.displayinformation.diagonalsizeininches.aspx) API to determine physical screen size.\n\nCommand bars can be placed in the following screen regions on single-view screens (left example) and on multi-view screens (right example). Inline command bars can be placed anywhere in the action space.\n\n![Example 2 of app bar placement](images/AppbarGuidelines_Placement2.png)\n\n>**Touch devices**: If the command bar must remain visible to a user when the touch keyboard, or Soft Input Panel (SIP), appears then you can assign the command bar to the `BottomAppBar` property of a Page and it will move to remain visible when the SIP is present. Otherwise, you should place the command bar inline and positioned relative to your app content.\n\n### Actions\n\nPrioritize the actions that go in the command bar based on their visibility.\n\n-   Place the most important commands, the ones that you want to remain visible in the bar, in the first few slots of the action space. On the smallest screens (320 epx width), between 2-4 items will fit in the command bar's action space, depending on other on-screen UI.\n-   Place less-important commands later in the bar's action space or within the first few slots of the overflow area. These commands will be visible when the bar has enough screen real estate, but will fall into the overflow area's drop-down menu when there isn't enough room.\n-   Place the least-important commands within the overflow area. These commands will always appear in the drop-down menu.\n\nIf there is a command that would appear consistently across pages, it's best to keep that command in a consistent location. We recommended placing Accept, Yes, and OK commands to the left of Reject, No, and Cancel. Consistency gives users the confidence to move around the system and helps them transfer their knowledge of app navigation from app to app.\n\nAlthough you can place all actions within the overflow area so that only the \"see more\" \\[•••\\] button is visible on the command bar, keep in mind that hiding all actions could confuse users.\n\n### Command bar flyouts\n\nConsider logical groupings for the commands, such as placing Reply, Reply All, and Forward in a Respond menu. While typically an app bar button activates a single command, an app bar button can be used to show a [**MenuFlyout**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.menuflyout.aspx) or [**Flyout**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.flyout.aspx) with custom content.\n\n![Example of flyouts on a command bar](images/AppbarGuidelines_Flyouts.png)\n\n### Overflow menu\n\n![Example of command bar with \"More\" area](images/AppbarGuidelines_Illustration.png)\n\n-   The overflow menu is represented by the \"see more\" \\[•••\\] button, the visible entry point for the menu. It's on the far-right of the toolbar, adjacent to primary actions.\n-   The overflow area is allocated for actions that are less frequently used.\n-   Actions can come and go between the primary action space and the overflow menu at breakpoints. You can also designate actions to always remain in the primary action space regardless of screen or app window size.\n-   Infrequently used actions can remain in the overflow menu even when the app bar is expanded on larger screens.\n\n## Adaptability\n\n-   The same number of actions in the app bar should be visible in both portrait and landscape orientation, which reduces the user's cognitive load. The number of actions available should be determined by the device's width in portrait orientation.\n-   On small screens that are likely to be used one-handed, app bars should be positioned near the bottom of the screen.\n-   On larger screens, placing app bars closer to the top of the window makes them more noticeable and discoverable.\n-   By targeting breakpoints, you can move actions in and out of the menu as the window size changes.\n-   By targeting screen diagonal, you can modify app bar position based on device screen size.\n-   Consider moving labels to the right of app bar button icons to improve legibility. Labels on the bottom require users to open the command bar to reveal labels, while labels on the right are visible even when command bar is closed. This optimization works well on larger windows.\n\n## Related articles\n\n**For designers**\n[Command design basics for UWP apps](https://msdn.microsoft.com/library/windows/apps/dn958433)\n\n**For developers (XAML)**\n[**CommandBar**](https://msdn.microsoft.com/library/windows/apps/dn279427)\n"}