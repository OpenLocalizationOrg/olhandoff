{"nodes":[{"content":"Out-of-band pairing","pos":[74,93]},{"content":"Out-of-band pairing allows apps to connect to a Point-of-Service peripheral without requiring discovery.","pos":[107,211]},{"content":"Out-of-band pairing","pos":[218,237]},{"content":"Out-of-band pairing allows apps to connect to a Point-of-Service peripheral without requiring discovery.","pos":[239,343]},{"content":"Apps must use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Windows.Devices.PointOfService<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/windows.devices.pointofservice.aspx)</ept> namespace and pass in a specifically formatted string (out-of-band blob) to the appropriate <bpt id=\"p3\">**</bpt>FromIdAsync<ept id=\"p3\">**</ept> method for the desired peripheral.","pos":[344,626]},{"content":"When <bpt id=\"p1\">**</bpt>FromIdAsync<ept id=\"p1\">**</ept> is executed, the host device pairs and connects to the peripheral before the operation returns to the caller.","pos":[627,757]},{"content":"Out-of-band blob format","pos":[762,785]},{"content":"<bpt id=\"p1\">**</bpt>connectionKind<ept id=\"p1\">**</ept> - The type of connection.","pos":[1090,1134]},{"content":"Valid values are \"Network\" and \"Bluetooth\".","pos":[1135,1178]},{"content":"<bpt id=\"p1\">**</bpt>physicalAddress<ept id=\"p1\">**</ept> - The MAC address of the peripheral.","pos":[1180,1236]},{"content":"For example, in case of a network printer, this would be the MAC address that is provided by the printer test sheet in AA:BB:CC:DD:EE:FF format.","pos":[1237,1381]},{"content":"<bpt id=\"p1\">**</bpt>connectionString<ept id=\"p1\">**</ept> - The connection string of the peripheral.","pos":[1383,1446]},{"content":"For example, in the case of a network printer, this would be the IP address provided by the printer test sheet in 192.168.1.1:9001 format.","pos":[1447,1585]},{"content":"This field is omitted for all Bluetooth peripherals.","pos":[1586,1638]},{"content":"<bpt id=\"p1\">**</bpt>peripheralKinds<ept id=\"p1\">**</ept> - The GUID for the device type.","pos":[1640,1691]},{"content":"Valid values are:","pos":[1692,1709]},{"content":"Device type","pos":[1713,1724]},{"content":"GUID","pos":[1727,1731]},{"content":"POS printer","pos":[1753,1764]},{"content":"C7BC9B22-21F0-4F0D-9BB6-66C229B8CD33","pos":[1768,1804]},{"content":"Barcode scanner","pos":[1810,1825]},{"content":"C243FFBD-3AFC-45E9-B3D3-2BA18BC7EBC5","pos":[1829,1865]},{"content":"Cash drawer","pos":[1871,1882]},{"content":"772E18F2-8925-4229-A5AC-6453CB482FDA","pos":[1886,1922]},{"content":"<bpt id=\"p1\">**</bpt>providerId<ept id=\"p1\">**</ept> - The GUID for the protocol provider class.","pos":[1927,1985]},{"content":"Valid values are:","pos":[1986,2003]},{"content":"Protocol provider class","pos":[2007,2030]},{"content":"GUID","pos":[2033,2037]},{"content":"Generic ESC/POS network printer","pos":[2059,2090]},{"content":"02FFF12E-7291-4A5D-ADFA-DA8FB7769CD2","pos":[2094,2130]},{"content":"Generic ESC/POS BT printer","pos":[2136,2162]},{"content":"CCD5B810-95B9-4320-BA7E-78C223CAF418","pos":[2166,2202]},{"content":"Epson BT printer","pos":[2208,2224]},{"content":"94917594-544F-4AF8-B53B-EC6D9F8A4464","pos":[2228,2264]},{"content":"Epson network printer","pos":[2270,2291]},{"content":"9F0F8BE3-4E59-4520-BFBA-AF77614A31CE","pos":[2295,2331]},{"content":"Star network printer","pos":[2337,2357]},{"content":"1E3A32C2-F411-4B8C-AC91-CC2C5FD21996","pos":[2361,2397]},{"content":"Socket BT scanner","pos":[2403,2420]},{"content":"6E7C8178-A006-405E-85C3-084244885AD2","pos":[2424,2460]},{"content":"APG network drawer","pos":[2466,2484]},{"content":"E619E2FE-9489-4C74-BF57-70AED670B9B0","pos":[2488,2524]},{"content":"APG BT drawer","pos":[2530,2543]},{"content":"332E6550-2E01-42EB-9401-C6A112D80185","pos":[2547,2583]},{"content":"<bpt id=\"p1\">**</bpt>providerName<ept id=\"p1\">**</ept> - The name of the provider DLL.","pos":[2588,2636]},{"content":"The default providers are:","pos":[2637,2663]},{"content":"Provider","pos":[2667,2675]},{"content":"DLL name","pos":[2678,2686]},{"content":"Printer","pos":[2707,2714]},{"content":"PrinterProtocolProvider.dll","pos":[2717,2744]},{"content":"Cash drawer","pos":[2749,2760]},{"content":"CashDrawerProtocolProvider.dll","pos":[2763,2793]},{"content":"Scanner","pos":[2798,2805]},{"content":"BarcodeScannerProtocolProvider.dll","pos":[2808,2842]},{"content":"Usage example: Network printer","pos":[2849,2879]},{"content":"Usage example: Bluetooth printer","pos":[3321,3353]}],"content":"---\nauthor: IvorB\nms.assetid: E9ADC88F-BD4F-4721-8893-0E19EA94C8BA\ntitle: Out-of-band pairing\ndescription: Out-of-band pairing allows apps to connect to a Point-of-Service peripheral without requiring discovery.\n---\n# Out-of-band pairing\n\nOut-of-band pairing allows apps to connect to a Point-of-Service peripheral without requiring discovery. Apps must use the [**Windows.Devices.PointOfService**](https://msdn.microsoft.com/library/windows/apps/windows.devices.pointofservice.aspx) namespace and pass in a specifically formatted string (out-of-band blob) to the appropriate **FromIdAsync** method for the desired peripheral. When **FromIdAsync** is executed, the host device pairs and connects to the peripheral before the operation returns to the caller.\n\n## Out-of-band blob format\n\n```json\n    \"connectionKind\":\"Network\",\n    \"physicalAddress\":\"AA:BB:CC:DD:EE:FF\",\n    \"connectionString\":\"192.168.1.1:9001\",\n    \"peripheralKinds\":\"{C7BC9B22-21F0-4F0D-9BB6-66C229B8CD33}\",\n    \"providerId\":\"{02FFF12E-7291-4A5D-ADFA-DA8FB7769CD2}\",\n    \"providerName\":\"PrinterProtocolProvider.dll\"\n```\n\n**connectionKind** - The type of connection. Valid values are \"Network\" and \"Bluetooth\".\n\n**physicalAddress** - The MAC address of the peripheral. For example, in case of a network printer, this would be the MAC address that is provided by the printer test sheet in AA:BB:CC:DD:EE:FF format.\n\n**connectionString** - The connection string of the peripheral. For example, in the case of a network printer, this would be the IP address provided by the printer test sheet in 192.168.1.1:9001 format. This field is omitted for all Bluetooth peripherals.\n\n**peripheralKinds** - The GUID for the device type. Valid values are:\n\n| Device type | GUID |\n| ---- | ---- |\n| *POS printer* | C7BC9B22-21F0-4F0D-9BB6-66C229B8CD33 |\n| *Barcode scanner* | C243FFBD-3AFC-45E9-B3D3-2BA18BC7EBC5 |\n| *Cash drawer* | 772E18F2-8925-4229-A5AC-6453CB482FDA |\n\n\n**providerId** - The GUID for the protocol provider class. Valid values are:\n\n| Protocol provider class | GUID |\n| ---- | ---- |\n| *Generic ESC/POS network printer* | 02FFF12E-7291-4A5D-ADFA-DA8FB7769CD2 |\n| *Generic ESC/POS BT printer* | CCD5B810-95B9-4320-BA7E-78C223CAF418 |\n| *Epson BT printer* | 94917594-544F-4AF8-B53B-EC6D9F8A4464 |\n| *Epson network printer* | 9F0F8BE3-4E59-4520-BFBA-AF77614A31CE |\n| *Star network printer* | 1E3A32C2-F411-4B8C-AC91-CC2C5FD21996 |\n| *Socket BT scanner* | 6E7C8178-A006-405E-85C3-084244885AD2 |\n| *APG network drawer* | E619E2FE-9489-4C74-BF57-70AED670B9B0 |\n| *APG BT drawer* | 332E6550-2E01-42EB-9401-C6A112D80185 |\n\n\n**providerName** - The name of the provider DLL. The default providers are:\n\n| Provider | DLL name |\n| ---- | ---- |\n| Printer | PrinterProtocolProvider.dll |\n| Cash drawer | CashDrawerProtocolProvider.dll |\n| Scanner | BarcodeScannerProtocolProvider.dll |\n\n## Usage example: Network printer\n\n```csharp\nString oobBlobNetworkPrinter =\n  \"{\\\"connectionKind\\\":\\\"Network\\\",\" +\n  \"\\\"physicalAddress\\\":\\\"AA:BB:CC:DD:EE:FF\\\",\" +\n  \"\\\"connectionString\\\":\\\"192.168.1.1:9001\\\",\" +\n  \"\\\"peripheralKinds\\\":\\\"{C7BC9B22-21F0-4F0D-9BB6-66C229B8CD33}\\\",\" +\n  \"\\\"providerId\\\":\\\"{02FFF12E-7291-4A5D-ADFA-DA8FB7769CD2}\\\",\" +\n  \"\\\"providerName\\\":\\\"PrinterProtocolProvider.dll\\\"}\";\n\nprinter = await PosPrinter.FromIdAsync(oobBlobNetworkPrinter);\n```\n\n## Usage example: Bluetooth printer\n\n```csharp\nstring oobBlobBTPrinter =\n    \"{\\\"connectionKind\\\":\\\"Bluetooth\\\",\" +\n    \"\\\"physicalAddress\\\":\\\"AA:BB:CC:DD:EE:FF\\\",\" +\n    \"\\\"peripheralKinds\\\":\\\"{C7BC9B22-21F0-4F0D-9BB6-66C229B8CD33}\\\",\" +\n    \"\\\"providerId\\\":\\\"{CCD5B810-95B9-4320-BA7E-78C223CAF418}\\\",\" +\n    \"\\\"providerName\\\":\\\"PrinterProtocolProvider.dll\\\"}\";\n\nprinter = await PosPrinter.FromIdAsync(oobBlobBTPrinter);\n\n```\n"}