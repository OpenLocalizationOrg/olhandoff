{"nodes":[{"content":"Learn how to manage issues with speech-recognition accuracy caused by audio-input quality.","pos":[47,137]},{"content":"Manage issues with audio input","pos":[145,175]},{"content":"Manage issues with audio input","pos":[286,316]},{"content":"Learn how to manage issues with speech-recognition accuracy caused by audio-input quality.","pos":[318,408]},{"content":"Important APIs","pos":[412,426]},{"content":"SpeechRecognizer","pos":[437,453]},{"content":"RecognitionQualityDegrading","pos":[522,549]},{"content":"SpeechRecognitionAudioProblem","pos":[618,647]},{"pos":[851,877],"content":"Assess audio-input quality"},{"content":"When speech recognition is active, use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>RecognitionQualityDegrading<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn653243)</ept> event of your speech recognizer to determine whether one or more audio issues might be interfering with speech input.","pos":[880,1132]},{"content":"The event argument (<bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>SpeechRecognitionQualityDegradingEventArgs<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn631430)</ept>) provides the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Problem<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/dn631431)</ept> property, which describes the issues detected with the audio input.","pos":[1133,1413]},{"content":"Recognition can be affected by too much background noise, a muted microphone, and the volume or speed of the speaker.","pos":[1415,1532]},{"pos":[1534,1699],"content":"Here, we configure a speech recognizer and start listening for the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>RecognitionQualityDegrading<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn653243)</ept> event."},{"pos":[3188,3228],"content":"Manage the speech-recognition experience"},{"pos":[3231,3400],"content":"Use the description provided by the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Problem<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn631431)</ept> property to help the user improve conditions for recognition."},{"content":"Here, we create a handler for the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>RecognitionQualityDegrading<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn653243)</ept> event that checks for a low volume level.","pos":[3402,3569]},{"content":"We then use a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>SpeechSynthesizer<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn298152)</ept> object to suggest that the user try speaking louder.","pos":[3570,3718]},{"pos":[4943,4959],"content":"Related articles"},{"content":"Speech interactions","pos":[4965,4984]},{"content":"Samples","pos":[5013,5020]},{"content":"Speech recognition and speech synthesis sample","pos":[5026,5072]}],"content":"---\nauthor: Karl-Bridge-Microsoft\nDescription: Learn how to manage issues with speech-recognition accuracy caused by audio-input quality.\ntitle: Manage issues with audio input\nms.assetid: 3E36C683-C96A-4FEE-AD52-FDB87E0CC299\nlabel: Manage audio input issues\ntemplate: detail.hbs\n---\n\n# Manage issues with audio input\n\nLearn how to manage issues with speech-recognition accuracy caused by audio-input quality.\n\n**Important APIs**\n\n-   [**SpeechRecognizer**](https://msdn.microsoft.com/library/windows/apps/dn653226)\n-   [**RecognitionQualityDegrading**](https://msdn.microsoft.com/library/windows/apps/dn653243)\n-   [**SpeechRecognitionAudioProblem**](https://msdn.microsoft.com/library/windows/apps/dn631406)\n\n\n\n\n## <span id=\"Assess_audio-input_quality\"></span><span id=\"assess_audio-input_quality\"></span><span id=\"ASSESS_AUDIO-INPUT_QUALITY\"></span>Assess audio-input quality\n\n\nWhen speech recognition is active, use the [**RecognitionQualityDegrading**](https://msdn.microsoft.com/library/windows/apps/dn653243) event of your speech recognizer to determine whether one or more audio issues might be interfering with speech input. The event argument ([**SpeechRecognitionQualityDegradingEventArgs**](https://msdn.microsoft.com/library/windows/apps/dn631430)) provides the [**Problem**](https://msdn.microsoft.com/library/windows/apps/dn631431) property, which describes the issues detected with the audio input.\n\nRecognition can be affected by too much background noise, a muted microphone, and the volume or speed of the speaker.\n\nHere, we configure a speech recognizer and start listening for the [**RecognitionQualityDegrading**](https://msdn.microsoft.com/library/windows/apps/dn653243) event.\n\n```CSharp\nprivate async void WeatherSearch_Click(object sender, RoutedEventArgs e)\n{\n    // Create an instance of SpeechRecognizer.\n    var speechRecognizer = new Windows.Media.SpeechRecognition.SpeechRecognizer();\n\n    // Listen for audio input issues.\n    speechRecognizer.RecognitionQualityDegrading += speechRecognizer_RecognitionQualityDegrading;\n\n    // Add a web search grammar to the recognizer.\n    var webSearchGrammar = new Windows.Media.SpeechRecognition.SpeechRecognitionTopicConstraint(Windows.Media.SpeechRecognition.SpeechRecognitionScenario.WebSearch, \"webSearch\");\n\n\n    speechRecognizer.UIOptions.AudiblePrompt = \"Say what you want to search for...\";\n    speechRecognizer.UIOptions.ExampleText = @\"Ex. &#39;weather for London&#39;\";\n    speechRecognizer.Constraints.Add(webSearchGrammar);\n\n    // Compile the constraint.\n    await speechRecognizer.CompileConstraintsAsync();\n\n    // Start recognition.\n    Windows.Media.SpeechRecognition.SpeechRecognitionResult speechRecognitionResult = await speechRecognizer.RecognizeWithUIAsync();\n    //await speechRecognizer.RecognizeWithUIAsync();\n\n    // Do something with the recognition result.\n    var messageDialog = new Windows.UI.Popups.MessageDialog(speechRecognitionResult.Text, \"Text spoken\");\n    await messageDialog.ShowAsync();\n}\n```\n\n## <span id=\"Manage_the_speech-recognition_experience\"></span><span id=\"manage_the_speech-recognition_experience\"></span><span id=\"MANAGE_THE_SPEECH-RECOGNITION_EXPERIENCE\"></span>Manage the speech-recognition experience\n\n\nUse the description provided by the [**Problem**](https://msdn.microsoft.com/library/windows/apps/dn631431) property to help the user improve conditions for recognition.\n\nHere, we create a handler for the [**RecognitionQualityDegrading**](https://msdn.microsoft.com/library/windows/apps/dn653243) event that checks for a low volume level. We then use a [**SpeechSynthesizer**](https://msdn.microsoft.com/library/windows/apps/dn298152) object to suggest that the user try speaking louder.\n\n```CSharp\nprivate async void speechRecognizer_RecognitionQualityDegrading(\n    Windows.Media.SpeechRecognition.SpeechRecognizer sender,\n    Windows.Media.SpeechRecognition.SpeechRecognitionQualityDegradingEventArgs args)\n{\n    // Create an instance of a speech synthesis engine (voice).\n    var speechSynthesizer =\n        new Windows.Media.SpeechSynthesis.SpeechSynthesizer();\n\n    // If input speech is too quiet, prompt the user to speak louder.\n    if (args.Problem == Windows.Media.SpeechRecognition.SpeechRecognitionAudioProblem.TooQuiet)\n    {\n        // Generate the audio stream from plain text.\n        Windows.Media.SpeechSynthesis.SpeechSynthesisStream stream;\n        try\n        {\n            stream = await speechSynthesizer.SynthesizeTextToStreamAsync(\"Try speaking louder\");\n            stream.Seek(0);\n        }\n        catch (Exception)\n        {\n            stream = null;\n        }\n\n        // Send the stream to the MediaElement declared in XAML.\n        await CoreApplication.MainView.CoreWindow.Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.High, () =>\n        {\n            this.media.SetSource(stream, stream.ContentType);\n        });\n    }\n}\n```\n\n## <span id=\"related_topics\"></span>Related articles\n\n\n* [Speech interactions](speech-interactions.md)\n\n**Samples**\n* [Speech recognition and speech synthesis sample](http://go.microsoft.com/fwlink/p/?LinkID=619897)\n \n\n \n\n\n\n\n"}