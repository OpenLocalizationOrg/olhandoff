{"nodes":[{"content":"Convert ink strokes to text using handwriting recognition, or to shapes using custom recognition.","pos":[47,144]},{"content":"Recognize Windows Ink strokes as text","pos":[152,189]},{"content":"Recognize Windows Ink strokes as text","pos":[410,447]},{"content":"Convert ink strokes to text using handwriting recognition, or to shapes using custom recognition.","pos":[449,546]},{"content":"Important APIs","pos":[550,564]},{"content":"InkCanvas","pos":[575,584]},{"content":"Windows.UI.Input.Inking","pos":[653,676]},{"content":"Handwriting recognition is built in to the Windows ink platform, and supports an extensive set of locales and languages.","pos":[740,860]},{"content":"For all examples here, add the namespace references required for ink functionality.","pos":[862,945]},{"content":"This includes \"Windows.UI.Input.Inking\".","pos":[946,986]},{"pos":[1135,1164],"content":"Basic handwriting recognition"},{"pos":[1167,1398],"content":"Here, we demonstrate how to use the handwriting recognition engine, associated with the default installed language pack, to interpret a set of strokes on an <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkCanvas<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn858535)</ept>."},{"content":"The recognition is initiated by the user clicking a button when they are finished writing.","pos":[1400,1490]},{"content":"First, we set up the UI.","pos":[1496,1520]},{"pos":[1526,1686],"content":"The UI includes a \"Recognize\" button, the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkCanvas<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn858535)</ept>, and an area to display recognition results."},{"content":"We then set some basic ink input behaviors.","pos":[2826,2869]},{"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkPresenter<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn899081)</ept> is configured to interpret input data from both pen and mouse as ink strokes (<bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>InputDeviceTypes<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/dn922019)</ept>).","pos":[2875,3116]},{"content":"Ink strokes are rendered on the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkCanvas<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn858535)</ept> using the specified <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>InkDrawingAttributes<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/desktop/ms695050)</ept>.","pos":[3117,3331]},{"content":"A listener for the click event on the \"Recognize\" button is also declared.","pos":[3332,3406]},{"content":"Finally, we perform the basic handwriting recognition.","pos":[4169,4223]},{"content":"For this example, we use the click event handler of the \"Recognize\" button to perform the handwriting recognition.","pos":[4224,4338]},{"content":"An <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkPresenter<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn899081)</ept> stores all ink strokes in an <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>InkStrokeContainer<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br208492)</ept> object.","pos":[4344,4543]},{"content":"The strokes are exposed through the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StrokeContainer<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn948766)</ept> property of the <bpt id=\"p3\">**</bpt>InkPresenter<ept id=\"p3\">**</ept> and retrieved using the <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>GetStrokes<ept id=\"p5\">**</ept><ept id=\"p4\">](https://msdn.microsoft.com/library/windows/apps/br208499)</ept> method.","pos":[4544,4799]},{"pos":[10110,10135],"content":"International recognition"},{"content":"A comprehensive subset of languages supported by Windows can be used for handwriting recognition.","pos":[10138,10235]},{"pos":[10237,10501],"content":"For a list of languages supported by the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkRecognizer<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br208478)</ept> see the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>InkRecognizer.Name<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.input.inking.inkrecognizer.name.aspx)</ept> property."},{"content":"Your app can query the set of installed handwriting recognition engines and use one of those or let a user select their preferred language.","pos":[10503,10642]},{"content":"Note","pos":[10646,10650]},{"content":"Users can see a list of installed languages by going to <bpt id=\"p1\">**</bpt>Settings -<ph id=\"ph1\">&amp;gt;</ph> Time &amp; Language<ept id=\"p1\">**</ept>.","pos":[10655,10746]},{"content":"Installed languages are listed under <bpt id=\"p1\">**</bpt>Languages<ept id=\"p1\">**</ept>.","pos":[10747,10798]},{"content":"To install new language packs and enable handwriting recognition for that language:","pos":[10800,10883]},{"pos":[10889,10952],"content":"Go to <bpt id=\"p1\">**</bpt>Settings <ph id=\"ph1\">&amp;gt;</ph> Time &amp; language <ph id=\"ph2\">&amp;gt;</ph> Region &amp; language<ept id=\"p1\">**</ept>."},{"pos":[10957,10983],"content":"Select <bpt id=\"p1\">**</bpt>Add a language<ept id=\"p1\">**</ept>."},{"content":"Select a language from the list, then choose the region version.","pos":[10988,11052]},{"content":"The language is now listed on the <bpt id=\"p1\">**</bpt>Region &amp; language<ept id=\"p1\">**</ept> page.","pos":[11053,11114]},{"pos":[11119,11161],"content":"Click the language and select <bpt id=\"p1\">**</bpt>Options<ept id=\"p1\">**</ept>."},{"pos":[11166,11349],"content":"On the <bpt id=\"p1\">**</bpt>Language options<ept id=\"p1\">**</ept> page, download the <bpt id=\"p2\">**</bpt>Handwriting recognition engine<ept id=\"p2\">**</ept> (they can also download the full language pack, speech recognition engine, and keyboard layout here)."},{"pos":[11354,11564],"content":"Here, we demonstrate how to use the handwriting recognition engine to interpret a set of strokes on an <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkCanvas<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn858535)</ept> based on the selected recognizer."},{"content":"The recognition is initiated by the user clicking a button when they are finished writing.","pos":[11566,11656]},{"content":"First, we set up the UI.","pos":[11662,11686]},{"pos":[11692,11914],"content":"The UI includes a \"Recognize\" button, a combo box that lists all installed handwriting recognizers, the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkCanvas<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn858535)</ept>, and an area to display recognition results."},{"content":"We then set some basic ink input behaviors.","pos":[13549,13592]},{"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkPresenter<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn899081)</ept> is configured to interpret input data from both pen and mouse as ink strokes (<bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>InputDeviceTypes<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/dn922019)</ept>).","pos":[13598,13839]},{"content":"Ink strokes are rendered on the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkCanvas<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn858535)</ept> using the specified <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>InkDrawingAttributes<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/desktop/ms695050)</ept>.","pos":[13840,14054]},{"pos":[14060,14193],"content":"We call an <ph id=\"ph1\">`InitializeRecognizerList`</ph> function to populate the recognizer combo box with a list of installed handwriting recognizers."},{"content":"We also declare listeners for the click event on the \"Recognize\" button and the selection changed event on the recognizer combo box.","pos":[14199,14331]},{"content":"We populate the recognizer combo box with a list of installed handwriting recognizers.","pos":[15385,15471]},{"content":"An <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkRecognizerContainer<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br208479)</ept> is created to manage the handwriting recognition process.","pos":[15477,15624]},{"content":"Use this object to call <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>GetRecognizers<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br208480)</ept> and retrieve the list of installed recognizers to populate the recognizer combo box.","pos":[15625,15812]},{"content":"Update the handwriting recognizer if the recognizer combo box selection changes.","pos":[16546,16626]},{"pos":[16632,16883],"content":"Use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkRecognizerContainer<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br208479)</ept> to call <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>SetDefaultRecognizer<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh920328)</ept> based on the selected recognizer from the recognizer combo box."},{"content":"Finally, we perform the handwriting recognition based on the selected handwriting recognizer.","pos":[17182,17275]},{"content":"For this example, we use the click event handler of the \"Recognize\" button to perform the handwriting recognition.","pos":[17276,17390]},{"content":"An <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkPresenter<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn899081)</ept> stores all ink strokes in an <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>InkStrokeContainer<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br208492)</ept> object.","pos":[17396,17595]},{"content":"The strokes are exposed through the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StrokeContainer<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn948766)</ept> property of the <bpt id=\"p3\">**</bpt>InkPresenter<ept id=\"p3\">**</ept> and retrieved using the <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>GetStrokes<ept id=\"p5\">**</ept><ept id=\"p4\">](https://msdn.microsoft.com/library/windows/apps/br208499)</ept> method.","pos":[17596,17851]},{"pos":[22753,22784],"content":"Dynamic handwriting recognition"},{"content":"The previous two examples require the user to press a button to start recognition.","pos":[22787,22869]},{"content":"Your app can also perform dynamic recognition using stroke input paired with a basic timing function.","pos":[22870,22971]},{"content":"For this example, we'll use the same UI and stroke settings as the previous international recognition example.","pos":[22973,23083]},{"pos":[23089,23577],"content":"Like the previous examples, the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkPresenter<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn899081)</ept> is configured to interpret input data from both pen and mouse as ink strokes (<bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>InputDeviceTypes<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/dn922019)</ept>), and ink strokes are rendered on the <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>InkCanvas<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/dn858535)</ept> using the specified <bpt id=\"p7\">[</bpt><bpt id=\"p8\">**</bpt>InkDrawingAttributes<ept id=\"p8\">**</ept><ept id=\"p7\">](https://msdn.microsoft.com/library/windows/desktop/ms695050)</ept>."},{"pos":[23583,24113],"content":"Instead of a button to initiate recognition, we add listeners for two <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkPresenter<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn899081)</ept> stroke events (<bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>StrokesCollected<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/dn922024)</ept> and <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>StrokeStarted<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/dn914702)</ept>), and set up a basic timer (<bpt id=\"p7\">[</bpt><bpt id=\"p8\">**</bpt>DispatcherTimer<ept id=\"p8\">**</ept><ept id=\"p7\">](https://msdn.microsoft.com/library/windows/apps/br244250)</ept>) with a one second <bpt id=\"p9\">[</bpt><bpt id=\"p10\">**</bpt>Tick<ept id=\"p10\">**</ept><ept id=\"p9\">](https://msdn.microsoft.com/library/windows/apps/br244256)</ept> interval."},{"content":"Here are the handlers for the three events we added in the first step.","pos":[26641,26711]},{"pos":[26717,27086],"content":"<span id=\"StrokesCollected\"></span><span id=\"strokescollected\"></span><span id=\"STROKESCOLLECTED\"></span>[**StrokesCollected**](https://msdn.microsoft.com/library/windows/apps/dn922024)  \nStart the recognition timer when the user stops inking by lifting their pen or finger, or releasing the mouse button. After one second of no ink input, recognition is initiated.","leadings":["","    "],"nodes":[{"content":"StrokesCollected","pos":[108,124]},{"content":"Start the recognition timer when the user stops inking by lifting their pen or finger, or releasing the mouse button. After one second of no ink input, recognition is initiated.","pos":[188,365],"nodes":[{"content":"Start the recognition timer when the user stops inking by lifting their pen or finger, or releasing the mouse button.","pos":[0,117]},{"content":"After one second of no ink input, recognition is initiated.","pos":[118,177]}]}]},{"pos":[27092,27419],"content":"<span id=\"StrokeStarted\"></span><span id=\"strokestarted\"></span><span id=\"STROKESTARTED\"></span>[**StrokeStarted**](https://msdn.microsoft.com/library/windows/apps/dn914702)  \nIf a new stroke starts before the next timer tick event, stop the timer as the new stroke is likely the continuation of a single handwriting entry.","leadings":["","    "],"nodes":[{"content":"StrokeStarted","pos":[99,112]},{"content":"If a new stroke starts before the next timer tick event, stop the timer as the new stroke is likely the continuation of a single handwriting entry.","pos":[176,323]}]},{"pos":[27425,27632],"content":"<span id=\"Tick\"></span><span id=\"tick\"></span><span id=\"TICK\"></span>[**Tick**](https://msdn.microsoft.com/library/windows/apps/br244256)  \nCall the recognition function after one second of no ink input.","leadings":["","    "],"nodes":[{"content":"Tick","pos":[72,76]},{"content":"Call the recognition function after one second of no ink input.","pos":[140,203]}]},{"content":"Finally, we perform the handwriting recognition based on the selected handwriting recognizer.","pos":[28570,28663]},{"content":"For this example, we use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Tick<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br244256)</ept> event handler of a <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>DispatcherTimer<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br244250)</ept> to initiate the handwriting recognition.","pos":[28664,28901]},{"content":"An <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkPresenter<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn899081)</ept> stores all ink strokes in an <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>InkStrokeContainer<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br208492)</ept> object.","pos":[28907,29106]},{"content":"The strokes are exposed through the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StrokeContainer<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn948766)</ept> property of the <bpt id=\"p3\">**</bpt>InkPresenter<ept id=\"p3\">**</ept> and retrieved using the <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>GetStrokes<ept id=\"p5\">**</ept><ept id=\"p4\">](https://msdn.microsoft.com/library/windows/apps/br208499)</ept> method.","pos":[29107,29362]},{"pos":[34085,34101],"content":"Related articles"},{"content":"Pen and stylus interactions","pos":[34106,34133]},{"content":"Samples","pos":[34170,34177]},{"content":"Ink sample","pos":[34183,34193]},{"content":"Simple ink sample","pos":[34247,34264]},{"content":"Complex ink sample","pos":[34318,34336]}],"content":"---\nauthor: Karl-Bridge-Microsoft\nDescription: Convert ink strokes to text using handwriting recognition, or to shapes using custom recognition.\ntitle: Recognize Windows Ink strokes as text\nms.assetid: C2F3F3CE-737F-4652-98B7-5278A462F9D3\nlabel: Recognize Windows Ink strokes as text\ntemplate: detail.hbs\nkeyword: Windows Ink, Windows Inking, DirectInk, InkPresenter, InkCanvas, handwriting recognition\n---\n\n# Recognize Windows Ink strokes as text\n\nConvert ink strokes to text using handwriting recognition, or to shapes using custom recognition.\n\n**Important APIs**\n\n-   [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535)\n-   [**Windows.UI.Input.Inking**](https://msdn.microsoft.com/library/windows/apps/br208524)\n\n\nHandwriting recognition is built in to the Windows ink platform, and supports an extensive set of locales and languages.\n\nFor all examples here, add the namespace references required for ink functionality. This includes \"Windows.UI.Input.Inking\".\n\n## <span id=\"Basic_handwriting_recognition\"></span><span id=\"basic_handwriting_recognition\"></span><span id=\"BASIC_HANDWRITING_RECOGNITION\"></span>Basic handwriting recognition\n\n\nHere, we demonstrate how to use the handwriting recognition engine, associated with the default installed language pack, to interpret a set of strokes on an [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535).\n\nThe recognition is initiated by the user clicking a button when they are finished writing.\n\n1.  First, we set up the UI.\n\n    The UI includes a \"Recognize\" button, the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535), and an area to display recognition results.    \n```    XAML\n<Grid Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\">\n        <Grid.RowDefinitions>\n            <RowDefinition Height=\"Auto\"/>\n            <RowDefinition Height=\"*\"/>\n        </Grid.RowDefinitions>\n        <StackPanel x:Name=\"HeaderPanel\"\n                    Orientation=\"Horizontal\"\n                    Grid.Row=\"0\">\n            <TextBlock x:Name=\"Header\"\n                       Text=\"Basic ink recognition sample\"\n                       Style=\"{ThemeResource HeaderTextBlockStyle}\"\n                       Margin=\"10,0,0,0\" />\n            <Button x:Name=\"recognize\"\n                    Content=\"Recognize\"\n                    Margin=\"50,0,10,0\"/>\n        </StackPanel>\n        <Grid Grid.Row=\"1\">\n            <Grid.RowDefinitions>\n                <RowDefinition Height=\"*\"/>\n                <RowDefinition Height=\"Auto\"/>\n            </Grid.RowDefinitions>\n            <InkCanvas x:Name=\"inkCanvas\"\n                       Grid.Row=\"0\"/>\n            <TextBlock x:Name=\"recognitionResult\"\n                       Grid.Row=\"1\"\n                       Margin=\"50,0,10,0\"/>\n        </Grid>\n    </Grid>\n```\n\n2.  We then set some basic ink input behaviors.\n\n    The [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) is configured to interpret input data from both pen and mouse as ink strokes ([**InputDeviceTypes**](https://msdn.microsoft.com/library/windows/apps/dn922019)). Ink strokes are rendered on the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535) using the specified [**InkDrawingAttributes**](https://msdn.microsoft.com/library/windows/desktop/ms695050). A listener for the click event on the \"Recognize\" button is also declared.\n```    CSharp\npublic MainPage()\n    {\n        this.InitializeComponent();\n\n        // Set supported inking device types.\n        inkCanvas.InkPresenter.InputDeviceTypes =\n            Windows.UI.Core.CoreInputDeviceTypes.Mouse |\n            Windows.UI.Core.CoreInputDeviceTypes.Pen;\n\n        // Set initial ink stroke attributes.\n        InkDrawingAttributes drawingAttributes = new InkDrawingAttributes();\n        drawingAttributes.Color = Windows.UI.Colors.Black;\n        drawingAttributes.IgnorePressure = false;\n        drawingAttributes.FitToCurve = true;\n        inkCanvas.InkPresenter.UpdateDefaultDrawingAttributes(drawingAttributes);\n\n        // Listen for button click to initiate recognition.\n        recognize.Click += Recognize_Click;\n    }\n```\n\n3.  Finally, we perform the basic handwriting recognition. For this example, we use the click event handler of the \"Recognize\" button to perform the handwriting recognition.\n\n    An [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) stores all ink strokes in an [**InkStrokeContainer**](https://msdn.microsoft.com/library/windows/apps/br208492) object. The strokes are exposed through the [**StrokeContainer**](https://msdn.microsoft.com/library/windows/apps/dn948766) property of the **InkPresenter** and retrieved using the [**GetStrokes**](https://msdn.microsoft.com/library/windows/apps/br208499) method.\n```    CSharp\n// Get all strokes on the InkCanvas.\n    IReadOnlyList<InkStroke> currentStrokes = inkCanvas.InkPresenter.StrokeContainer.GetStrokes();\n```\n\n    An [**InkRecognizerContainer**](https://msdn.microsoft.com/library/windows/apps/br208479) is created to manage the handwriting recognition process.\n```    CSharp\n// Create a manager for the InkRecognizer object\n    // used in handwriting recognition.\n    InkRecognizerContainer inkRecognizerContainer =\n        new InkRecognizerContainer();\n```\n\n    [**RecognizeAsync**](https://msdn.microsoft.com/library/windows/apps/br208446) is called to retrieve a set of [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) objects.\n\n    Recognition results are produced for each word that is detected by an [**InkRecognizer**](https://msdn.microsoft.com/library/windows/apps/br208478).\n```    CSharp\n// Recognize all ink strokes on the ink canvas.\n    IReadOnlyList<InkRecognitionResult> recognitionResults =\n        await inkRecognizerContainer.RecognizeAsync(\n            inkCanvas.InkPresenter.StrokeContainer,\n            InkRecognitionTarget.All);\n```\n\n    Each [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) object contains a set of text candidates. The topmost item in this list is considered by the recognition engine to be the best match, followed by the remaining candidates in order of decreasing confidence.\n\n    We iterate through each [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) and compile the list of candidates. The candidates are then displayed and the [**InkStrokeContainer**](https://msdn.microsoft.com/library/windows/apps/br208492) is cleared (which also clears the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535)).\n```    CSharp\nstring str = \"Recognition result\\n\";\n    // Iterate through the recognition results.\n    foreach (var result in recognitionResults)\n    {\n        // Get all recognition candidates from each recognition result.\n        IReadOnlyList<string> candidates = result.GetTextCandidates();\n        str += \"Candidates: \" + candidates.Count.ToString() + \"\\n\";\n        foreach (string candidate in candidates)\n        {\n            str += candidate + \" \";\n        }\n    }\n    // Display the recognition candidates.\n    recognitionResult.Text = str;\n    // Clear the ink canvas once recognition is complete.\n    inkCanvas.InkPresenter.StrokeContainer.Clear();\n```\n\n    Here's the click handler example, in full.\n```    CSharp\n// Handle button click to initiate recognition.\n    private async void Recognize_Click(object sender, RoutedEventArgs e)\n    {\n        // Get all strokes on the InkCanvas.\n        IReadOnlyList<InkStroke> currentStrokes = inkCanvas.InkPresenter.StrokeContainer.GetStrokes();\n\n        // Ensure an ink stroke is present.\n        if (currentStrokes.Count > 0)\n        {\n            // Create a manager for the InkRecognizer object\n            // used in handwriting recognition.\n            InkRecognizerContainer inkRecognizerContainer =\n                new InkRecognizerContainer();\n\n            // inkRecognizerContainer is null if a recognition engine is not available.\n            if (!(inkRecognizerContainer == null))\n            {\n                // Recognize all ink strokes on the ink canvas.\n                IReadOnlyList<InkRecognitionResult> recognitionResults =\n                    await inkRecognizerContainer.RecognizeAsync(\n                        inkCanvas.InkPresenter.StrokeContainer,\n                        InkRecognitionTarget.All);\n                // Process and display the recognition results.\n                if (recognitionResults.Count > 0)\n                {\n                    string str = \"Recognition result\\n\";\n                    // Iterate through the recognition results.\n                    foreach (var result in recognitionResults)\n                    {\n                        // Get all recognition candidates from each recognition result.\n                        IReadOnlyList<string> candidates = result.GetTextCandidates();\n                        str += \"Candidates: \" + candidates.Count.ToString() + \"\\n\";\n                        foreach (string candidate in candidates)\n                        {\n                            str += candidate + \" \";\n                        }\n                    }\n                    // Display the recognition candidates.\n                    recognitionResult.Text = str;\n                    // Clear the ink canvas once recognition is complete.\n                    inkCanvas.InkPresenter.StrokeContainer.Clear();\n                }\n                else\n                {\n                    recognitionResult.Text = \"No recognition results.\";\n                }\n            }\n            else\n            {\n                Windows.UI.Popups.MessageDialog messageDialog = new Windows.UI.Popups.MessageDialog(\"You must install handwriting recognition engine.\");\n                await messageDialog.ShowAsync();\n            }\n        }\n        else\n        {\n            recognitionResult.Text = \"No ink strokes to recognize.\";\n        }\n    }\n```\n\n## <span id=\"International_recognition\"></span><span id=\"international_recognition\"></span><span id=\"INTERNATIONAL_RECOGNITION\"></span>International recognition\n\n\nA comprehensive subset of languages supported by Windows can be used for handwriting recognition.\n\nFor a list of languages supported by the [**InkRecognizer**](https://msdn.microsoft.com/library/windows/apps/br208478) see the [**InkRecognizer.Name**](https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.input.inking.inkrecognizer.name.aspx) property.\n\nYour app can query the set of installed handwriting recognition engines and use one of those or let a user select their preferred language.\n\n**Note**  \nUsers can see a list of installed languages by going to **Settings -&gt; Time & Language**. Installed languages are listed under **Languages**.\n\nTo install new language packs and enable handwriting recognition for that language:\n\n1.  Go to **Settings &gt; Time & language &gt; Region & language**.\n2.  Select **Add a language**.\n3.  Select a language from the list, then choose the region version. The language is now listed on the **Region & language** page.\n4.  Click the language and select **Options**.\n5.  On the **Language options** page, download the **Handwriting recognition engine** (they can also download the full language pack, speech recognition engine, and keyboard layout here).\n\n \n\nHere, we demonstrate how to use the handwriting recognition engine to interpret a set of strokes on an [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535) based on the selected recognizer.\n\nThe recognition is initiated by the user clicking a button when they are finished writing.\n\n1.  First, we set up the UI.\n\n    The UI includes a \"Recognize\" button, a combo box that lists all installed handwriting recognizers, the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535), and an area to display recognition results.\n```    XAML\n<Grid Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\">\n        <Grid.RowDefinitions>\n            <RowDefinition Height=\"Auto\"/>\n            <RowDefinition Height=\"*\"/>\n        </Grid.RowDefinitions>\n        <StackPanel x:Name=\"HeaderPanel\"\n                    Orientation=\"Horizontal\"\n                    Grid.Row=\"0\">\n            <TextBlock x:Name=\"Header\"\n                       Text=\"Advanced international ink recognition sample\"\n                       Style=\"{ThemeResource HeaderTextBlockStyle}\"\n                       Margin=\"10,0,0,0\" />\n            <ComboBox x:Name=\"comboInstalledRecognizers\"\n                     Margin=\"50,0,10,0\">\n                <ComboBox.ItemTemplate>\n                    <DataTemplate>\n                        <StackPanel Orientation=\"Horizontal\">\n                            <TextBlock Text=\"{Binding Name}\" />\n                        </StackPanel>\n                    </DataTemplate>\n                </ComboBox.ItemTemplate>\n            </ComboBox>\n            <Button x:Name=\"buttonRecognize\"\n                    Content=\"Recognize\"\n                    IsEnabled=\"False\"\n                    Margin=\"50,0,10,0\"/>\n        </StackPanel>\n        <Grid Grid.Row=\"1\">\n            <Grid.RowDefinitions>\n                <RowDefinition Height=\"*\"/>\n                <RowDefinition Height=\"Auto\"/>\n            </Grid.RowDefinitions>\n            <InkCanvas x:Name=\"inkCanvas\"\n                       Grid.Row=\"0\"/>\n            <TextBlock x:Name=\"recognitionResult\"\n                       Grid.Row=\"1\"\n                       Margin=\"50,0,10,0\"/>\n        </Grid>\n    </Grid>\n```\n\n2.  We then set some basic ink input behaviors.\n\n    The [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) is configured to interpret input data from both pen and mouse as ink strokes ([**InputDeviceTypes**](https://msdn.microsoft.com/library/windows/apps/dn922019)). Ink strokes are rendered on the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535) using the specified [**InkDrawingAttributes**](https://msdn.microsoft.com/library/windows/desktop/ms695050).\n\n    We call an `InitializeRecognizerList` function to populate the recognizer combo box with a list of installed handwriting recognizers.\n\n    We also declare listeners for the click event on the \"Recognize\" button and the selection changed event on the recognizer combo box.\n```    CSharp\n public MainPage()\n     {\n         this.InitializeComponent();\n\n         // Set supported inking device types.\n         inkCanvas.InkPresenter.InputDeviceTypes =\n             Windows.UI.Core.CoreInputDeviceTypes.Mouse |\n             Windows.UI.Core.CoreInputDeviceTypes.Pen;\n\n         // Set initial ink stroke attributes.\n         InkDrawingAttributes drawingAttributes = new InkDrawingAttributes();\n         drawingAttributes.Color = Windows.UI.Colors.Black;\n         drawingAttributes.IgnorePressure = false;\n         drawingAttributes.FitToCurve = true;\n         inkCanvas.InkPresenter.UpdateDefaultDrawingAttributes(drawingAttributes);\n\n         // Populate the recognizer combo box with installed recognizers.\n         InitializeRecognizerList();\n\n         // Listen for combo box selection.\n         comboInstalledRecognizers.SelectionChanged +=\n             comboInstalledRecognizers_SelectionChanged;\n\n         // Listen for button click to initiate recognition.\n         buttonRecognize.Click += Recognize_Click;\n     }\n```\n\n3.  We populate the recognizer combo box with a list of installed handwriting recognizers.\n\n    An [**InkRecognizerContainer**](https://msdn.microsoft.com/library/windows/apps/br208479) is created to manage the handwriting recognition process. Use this object to call [**GetRecognizers**](https://msdn.microsoft.com/library/windows/apps/br208480) and retrieve the list of installed recognizers to populate the recognizer combo box.\n```    CSharp\n// Populate the recognizer combo box with installed recognizers.\n    private void InitializeRecognizerList()\n    {\n        // Create a manager for the handwriting recognition process.\n        inkRecognizerContainer = new InkRecognizerContainer();\n        // Retrieve the collection of installed handwriting recognizers.\n        IReadOnlyList<InkRecognizer> installedRecognizers =\n            inkRecognizerContainer.GetRecognizers();\n        // inkRecognizerContainer is null if a recognition engine is not available.\n        if (!(inkRecognizerContainer == null))\n        {\n            comboInstalledRecognizers.ItemsSource = installedRecognizers;\n            buttonRecognize.IsEnabled = true;\n        }\n    }\n```\n\n4.  Update the handwriting recognizer if the recognizer combo box selection changes.\n\n    Use the [**InkRecognizerContainer**](https://msdn.microsoft.com/library/windows/apps/br208479) to call [**SetDefaultRecognizer**](https://msdn.microsoft.com/library/windows/apps/hh920328) based on the selected recognizer from the recognizer combo box.\n```    CSharp\n// Handle recognizer change.\n    private void comboInstalledRecognizers_SelectionChanged(\n        object sender, SelectionChangedEventArgs e)\n    {\n        inkRecognizerContainer.SetDefaultRecognizer(\n            (InkRecognizer)comboInstalledRecognizers.SelectedItem);\n    }\n```\n\n5.  Finally, we perform the handwriting recognition based on the selected handwriting recognizer. For this example, we use the click event handler of the \"Recognize\" button to perform the handwriting recognition.\n\n    An [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) stores all ink strokes in an [**InkStrokeContainer**](https://msdn.microsoft.com/library/windows/apps/br208492) object. The strokes are exposed through the [**StrokeContainer**](https://msdn.microsoft.com/library/windows/apps/dn948766) property of the **InkPresenter** and retrieved using the [**GetStrokes**](https://msdn.microsoft.com/library/windows/apps/br208499) method.\n```    CSharp\n// Get all strokes on the InkCanvas.\n    IReadOnlyList<InkStroke> currentStrokes =\n        inkCanvas.InkPresenter.StrokeContainer.GetStrokes();\n```\n\n    [**RecognizeAsync**](https://msdn.microsoft.com/library/windows/apps/br208446) is called to retrieve a set of [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) objects.\n\n    Recognition results are produced for each word that is detected by an [**InkRecognizer**](https://msdn.microsoft.com/library/windows/apps/br208478).\n```    CSharp\n// Recognize all ink strokes on the ink canvas.\n    IReadOnlyList<InkRecognitionResult> recognitionResults =\n        await inkRecognizerContainer.RecognizeAsync(\n            inkCanvas.InkPresenter.StrokeContainer,\n            InkRecognitionTarget.All);\n```\n\n    Each [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) object contains a set of text candidates. The topmost item in this list is considered by the recognition engine to be the best match, followed by the remaining candidates in order of decreasing confidence.\n\n    We iterate through each [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) and compile the list of candidates. The candidates are then displayed and the [**InkStrokeContainer**](https://msdn.microsoft.com/library/windows/apps/br208492) is cleared (which also clears the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535)).\n```    CSharp\nstring str = \"Recognition result\\n\";\n    // Iterate through the recognition results.\n    foreach (InkRecognitionResult result in recognitionResults)\n    {\n        // Get all recognition candidates from each recognition result.\n        IReadOnlyList<string> candidates =\n            result.GetTextCandidates();\n        str += \"Candidates: \" + candidates.Count.ToString() + \"\\n\";\n        foreach (string candidate in candidates)\n        {\n            str += candidate + \" \";\n        }\n    }\n    // Display the recognition candidates.\n    recognitionResult.Text = str;\n    // Clear the ink canvas once recognition is complete.\n    inkCanvas.InkPresenter.StrokeContainer.Clear();\n```\n\n    Here's the click handler example, in full.\n```    CSharp\n// Handle button click to initiate recognition.\n    private async void Recognize_Click(object sender, RoutedEventArgs e)\n    {\n        // Get all strokes on the InkCanvas.\n        IReadOnlyList<InkStroke> currentStrokes =\n            inkCanvas.InkPresenter.StrokeContainer.GetStrokes();\n\n        // Ensure an ink stroke is present.\n        if (currentStrokes.Count > 0)\n        {\n            // inkRecognizerContainer is null if a recognition engine is not available.\n            if (!(inkRecognizerContainer == null))\n            {\n                // Recognize all ink strokes on the ink canvas.\n                IReadOnlyList<InkRecognitionResult> recognitionResults =\n                    await inkRecognizerContainer.RecognizeAsync(\n                        inkCanvas.InkPresenter.StrokeContainer,\n                        InkRecognitionTarget.All);\n                // Process and display the recognition results.\n                if (recognitionResults.Count > 0)\n                {\n                    string str = \"Recognition result\\n\";\n                    // Iterate through the recognition results.\n                    foreach (InkRecognitionResult result in recognitionResults)\n                    {\n                        // Get all recognition candidates from each recognition result.\n                        IReadOnlyList<string> candidates =\n                            result.GetTextCandidates();\n                        str += \"Candidates: \" + candidates.Count.ToString() + \"\\n\";\n                        foreach (string candidate in candidates)\n                        {\n                            str += candidate + \" \";\n                        }\n                    }\n                    // Display the recognition candidates.\n                    recognitionResult.Text = str;\n                    // Clear the ink canvas once recognition is complete.\n                    inkCanvas.InkPresenter.StrokeContainer.Clear();\n                }\n                else\n                {\n                    recognitionResult.Text = \"No recognition results.\";\n                }\n            }\n            else\n            {\n                Windows.UI.Popups.MessageDialog messageDialog =\n                    new Windows.UI.Popups.MessageDialog(\n                        \"You must install handwriting recognition engine.\");\n                await messageDialog.ShowAsync();\n            }\n        }\n        else\n        {\n            recognitionResult.Text = \"No ink strokes to recognize.\";\n        }\n    }\n```\n\n## <span id=\"Dynamic_handwriting_recognition\"></span><span id=\"dynamic_handwriting_recognition\"></span><span id=\"DYNAMIC_HANDWRITING_RECOGNITION\"></span>Dynamic handwriting recognition\n\n\nThe previous two examples require the user to press a button to start recognition. Your app can also perform dynamic recognition using stroke input paired with a basic timing function.\n\nFor this example, we'll use the same UI and stroke settings as the previous international recognition example.\n\n1.  Like the previous examples, the [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) is configured to interpret input data from both pen and mouse as ink strokes ([**InputDeviceTypes**](https://msdn.microsoft.com/library/windows/apps/dn922019)), and ink strokes are rendered on the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535) using the specified [**InkDrawingAttributes**](https://msdn.microsoft.com/library/windows/desktop/ms695050).\n\n    Instead of a button to initiate recognition, we add listeners for two [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) stroke events ([**StrokesCollected**](https://msdn.microsoft.com/library/windows/apps/dn922024) and [**StrokeStarted**](https://msdn.microsoft.com/library/windows/apps/dn914702)), and set up a basic timer ([**DispatcherTimer**](https://msdn.microsoft.com/library/windows/apps/br244250)) with a one second [**Tick**](https://msdn.microsoft.com/library/windows/apps/br244256) interval.    \n```    CSharp\npublic MainPage()\n    {\n        this.InitializeComponent();\n\n        // Set supported inking device types.\n        inkCanvas.InkPresenter.InputDeviceTypes =\n            Windows.UI.Core.CoreInputDeviceTypes.Mouse |\n            Windows.UI.Core.CoreInputDeviceTypes.Pen;\n\n        // Set initial ink stroke attributes.\n        InkDrawingAttributes drawingAttributes = new InkDrawingAttributes();\n        drawingAttributes.Color = Windows.UI.Colors.Black;\n        drawingAttributes.IgnorePressure = false;\n        drawingAttributes.FitToCurve = true;\n        inkCanvas.InkPresenter.UpdateDefaultDrawingAttributes(drawingAttributes);\n\n        // Populate the recognizer combo box with installed recognizers.\n        InitializeRecognizerList();\n\n        // Listen for combo box selection.\n        comboInstalledRecognizers.SelectionChanged +=\n            comboInstalledRecognizers_SelectionChanged;\n\n        // Listen for stroke events on the InkPresenter to\n        // enable dynamic recognition.\n        // StrokesCollected is fired when the user stops inking by\n        // lifting their pen or finger, or releasing the mouse button.\n        inkCanvas.InkPresenter.StrokesCollected +=\n            inkCanvas_StrokesCollected;\n        // StrokeStarted is fired when ink input is first detected.\n        inkCanvas.InkPresenter.StrokeInput.StrokeStarted +=\n            inkCanvas_StrokeStarted;\n\n        // Timer to manage dynamic recognition.\n        recoTimer = new DispatcherTimer();\n        recoTimer.Interval = new TimeSpan(0, 0, 1);\n        recoTimer.Tick += recoTimer_Tick;\n    }\n\n    // Handler for the timer tick event calls the recognition function.\n    private void recoTimer_Tick(object sender, object e)\n    {\n        Recognize_Tick();\n    }\n\n    // Handler for the InkPresenter StrokeStarted event.\n    // If a new stroke starts before the next timer tick event,\n    // stop the timer as the new stroke is likely the continuation\n    // of a single handwriting entry.\n    private void inkCanvas_StrokeStarted(InkStrokeInput sender, PointerEventArgs args)\n    {\n        recoTimer.Stop();\n    }\n\n    // Handler for the InkPresenter StrokesCollected event.\n    // Start the recognition timer when the user stops inking by\n    // lifting their pen or finger, or releasing the mouse button.\n    // After one second of no ink input, recognition is initiated.\n    private void inkCanvas_StrokesCollected(InkPresenter sender, InkStrokesCollectedEventArgs args)\n    {\n        recoTimer.Start();\n    }    \n```\n\n2.  Here are the handlers for the three events we added in the first step.\n\n    <span id=\"StrokesCollected\"></span><span id=\"strokescollected\"></span><span id=\"STROKESCOLLECTED\"></span>[**StrokesCollected**](https://msdn.microsoft.com/library/windows/apps/dn922024)  \n    Start the recognition timer when the user stops inking by lifting their pen or finger, or releasing the mouse button. After one second of no ink input, recognition is initiated.\n\n    <span id=\"StrokeStarted\"></span><span id=\"strokestarted\"></span><span id=\"STROKESTARTED\"></span>[**StrokeStarted**](https://msdn.microsoft.com/library/windows/apps/dn914702)  \n    If a new stroke starts before the next timer tick event, stop the timer as the new stroke is likely the continuation of a single handwriting entry.\n\n    <span id=\"Tick\"></span><span id=\"tick\"></span><span id=\"TICK\"></span>[**Tick**](https://msdn.microsoft.com/library/windows/apps/br244256)  \n    Call the recognition function after one second of no ink input.\n```    CSharp\n// Handler for the timer tick event calls the recognition function.\n    private void recoTimer_Tick(object sender, object e)\n    {\n        Recognize_Tick();\n    }\n\n    // Handler for the InkPresenter StrokeStarted event.\n    // If a new stroke starts before the next timer tick event,\n    // stop the timer as the new stroke is likely the continuation\n    // of a single handwriting entry.\n    private void inkCanvas_StrokeStarted(InkStrokeInput sender, PointerEventArgs args)\n    {\n        recoTimer.Stop();\n    }\n\n    // Handler for the InkPresenter StrokesCollected event.\n    // Start the recognition timer when the user stops inking by\n    // lifting their pen or finger, or releasing the mouse button.\n    // After one second of no ink input, recognition is initiated.\n    private void inkCanvas_StrokesCollected(InkPresenter sender, InkStrokesCollectedEventArgs args)\n    {\n        recoTimer.Start();\n    }\n```\n\n3.  Finally, we perform the handwriting recognition based on the selected handwriting recognizer. For this example, we use the [**Tick**](https://msdn.microsoft.com/library/windows/apps/br244256) event handler of a [**DispatcherTimer**](https://msdn.microsoft.com/library/windows/apps/br244250) to initiate the handwriting recognition.\n\n    An [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) stores all ink strokes in an [**InkStrokeContainer**](https://msdn.microsoft.com/library/windows/apps/br208492) object. The strokes are exposed through the [**StrokeContainer**](https://msdn.microsoft.com/library/windows/apps/dn948766) property of the **InkPresenter** and retrieved using the [**GetStrokes**](https://msdn.microsoft.com/library/windows/apps/br208499) method.\n```    CSharp\n// Get all strokes on the InkCanvas.\n    IReadOnlyList<InkStroke> currentStrokes = inkCanvas.InkPresenter.StrokeContainer.GetStrokes();\n```\n\n    [**RecognizeAsync**](https://msdn.microsoft.com/library/windows/apps/br208446) is called to retrieve a set of [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) objects.\n\n    Recognition results are produced for each word that is detected by an [**InkRecognizer**](https://msdn.microsoft.com/library/windows/apps/br208478).\n```    CSharp\n// Recognize all ink strokes on the ink canvas.\n    IReadOnlyList<InkRecognitionResult> recognitionResults =\n        await inkRecognizerContainer.RecognizeAsync(\n            inkCanvas.InkPresenter.StrokeContainer,\n            InkRecognitionTarget.All);\n```\n\n    Each [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) object contains a set of text candidates. The topmost item in this list is considered by the recognition engine to be the best match, followed by the remaining candidates in order of decreasing confidence.\n\n    We iterate through each [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) and compile the list of candidates. The candidates are then displayed and the [**InkStrokeContainer**](https://msdn.microsoft.com/library/windows/apps/br208492) is cleared (which also clears the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535)).\n```    CSharp\nstring str = \"Recognition result\\n\";\n    // Iterate through the recognition results.\n    foreach (InkRecognitionResult result in recognitionResults)\n    {\n        // Get all recognition candidates from each recognition result.\n        IReadOnlyList<string> candidates = result.GetTextCandidates();\n        str += \"Candidates: \" + candidates.Count.ToString() + \"\\n\";\n        foreach (string candidate in candidates)\n        {\n            str += candidate + \" \";\n        }\n    }\n    // Display the recognition candidates.\n    recognitionResult.Text = str;\n    // Clear the ink canvas once recognition is complete.\n    inkCanvas.InkPresenter.StrokeContainer.Clear();\n```\n\n    Here's the recognition function, in full.\n```    CSharp\n// Respond to timer Tick and initiate recognition.\n    private async void Recognize_Tick()\n    {\n        // Get all strokes on the InkCanvas.\n        IReadOnlyList<InkStroke> currentStrokes = inkCanvas.InkPresenter.StrokeContainer.GetStrokes();\n\n        // Ensure an ink stroke is present.\n        if (currentStrokes.Count > 0)\n        {\n            // inkRecognizerContainer is null if a recognition engine is not available.\n            if (!(inkRecognizerContainer == null))\n            {\n                // Recognize all ink strokes on the ink canvas.\n                IReadOnlyList<InkRecognitionResult> recognitionResults =\n                    await inkRecognizerContainer.RecognizeAsync(\n                        inkCanvas.InkPresenter.StrokeContainer,\n                        InkRecognitionTarget.All);\n                // Process and display the recognition results.\n                if (recognitionResults.Count > 0)\n                {\n                    string str = \"Recognition result\\n\";\n                    // Iterate through the recognition results.\n                    foreach (InkRecognitionResult result in recognitionResults)\n                    {\n                        // Get all recognition candidates from each recognition result.\n                        IReadOnlyList<string> candidates = result.GetTextCandidates();\n                        str += \"Candidates: \" + candidates.Count.ToString() + \"\\n\";\n                        foreach (string candidate in candidates)\n                        {\n                            str += candidate + \" \";\n                        }\n                    }\n                    // Display the recognition candidates.\n                    recognitionResult.Text = str;\n                    // Clear the ink canvas once recognition is complete.\n                    inkCanvas.InkPresenter.StrokeContainer.Clear();\n                }\n                else\n                {\n                    recognitionResult.Text = \"No recognition results.\";\n                }\n            }\n            else\n            {\n                Windows.UI.Popups.MessageDialog messageDialog = new Windows.UI.Popups.MessageDialog(\"You must install handwriting recognition engine.\");\n                await messageDialog.ShowAsync();\n            }\n        }\n        else\n        {\n            recognitionResult.Text = \"No ink strokes to recognize.\";\n        }\n\n        // Stop the dynamic recognition timer.\n        recoTimer.Stop();\n    }\n```\n\n## <span id=\"related_topics\"></span>Related articles\n\n* [Pen and stylus interactions](pen-and-stylus-interactions.md)\n\n**Samples**\n* [Ink sample](http://go.microsoft.com/fwlink/p/?LinkID=620308)\n* [Simple ink sample](http://go.microsoft.com/fwlink/p/?LinkID=620312)\n* [Complex ink sample](http://go.microsoft.com/fwlink/p/?LinkID=620314)\n \n\n \n"}