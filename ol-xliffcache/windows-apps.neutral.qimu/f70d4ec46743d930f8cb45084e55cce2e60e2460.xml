{"nodes":[{"content":"How to-- port a simple OpenGL ES 2.0 renderer to Direct3D 11","pos":[27,87]},{"content":"For the first porting exercise, we'll start with the basics-- bringing a simple renderer for a spinning, vertex-shaded cube from OpenGL ES 2.0 into Direct3D, such that it matches the DirectX 11 App (Universal Windows) template from Visual Studio 2015.","pos":[101,352]},{"content":"How to: port a simple OpenGL ES 2.0 renderer to Direct3D 11","pos":[409,468]},{"content":"Updated for UWP apps on Windows 10.","pos":[474,509]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept>","pos":[510,602]},{"content":"For this porting exercise, we'll start with the basics: bringing a simple renderer for a spinning, vertex-shaded cube from OpenGL ES 2.0 into Direct3D, such that it matches the DirectX 11 App (Universal Windows) template from Visual Studio 2015.","pos":[607,852]},{"content":"As we walk through this port process, you will learn the following:","pos":[853,920]},{"content":"How to port a simple set of vertex buffers to Direct3D input buffers","pos":[926,994]},{"content":"How to port uniforms and attributes to constant buffers","pos":[999,1054]},{"content":"How to configure Direct3D shader objects","pos":[1059,1099]},{"content":"How basic HLSL semantics are used in Direct3D shader development","pos":[1104,1168]},{"content":"How to port very simple GLSL to HLSL","pos":[1173,1209]},{"content":"This topic starts after you have created a new DirectX 11 project.","pos":[1211,1277]},{"content":"To learn how to create a new DirectX 11 project, read <bpt id=\"p1\">[</bpt>Create a new DirectX 11 project for Universal Windows Platform (UWP)<ept id=\"p1\">](user-interface.md)</ept>.","pos":[1278,1422]},{"pos":[1424,1700],"content":"The project created from either of these links has all the code for the <bpt id=\"p1\">[</bpt>Direct3D<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/desktop/ff476345)</ept> infrastructure prepared, and you can immediately start into the process of porting your renderer from Open GL ES 2.0 to Direct3D 11."},{"content":"This topic walks two code paths that perform the same basic graphics task: display a rotating vertex-shaded cube in a window.","pos":[1702,1827]},{"content":"In both cases, the code covers the following process:","pos":[1828,1881]},{"content":"Creating a cube mesh from hardcoded data.","pos":[1887,1928]},{"content":"This mesh is represented as a list of vertices, with each vertex possessing a position, a normal vector, and a color vector.","pos":[1929,2053]},{"content":"This mesh is put into a vertex buffer for the shading pipeline to process.","pos":[2054,2128]},{"content":"Creating shader objects to process the cube mesh.","pos":[2133,2182]},{"content":"There are two shaders: a vertex shader that processes the vertices for rasterization, and a fragment (pixel) shader that colors the individual pixels of the cube after rasterization.","pos":[2183,2365]},{"content":"These pixels are written into a render target for display.","pos":[2366,2424]},{"content":"Forming the shading language that is used for vertex and pixel processing in the vertex and fragment shaders, respectively.","pos":[2429,2552]},{"content":"Displaying the rendered cube on the screen.","pos":[2557,2600]},{"content":"simple opengl cube","pos":[2604,2622]},{"content":"Upon completing this walkthrough, you should be familiar with the following basic differences between Open GL ES 2.0 and Direct3D 11:","pos":[2656,2789]},{"content":"The representation of vertex buffers and vertex data.","pos":[2795,2848]},{"content":"The process of creating and configuring shaders.","pos":[2853,2901]},{"content":"Shading languages, and the inputs and outputs to shader objects.","pos":[2906,2970]},{"content":"Screen drawing behaviors.","pos":[2975,3000]},{"content":"In this walkthrough, we refer to an simple and generic OpenGL renderer structure, which is defined like this:","pos":[3002,3111]},{"content":"This structure has one instance and contains all the necessary components for rendering a very simple vertex-shaded mesh.","pos":[3711,3832]},{"pos":[3836,3995],"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  Any OpenGL ES 2.0 code in this topic is based on the Windows API implementation provided by the Khronos Group, and uses Windows C programming syntax."},{"content":"What you need to know","pos":[4003,4024]},{"content":"Technologies","pos":[4031,4043]},{"content":"Microsoft Visual C++","pos":[4050,4070]},{"content":"OpenGL ES 2.0","pos":[4133,4146]},{"content":"Prerequisites","pos":[4152,4165]},{"content":"Optional.","pos":[4171,4180]},{"content":"Review <bpt id=\"p1\">[</bpt>Port EGL code to DXGI and Direct3D<ept id=\"p1\">](moving-from-egl-to-dxgi.md)</ept>.","pos":[4181,4253]},{"content":"Read this topic to better understand the graphics interface provided by DirectX.","pos":[4254,4334]},{"pos":[4380,4385],"content":"Steps"},{"content":"Topic","pos":[4504,4509]},{"content":"Description","pos":[4532,4543]},{"content":"Port the shader objects","pos":[4610,4633]},{"content":"When porting the simple renderer from OpenGL ES 2.0, the first step is to set up the equivalent vertex and fragment shader objects in Direct3D 11, and to make sure that the main program can communicate with the shader objects after they are compiled.","pos":[4691,4941]},{"content":"Port the vertex buffers and data","pos":[4996,5028]},{"content":"In this step, you'll define the vertex buffers that will contain your meshes and the index buffers that allow the shaders to traverse the vertices in a specified order.","pos":[5103,5271]},{"content":"Port the GLSL","pos":[5325,5338]},{"content":"Once you've moved over the code that creates and configures your buffers and shader objects, it's time to port the code inside those shaders from OpenGL ES 2.0's GL Shader Language (GLSL) to Direct3D 11's High-level Shader Language (HLSL).","pos":[5387,5626]},{"content":"Draw to the screen","pos":[5681,5699]},{"content":"Finally, we port the code that draws the spinning cube to the screen.","pos":[5753,5822]},{"pos":[5902,5922],"content":"Additional resources"},{"content":"Prepare your dev environment for UWP DirectX game development","pos":[5930,5991]},{"content":"Create a new DirectX 11 project for UWP","pos":[6074,6113]},{"content":"Map OpenGL ES 2.0 concepts and infrastructure to Direct3D 11","pos":[6139,6199]}],"content":"---\nauthor: mtoepke\ntitle: How to-- port a simple OpenGL ES 2.0 renderer to Direct3D 11\ndescription: For the first porting exercise, we'll start with the basics-- bringing a simple renderer for a spinning, vertex-shaded cube from OpenGL ES 2.0 into Direct3D, such that it matches the DirectX 11 App (Universal Windows) template from Visual Studio 2015.\nms.assetid: e7f6fa41-ab05-8a1e-a154-704834e72e6d\n---\n\n# How to: port a simple OpenGL ES 2.0 renderer to Direct3D 11\n\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\nFor this porting exercise, we'll start with the basics: bringing a simple renderer for a spinning, vertex-shaded cube from OpenGL ES 2.0 into Direct3D, such that it matches the DirectX 11 App (Universal Windows) template from Visual Studio 2015. As we walk through this port process, you will learn the following:\n\n-   How to port a simple set of vertex buffers to Direct3D input buffers\n-   How to port uniforms and attributes to constant buffers\n-   How to configure Direct3D shader objects\n-   How basic HLSL semantics are used in Direct3D shader development\n-   How to port very simple GLSL to HLSL\n\nThis topic starts after you have created a new DirectX 11 project. To learn how to create a new DirectX 11 project, read [Create a new DirectX 11 project for Universal Windows Platform (UWP)](user-interface.md).\n\nThe project created from either of these links has all the code for the [Direct3D](https://msdn.microsoft.com/library/windows/desktop/ff476345) infrastructure prepared, and you can immediately start into the process of porting your renderer from Open GL ES 2.0 to Direct3D 11.\n\nThis topic walks two code paths that perform the same basic graphics task: display a rotating vertex-shaded cube in a window. In both cases, the code covers the following process:\n\n1.  Creating a cube mesh from hardcoded data. This mesh is represented as a list of vertices, with each vertex possessing a position, a normal vector, and a color vector. This mesh is put into a vertex buffer for the shading pipeline to process.\n2.  Creating shader objects to process the cube mesh. There are two shaders: a vertex shader that processes the vertices for rasterization, and a fragment (pixel) shader that colors the individual pixels of the cube after rasterization. These pixels are written into a render target for display.\n3.  Forming the shading language that is used for vertex and pixel processing in the vertex and fragment shaders, respectively.\n4.  Displaying the rendered cube on the screen.\n\n![simple opengl cube](images/simple-opengl-cube.png)\n\nUpon completing this walkthrough, you should be familiar with the following basic differences between Open GL ES 2.0 and Direct3D 11:\n\n-   The representation of vertex buffers and vertex data.\n-   The process of creating and configuring shaders.\n-   Shading languages, and the inputs and outputs to shader objects.\n-   Screen drawing behaviors.\n\nIn this walkthrough, we refer to an simple and generic OpenGL renderer structure, which is defined like this:\n\n``` syntax\ntypedef struct \n{\n    GLfloat pos[3];        \n    GLfloat rgba[4];\n} Vertex;\n\ntypedef struct\n{\n  // Integer handle to the shader program object.\n  GLuint programObject;\n\n  // The vertex and index buffers\n  GLuint vertexBuffer;\n  GLuint indexBuffer;\n\n  // Handle to the location of model-view-projection matrix uniform\n  GLint  mvpLoc; \n   \n  // Vertex and index data\n  Vertex  *vertices;\n  GLuint   *vertexIndices;\n  int       numIndices;\n\n  // Rotation angle used for animation\n  GLfloat   angle;\n\n  GLfloat  mvpMatrix[4][4]; // the model-view-projection matrix itself\n} Renderer;\n```\n\nThis structure has one instance and contains all the necessary components for rendering a very simple vertex-shaded mesh.\n\n> **Note**  Any OpenGL ES 2.0 code in this topic is based on the Windows API implementation provided by the Khronos Group, and uses Windows C programming syntax.\n\n \n\n## What you need to know\n\n\n### Technologies\n\n-   [Microsoft Visual C++](http://msdn.microsoft.com/library/vstudio/60k1461a.aspx)\n-   OpenGL ES 2.0\n\n### Prerequisites\n\n-   Optional. Review [Port EGL code to DXGI and Direct3D](moving-from-egl-to-dxgi.md). Read this topic to better understand the graphics interface provided by DirectX.\n\n## <span id=\"keylinks_steps_heading\"></span>Steps\n\n\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th align=\"left\">Topic</th>\n<th align=\"left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td align=\"left\"><p>[Port the shader objects](port-the-shader-config.md)</p></td>\n<td align=\"left\"><p>When porting the simple renderer from OpenGL ES 2.0, the first step is to set up the equivalent vertex and fragment shader objects in Direct3D 11, and to make sure that the main program can communicate with the shader objects after they are compiled.</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>[Port the vertex buffers and data](port-the-vertex-buffers-and-data-config.md)</p></td>\n<td align=\"left\"><p>In this step, you'll define the vertex buffers that will contain your meshes and the index buffers that allow the shaders to traverse the vertices in a specified order.</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p>[Port the GLSL](port-the-glsl.md)</p></td>\n<td align=\"left\"><p>Once you've moved over the code that creates and configures your buffers and shader objects, it's time to port the code inside those shaders from OpenGL ES 2.0's GL Shader Language (GLSL) to Direct3D 11's High-level Shader Language (HLSL).</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>[Draw to the screen](draw-to-the-screen.md)</p></td>\n<td align=\"left\"><p>Finally, we port the code that draws the spinning cube to the screen.</p></td>\n</tr>\n</tbody>\n</table>\n\n \n\n## <span id=\"additional_resources\"></span>Additional resources\n\n\n-   [Prepare your dev environment for UWP DirectX game development](prepare-your-dev-environment-for-windows-store-directx-game-development.md)\n-   [Create a new DirectX 11 project for UWP](user-interface.md)\n-   [Map OpenGL ES 2.0 concepts and infrastructure to Direct3D 11](map-concepts-and-infrastructure.md)\n\n \n\n \n\n\n\n\n"}