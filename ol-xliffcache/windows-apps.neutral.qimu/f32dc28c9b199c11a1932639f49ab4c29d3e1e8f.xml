{"nodes":[{"content":"Following are some solutions to several common development issues related to ad mediation.","pos":[37,127]},{"content":"Troubleshoot ad mediation","pos":[135,160]},{"content":"Troubleshoot ad mediation","pos":[217,242]},{"content":"Updated for UWP apps on Windows 10.","pos":[248,283]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept>","pos":[284,376]},{"content":"Following are some solutions to several common development issues related to ad mediation.","pos":[381,471]},{"content":"You can't add an AdMediatorControl to the design surface","pos":[475,531]},{"content":"When you drag the <bpt id=\"p1\">**</bpt>AdMediatorControl<ept id=\"p1\">**</ept> control to the designer for the first time in a Universal Windows Platform (UWP), Windows 8.1, or Windows Phone 8.1 project using C# or Visual Basic with XAML, Visual Studio adds the required ad mediator assembly reference to your project, but the control isn't added to the designer yet.","pos":[536,864]},{"content":"To add the control, click OK in the message displayed by Visual Studio, wait several seconds for the designer to refresh, and then drag the control back to the designer again.","pos":[865,1040]},{"content":"If you still can't successfully add the control to the designer, make sure your project targets the applicable processor architecture for your app (for example, <bpt id=\"p1\">**</bpt>x86<ept id=\"p1\">**</ept>) rather than <bpt id=\"p2\">**</bpt>Any CPU<ept id=\"p2\">**</ept>.","pos":[1042,1236]},{"content":"The control cannot be added to the designer if the project targets <bpt id=\"p1\">**</bpt>Any CPU<ept id=\"p1\">**</ept> for the build platform.","pos":[1237,1339]},{"pos":[1341,2068],"content":"<bpt id=\"p1\">*</bpt><bpt id=\"p2\">*</bpt>The AdMediatorControl shows the error “<ph id=\"ph1\">&amp;lt;</ph><ept id=\"p2\">*</ept>width<ept id=\"p1\">*</ept><ph id=\"ph2\">&amp;gt;</ph> x <ph id=\"ph3\">&amp;lt;</ph><bpt id=\"p3\">*</bpt>height<ept id=\"p3\">*</ept><ph id=\"ph4\">&amp;gt;</ph> Not supported” at run time when serving ads from Microsoft<bpt id=\"p4\">**</bpt> Microsoft advertising only supports <bpt id=\"p5\">[</bpt>certain ad sizes recommended by the Interactive Advertising Bureau (IAB)<ept id=\"p5\">](add-and-use-the-ad-mediator-control.md#supported-ad-sizes-for-microsoft-advertising)</ept>. In some cases, even if you set the height and width of the ad mediator control in the designer or in your XAML to one of these supported ad sizes, scaling and rounding issues might cause prevent the ad mediation framework from serving an ad. To avoid this issue, assign the <ept id=\"p4\">**</ept>Width<bpt id=\"p6\">**</bpt> and <ept id=\"p6\">**</ept>Height** optional parameters for Microsoft advertising in your code to one of the supported ad sizes."},{"pos":[2070,2211],"content":"The following code example demonstrates how to assign the <bpt id=\"p1\">**</bpt>Width<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Height<ept id=\"p2\">**</ept> optional parameters for Microsoft advertising to 728 x 90."},{"content":"Ad mediation does not include location (latitude/longitude) for the ad network","pos":[2416,2494]},{"content":"If you enable the location capability in your app, the ad mediator control will automatically fetch the latitude/longitude coordinates and provide them to ad networks that support them.","pos":[2499,2684]},{"content":"The Smaato ad control doesn’t line up correctly","pos":[2688,2735]},{"content":"Try using the optional parameters to set values on the SDK controls:","pos":[2740,2808]},{"content":"The AdDuplex ad control does not show with the correct size (it shows as 250x250)","pos":[3091,3172]},{"content":"Ad mediation does not set any value for the size, so you should change it using the optional <bpt id=\"p1\">**</bpt>Size<ept id=\"p1\">**</ept> parameter.","pos":[3177,3289]},{"content":"For example:","pos":[3290,3302]},{"content":"You receive the error “Something is covering the ad control”","pos":[3407,3467]},{"content":"Ad Duplex will always show an error if the ad is obscured in any way within your app.","pos":[3472,3557]},{"content":"<bpt id=\"p1\">[</bpt>Read their solution<ept id=\"p1\">](http://blog.adduplex.com/2014/01/solving-something-is-covering-ad.mdl)</ept> to this error.","pos":[3558,3665]},{"content":"You receive the error \"There was a conflict between two files\"","pos":[3669,3731]},{"content":"You have referenced the Microsoft advertising assemblies elsewhere in your app.","pos":[3736,3815]},{"content":"Ad mediation is designed to work exclusively in your app, and it will not work if other references to the Microsoft advertising assemblies are used.","pos":[3816,3964]},{"content":"Remove the Microsoft advertising references manually and reinstall the Microsoft Store Engagement and Monetization SDK to clear the error.","pos":[3965,4103]},{"content":"You encounter unexpected behavior after changing the RefreshRate value in the AdMediator.config file","pos":[4107,4207]},{"content":"After you configure your ad networks by running the <bpt id=\"p1\">**</bpt>Ad Mediator<ept id=\"p1\">**</ept> component in the <bpt id=\"p2\">**</bpt>Add Connected Service<ept id=\"p2\">**</ept> dialog box in Visual Studio, the default configuration information is saved to the AdMediator.config file in your project.","pos":[4211,4444]},{"content":"You are not intended to modify this file directly.","pos":[4445,4495]},{"content":"Instead, you can modify this information (including the refresh rate for new ads) when you <bpt id=\"p1\">[</bpt>configure the ad mediation settings for your app<ept id=\"p1\">](submit-your-app-and-configure-ad-mediation.md)</ept> after you upload your app package to the Windows Dev Center dashboard.","pos":[4496,4755]},{"content":"If you change the <bpt id=\"p1\">**</bpt>RefreshRate<ept id=\"p1\">**</ept> value in the AdMediator.config file, be aware that this value must contain an integer between 30 and 120 that represents the refresh rate in seconds.","pos":[4757,4940]},{"content":"If you set this to an integer less than 30 or greater than 120,  the ad mediation framework will automatically use a refresh rate of 60 seconds.","pos":[4941,5085]},{"content":"Related topics","pos":[5090,5104]},{"content":"Select and manage your ad networks","pos":[5109,5143]},{"content":"Add and use the ad mediation control","pos":[5187,5223]},{"content":"Test your ad mediation implementation","pos":[5268,5305]},{"content":"Submit your app and configure ad mediation","pos":[5352,5394]}],"content":"---\nauthor: mcleanbyron\nDescription: Following are some solutions to several common development issues related to ad mediation.\ntitle: Troubleshoot ad mediation\nms.assetid: 8728DE4F-E050-4217-93D3-588DD3280A3A\n---\n\n# Troubleshoot ad mediation\n\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\nFollowing are some solutions to several common development issues related to ad mediation.\n\n**You can't add an AdMediatorControl to the design surface**  \nWhen you drag the **AdMediatorControl** control to the designer for the first time in a Universal Windows Platform (UWP), Windows 8.1, or Windows Phone 8.1 project using C# or Visual Basic with XAML, Visual Studio adds the required ad mediator assembly reference to your project, but the control isn't added to the designer yet. To add the control, click OK in the message displayed by Visual Studio, wait several seconds for the designer to refresh, and then drag the control back to the designer again.\n\nIf you still can't successfully add the control to the designer, make sure your project targets the applicable processor architecture for your app (for example, **x86**) rather than **Any CPU**. The control cannot be added to the designer if the project targets **Any CPU** for the build platform.\n\n**The AdMediatorControl shows the error “&lt;*width*&gt; x &lt;*height*&gt; Not supported” at run time when serving ads from Microsoft**  \nMicrosoft advertising only supports [certain ad sizes recommended by the Interactive Advertising Bureau (IAB)](add-and-use-the-ad-mediator-control.md#supported-ad-sizes-for-microsoft-advertising). In some cases, even if you set the height and width of the ad mediator control in the designer or in your XAML to one of these supported ad sizes, scaling and rounding issues might cause prevent the ad mediation framework from serving an ad. To avoid this issue, assign the **Width** and **Height** optional parameters for Microsoft advertising in your code to one of the supported ad sizes.\n\nThe following code example demonstrates how to assign the **Width** and **Height** optional parameters for Microsoft advertising to 728 x 90.\n\n```CSharp\nmyAdMediatorControl.AdSdkOptionalParameters[AdSdkNames.MicrosoftAdvertising][\"Width\"] = 728;\nmyAdMediatorControl.AdSdkOptionalParameters[AdSdkNames.MicrosoftAdvertising][\"Height\"] = 90;\n```\n\n**Ad mediation does not include location (latitude/longitude) for the ad network**  \nIf you enable the location capability in your app, the ad mediator control will automatically fetch the latitude/longitude coordinates and provide them to ad networks that support them.\n\n**The Smaato ad control doesn’t line up correctly**  \nTry using the optional parameters to set values on the SDK controls:\n\n```CSharp\nmyAdMediatorControl.AdSdkOptionalParameters[AdSdkNames.Smaato][\"Margin\"] = new Thickness(0, -20, 0, 0);\nmyAdMediatorControl.AdSdkOptionalParameters[AdSdkNames.Smaato][\"Width\"] = 50d;\nmyAdMediatorControl.AdSdkOptionalParameters[AdSdkNames.Smaato][\"Height\"] = 320d;\n```\n\n**The AdDuplex ad control does not show with the correct size (it shows as 250x250)**  \nAd mediation does not set any value for the size, so you should change it using the optional **Size** parameter. For example:\n\n```CSharp\nmyAdMediatorControl.AdSdkOptionalParameters[AdSdkNames.AdDuplex][\"Size\"] = \"160x600\";\n```\n\n**You receive the error “Something is covering the ad control”**  \nAd Duplex will always show an error if the ad is obscured in any way within your app. [Read their solution](http://blog.adduplex.com/2014/01/solving-something-is-covering-ad.mdl) to this error.\n\n**You receive the error \"There was a conflict between two files\"**  \nYou have referenced the Microsoft advertising assemblies elsewhere in your app. Ad mediation is designed to work exclusively in your app, and it will not work if other references to the Microsoft advertising assemblies are used. Remove the Microsoft advertising references manually and reinstall the Microsoft Store Engagement and Monetization SDK to clear the error.\n\n**You encounter unexpected behavior after changing the RefreshRate value in the AdMediator.config file**\n\nAfter you configure your ad networks by running the **Ad Mediator** component in the **Add Connected Service** dialog box in Visual Studio, the default configuration information is saved to the AdMediator.config file in your project. You are not intended to modify this file directly. Instead, you can modify this information (including the refresh rate for new ads) when you [configure the ad mediation settings for your app](submit-your-app-and-configure-ad-mediation.md) after you upload your app package to the Windows Dev Center dashboard.\n\nIf you change the **RefreshRate** value in the AdMediator.config file, be aware that this value must contain an integer between 30 and 120 that represents the refresh rate in seconds. If you set this to an integer less than 30 or greater than 120,  the ad mediation framework will automatically use a refresh rate of 60 seconds.\n\n## Related topics\n\n* [Select and manage your ad networks](select-and-manage-your-ad-networks.md)\n* [Add and use the ad mediation control](add-and-use-the-ad-mediator-control.md)\n* [Test your ad mediation implementation](test-your-ad-mediation-implementation.md)\n* [Submit your app and configure ad mediation](submit-your-app-and-configure-ad-mediation.md)\n \n\n \n"}