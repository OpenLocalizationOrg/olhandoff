{"nodes":[{"content":"Create, write, and read a file","pos":[78,108]},{"content":"Read and write a file using a StorageFile object.","pos":[122,171]},{"content":"Create, write, and read a file","pos":[179,209]},{"content":"Updated for UWP apps on Windows 10.","pos":[215,250]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept>","pos":[251,343]},{"content":"Important APIs","pos":[351,365]},{"content":"StorageFolder class","pos":[376,395]},{"content":"StorageFile class","pos":[464,481]},{"content":"FileIO class","pos":[550,562]},{"pos":[625,738],"content":"Read and write a file using a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StorageFile<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227171)</ept> object."},{"pos":[742,835],"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  Also see the <bpt id=\"p2\">[</bpt>File access sample<ept id=\"p2\">](http://go.microsoft.com/fwlink/p/?linkid=619995)</ept>."},{"content":"Prerequisites","pos":[840,853]},{"content":"Understand async programming for Universal Windows Platform (UWP) apps","pos":[861,931]},{"content":"You can learn how to write asynchronous apps in C# or Visual Basic, see <bpt id=\"p1\">[</bpt>Call asynchronous APIs in C# or Visual Basic<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/mt187337)</ept>.","pos":[939,1116]},{"content":"To learn how to write asynchronous apps in C++, see <bpt id=\"p1\">[</bpt>Asynchronous programming in C++<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/mt187334)</ept>.","pos":[1117,1261]},{"content":"Know how to get the file that you want to read from, write to, or both","pos":[1269,1339]},{"pos":[1347,1489],"content":"You can learn how to get a file by using a file picker in <bpt id=\"p1\">[</bpt>Open files and folders with a picker<ept id=\"p1\">](quickstart-using-file-and-folder-pickers.md)</ept>."},{"content":"Creating a file","pos":[1494,1509]},{"content":"Here's how to create a file in the app's local folder.","pos":[1511,1565]},{"content":"If it already exists, we replace it.","pos":[1566,1602]},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[1605,1638]},{"content":"Writing to a file","pos":[2222,2239]},{"content":"Here's how to write to a writable file on disk using the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StorageFile<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227171)</ept> class.","pos":[2242,2381]},{"content":"The common first step for each of the ways of writing to a file (unless you're writing to the file immediately after creating it) is to get the file with <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StorageFolder.GetFileAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227272)</ept>.","pos":[2382,2627]},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[2630,2663]},{"content":"Writing text to a file","pos":[3051,3073]},{"pos":[3077,3286],"content":"Write text to your file by calling the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>WriteTextAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh701505)</ept> method of the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>FileIO<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh701440)</ept> class."},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[3289,3322]},{"content":"Writing bytes to a file by using a buffer (2 steps)","pos":[3501,3552]},{"pos":[3560,3754],"content":"First, call <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ConvertStringToBinary<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241385)</ept> to get a buffer of the bytes (based on an arbitrary string) that you want to write to your file."},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[3757,3790]},{"pos":[4213,4451],"content":"Then write the bytes from your buffer to your file by calling the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>WriteBufferAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh701490)</ept> method of the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>FileIO<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh701440)</ept> class."},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[4454,4487]},{"content":"Writing text to a file by using a stream (4 steps)","pos":[4644,4694]},{"content":"First, open the file by calling the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StorageFile.OpenAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn889851)</ept> method.","pos":[4702,4831]},{"content":"It returns a stream of the file's content when the open operation completes.","pos":[4832,4908]},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[4911,4944]},{"content":"Next, get an output stream by calling the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>GetOutputStreamAt<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241738)</ept> method from the <ph id=\"ph1\">`stream`</ph>.","pos":[5135,5284]},{"content":"Put this in a <bpt id=\"p1\">**</bpt>using<ept id=\"p1\">**</ept> statement to manage the output stream's lifetime.","pos":[5285,5358]},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[5361,5394]},{"pos":[5759,6057],"content":"Now add this code within the existing <bpt id=\"p1\">**</bpt>using<ept id=\"p1\">**</ept> statement to write to the output stream by creating a new <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>DataWriter<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/br208154)</ept> object and calling the <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>DataWriter.WriteString<ept id=\"p5\">**</ept><ept id=\"p4\">](https://msdn.microsoft.com/library/windows/apps/br241642)</ept> method."},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[6060,6093]},{"pos":[6478,6750],"content":"Lastly, add this code (within the inner <bpt id=\"p1\">**</bpt>using<ept id=\"p1\">**</ept> statement) to save the text to your file with <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>StoreAsync<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/br208171)</ept> and close the stream with <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>FlushAsync<ept id=\"p5\">**</ept><ept id=\"p4\">](https://msdn.microsoft.com/library/windows/apps/br241729)</ept>."},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[6753,6786]},{"content":"Reading from a file","pos":[6962,6981]},{"content":"Here's how to read from a file on disk using the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StorageFile<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227171)</ept> class.","pos":[6984,7115]},{"content":"The common first step for each of the ways of reading from a file is to get the file with <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StorageFolder.GetFileAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227272)</ept>.","pos":[7116,7297]},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[7300,7333]},{"content":"Reading text from a file","pos":[7721,7745]},{"pos":[7749,7958],"content":"Read text from your file by calling the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ReadTextAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh701482)</ept> method of the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>FileIO<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh701440)</ept> class."},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[7961,7994]},{"content":"Reading bytes from a file by using a buffer (2 steps)","pos":[8164,8217]},{"pos":[8225,8459],"content":"First, read bytes from your buffer to your file by calling the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ReadBufferAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh701468)</ept> method of the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>FileIO<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh701440)</ept> class."},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[8462,8495]},{"pos":[8662,8816],"content":"Then use a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>DataReader<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br208119)</ept> object to read first the length of the buffer and then its contents."},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[8819,8852]},{"content":"Reading text from a file by using a stream (4 steps)","pos":[9174,9226]},{"content":"Open a stream for your file by calling the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StorageFile.OpenAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn889851)</ept> method.","pos":[9234,9370]},{"content":"It returns a stream of the file's content when the operation completes.","pos":[9371,9442]},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[9445,9478]},{"content":"Get the size of the stream to use later.","pos":[9669,9709]},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[9712,9745]},{"content":"Get an input stream by calling the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>GetInputStreamAt<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241737)</ept> method.","pos":[9820,9943]},{"content":"Put this in a <bpt id=\"p1\">**</bpt>using<ept id=\"p1\">**</ept> statement to manage the stream's lifetime.","pos":[9944,10010]},{"content":"Specify 0 when you call <bpt id=\"p1\">**</bpt>GetInputStreamAt<ept id=\"p1\">**</ept> to set the position to the beginning of the stream.","pos":[10011,10107]},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[10110,10143]},{"pos":[10394,10766],"content":"Lastly, add this code within the existing <bpt id=\"p1\">**</bpt>using<ept id=\"p1\">**</ept> statement to get a <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>DataReader<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/br208119)</ept> object on the stream then read the text by calling <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>DataReader.LoadAsync<ept id=\"p5\">**</ept><ept id=\"p4\">](https://msdn.microsoft.com/library/windows/apps/br208135)</ept> and <bpt id=\"p6\">[</bpt><bpt id=\"p7\">**</bpt>DataReader.ReadString<ept id=\"p7\">**</ept><ept id=\"p6\">](https://msdn.microsoft.com/library/windows/apps/br208147)</ept>."},{"content":"[!div class=\"tabbedCodeSnippets\"]","pos":[10769,10802]}],"content":"---\nauthor: TylerMSFT\nms.assetid: 27914C0A-2A02-473F-BDD5-C931E3943AA0\ntitle: Create, write, and read a file\ndescription: Read and write a file using a StorageFile object.\n---\n\n# Create, write, and read a file\n\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\n\n**Important APIs**\n\n-   [**StorageFolder class**](https://msdn.microsoft.com/library/windows/apps/br227230)\n-   [**StorageFile class**](https://msdn.microsoft.com/library/windows/apps/br227171)\n-   [**FileIO class**](https://msdn.microsoft.com/library/windows/apps/hh701440)\n\nRead and write a file using a [**StorageFile**](https://msdn.microsoft.com/library/windows/apps/br227171) object.\n\n> **Note**  Also see the [File access sample](http://go.microsoft.com/fwlink/p/?linkid=619995).\n\n## Prerequisites\n\n-   **Understand async programming for Universal Windows Platform (UWP) apps**\n\n    You can learn how to write asynchronous apps in C# or Visual Basic, see [Call asynchronous APIs in C# or Visual Basic](https://msdn.microsoft.com/library/windows/apps/mt187337). To learn how to write asynchronous apps in C++, see [Asynchronous programming in C++](https://msdn.microsoft.com/library/windows/apps/mt187334).\n\n-   **Know how to get the file that you want to read from, write to, or both**\n\n    You can learn how to get a file by using a file picker in [Open files and folders with a picker](quickstart-using-file-and-folder-pickers.md).\n\n## Creating a file\n\nHere's how to create a file in the app's local folder. If it already exists, we replace it.\n> [!div class=\"tabbedCodeSnippets\"]\n```cs\n// Create sample file; replace if exists.\nWindows.Storage.StorageFolder storageFolder =\n    Windows.Storage.ApplicationData.Current.LocalFolder;\nWindows.Storage.StorageFile sampleFile =\n    await storageFolder.CreateFileAsync(\"sample.txt\",\n        Windows.Storage.CreationCollisionOption.ReplaceExisting);\n```\n```vb\n' Create sample file; replace if exists.\nDim storageFolder As StorageFolder = Windows.Storage.ApplicationData.Current.LocalFolder\nDim sampleFile As StorageFile = Await storageFolder.CreateFileAsync(\"sample.txt\", CreationCollisionOption.ReplaceExisting)\n```\n\n## Writing to a file\n\n\nHere's how to write to a writable file on disk using the [**StorageFile**](https://msdn.microsoft.com/library/windows/apps/br227171) class. The common first step for each of the ways of writing to a file (unless you're writing to the file immediately after creating it) is to get the file with [**StorageFolder.GetFileAsync**](https://msdn.microsoft.com/library/windows/apps/br227272).\n> [!div class=\"tabbedCodeSnippets\"]\n```cs\nWindows.Storage.StorageFolder storageFolder =\n    Windows.Storage.ApplicationData.Current.LocalFolder;\nWindows.Storage.StorageFile sampleFile =\n    await storageFolder.GetFileAsync(\"sample.txt\");\n```\n```vb\nDim storageFolder As StorageFolder = Windows.Storage.ApplicationData.Current.LocalFolder\nDim sampleFile As StorageFile = Await storageFolder.GetFileAsync(\"sample.txt\")\n```\n\n**Writing text to a file**\n\nWrite text to your file by calling the [**WriteTextAsync**](https://msdn.microsoft.com/library/windows/apps/hh701505) method of the [**FileIO**](https://msdn.microsoft.com/library/windows/apps/hh701440) class.\n> [!div class=\"tabbedCodeSnippets\"]\n```cs\nawait Windows.Storage.FileIO.WriteTextAsync(sampleFile, \"Swift as a shadow\");\n```\n```vb\nAwait Windows.Storage.FileIO.WriteTextAsync(sampleFile, \"Swift as a shadow\")\n```\n\n**Writing bytes to a file by using a buffer (2 steps)**\n\n1.  First, call [**ConvertStringToBinary**](https://msdn.microsoft.com/library/windows/apps/br241385) to get a buffer of the bytes (based on an arbitrary string) that you want to write to your file.\n> [!div class=\"tabbedCodeSnippets\"]\n```cs\nvar buffer = Windows.Security.Cryptography.CryptographicBuffer.ConvertStringToBinary(\n        \"What fools these mortals be\", Windows.Security.Cryptography.BinaryStringEncoding.Utf8);\n```\n```vb\nDim buffer = Windows.Security.Cryptography.CryptographicBuffer.ConvertStringToBinary(\n                    \"What fools these mortals be\",\n                    Windows.Security.Cryptography.BinaryStringEncoding.Utf8)\n```\n\n2.  Then write the bytes from your buffer to your file by calling the [**WriteBufferAsync**](https://msdn.microsoft.com/library/windows/apps/hh701490) method of the [**FileIO**](https://msdn.microsoft.com/library/windows/apps/hh701440) class.\n> [!div class=\"tabbedCodeSnippets\"]\n```cs\nawait Windows.Storage.FileIO.WriteBufferAsync(sampleFile, buffer);\n```\n```vb\nAwait Windows.Storage.FileIO.WriteBufferAsync(sampleFile, buffer)\n```\n\n**Writing text to a file by using a stream (4 steps)**\n\n1.  First, open the file by calling the [**StorageFile.OpenAsync**](https://msdn.microsoft.com/library/windows/apps/dn889851) method. It returns a stream of the file's content when the open operation completes.\n> [!div class=\"tabbedCodeSnippets\"]\n```cs\nvar stream = await sampleFile.OpenAsync(Windows.Storage.FileAccessMode.ReadWrite);\n```\n```vb\nDim stream = Await sampleFile.OpenAsync(Windows.Storage.FileAccessMode.ReadWrite)\n```\n\n2.  Next, get an output stream by calling the [**GetOutputStreamAt**](https://msdn.microsoft.com/library/windows/apps/br241738) method from the `stream`. Put this in a **using** statement to manage the output stream's lifetime.\n> [!div class=\"tabbedCodeSnippets\"]\n```cs\nusing (var outputStream = stream.GetOutputStreamAt(0))\n    {\n        // We'll add more code here in the next step.\n    }\n    stream.Dispose(); // Or use the stream variable (see previous code snippet) with a using statement as well.\n```\n```vb\nUsing outputStream = stream.GetOutputStreamAt(0)\n  ' We'll add more code here in the next step.\nEnd Using\n```\n\n3.  Now add this code within the existing **using** statement to write to the output stream by creating a new [**DataWriter**](https://msdn.microsoft.com/library/windows/apps/br208154) object and calling the [**DataWriter.WriteString**](https://msdn.microsoft.com/library/windows/apps/br241642) method.\n> [!div class=\"tabbedCodeSnippets\"]\n```cs\nusing (var dataWriter = new Windows.Storage.Streams.DataWriter(outputStream))\n    {\n        dataWriter.WriteString(\"DataWriter has methods to write to various types, such as DataTimeOffset.\");\n    }\n```\n```vb\n    Dim dataWriter As New DataWriter(outputStream)\n    \n    dataWriter.WriteString(\"DataWriter has methods to write to various types, such as DataTimeOffset.\")\n```\n\n4.  Lastly, add this code (within the inner **using** statement) to save the text to your file with [**StoreAsync**](https://msdn.microsoft.com/library/windows/apps/br208171) and close the stream with [**FlushAsync**](https://msdn.microsoft.com/library/windows/apps/br241729).\n> [!div class=\"tabbedCodeSnippets\"]\n```cs\n    await dataWriter.StoreAsync();\n        await outputStream.FlushAsync(); \n```\n```vb\n    Await dataWriter.StoreAsync()\n        Await outputStream.FlushAsync()\n```\n\n## Reading from a file\n\n\nHere's how to read from a file on disk using the [**StorageFile**](https://msdn.microsoft.com/library/windows/apps/br227171) class. The common first step for each of the ways of reading from a file is to get the file with [**StorageFolder.GetFileAsync**](https://msdn.microsoft.com/library/windows/apps/br227272).\n> [!div class=\"tabbedCodeSnippets\"]\n```cs\nWindows.Storage.StorageFolder storageFolder =\n    Windows.Storage.ApplicationData.Current.LocalFolder;\nWindows.Storage.StorageFile sampleFile =\n    await storageFolder.GetFileAsync(\"sample.txt\");\n```\n```vb\nDim storageFolder As StorageFolder = Windows.Storage.ApplicationData.Current.LocalFolder\nDim sampleFile As StorageFile = Await storageFolder.GetFileAsync(\"sample.txt\")\n```\n\n**Reading text from a file**\n\nRead text from your file by calling the [**ReadTextAsync**](https://msdn.microsoft.com/library/windows/apps/hh701482) method of the [**FileIO**](https://msdn.microsoft.com/library/windows/apps/hh701440) class.\n> [!div class=\"tabbedCodeSnippets\"]\n```cs\nstring text = await Windows.Storage.FileIO.ReadTextAsync(sampleFile);\n```\n```vb\nDim text As String = Await Windows.Storage.FileIO.ReadTextAsync(sampleFile)\n```\n\n**Reading bytes from a file by using a buffer (2 steps)**\n\n1.  First, read bytes from your buffer to your file by calling the [**ReadBufferAsync**](https://msdn.microsoft.com/library/windows/apps/hh701468) method of the [**FileIO**](https://msdn.microsoft.com/library/windows/apps/hh701440) class.\n> [!div class=\"tabbedCodeSnippets\"]\n```cs\nvar buffer = await Windows.Storage.FileIO.ReadBufferAsync(sampleFile);\n```\n```vb\nDim buffer = Await Windows.Storage.FileIO.ReadBufferAsync(sampleFile)\n```\n\n2.  Then use a [**DataReader**](https://msdn.microsoft.com/library/windows/apps/br208119) object to read first the length of the buffer and then its contents.\n> [!div class=\"tabbedCodeSnippets\"]\n```cs\nusing (var dataReader = Windows.Storage.Streams.DataReader.FromBuffer(buffer))\n    {\n        string text = dataReader.ReadString(buffer.Length);\n    }\n```\n```vb\nDim dataReader As DataReader = Windows.Storage.Streams.DataReader.FromBuffer(buffer)\n    Dim text As String = dataReader.ReadString(buffer.Length)\n```\n\n**Reading text from a file by using a stream (4 steps)**\n\n1.  Open a stream for your file by calling the [**StorageFile.OpenAsync**](https://msdn.microsoft.com/library/windows/apps/dn889851) method. It returns a stream of the file's content when the operation completes.\n> [!div class=\"tabbedCodeSnippets\"]\n```cs\nvar stream = await sampleFile.OpenAsync(Windows.Storage.FileAccessMode.ReadWrite);\n```\n```vb\nDim stream = Await sampleFile.OpenAsync(Windows.Storage.FileAccessMode.ReadWrite)\n```\n\n2.  Get the size of the stream to use later.\n> [!div class=\"tabbedCodeSnippets\"]\n```cs\nulong size = stream.Size;\n```\n```vb\nDim size = stream.Size\n```\n\n3.  Get an input stream by calling the [**GetInputStreamAt**](https://msdn.microsoft.com/library/windows/apps/br241737) method. Put this in a **using** statement to manage the stream's lifetime. Specify 0 when you call **GetInputStreamAt** to set the position to the beginning of the stream.\n> [!div class=\"tabbedCodeSnippets\"]\n```cs\nusing (var inputStream = stream.GetInputStreamAt(0))\n    {\n        // We'll add more code here in the next step.\n    }\n```\n```vb\nUsing inputStream = stream.GetInputStreamAt(0)\n    ' We'll add more code here in the next step.\nEnd Using\n```\n\n4.  Lastly, add this code within the existing **using** statement to get a [**DataReader**](https://msdn.microsoft.com/library/windows/apps/br208119) object on the stream then read the text by calling [**DataReader.LoadAsync**](https://msdn.microsoft.com/library/windows/apps/br208135) and [**DataReader.ReadString**](https://msdn.microsoft.com/library/windows/apps/br208147).\n> [!div class=\"tabbedCodeSnippets\"]\n```cs\nusing (var dataReader = new Windows.Storage.Streams.DataReader(inputStream))\n    {\n        uint numBytesLoaded = await dataReader.LoadAsync((uint)size);\n        string text = dataReader.ReadString(numBytesLoaded);\n    }\n```\n```vb\nDim dataReader As New DataReader(inputStream)\n    Dim numBytesLoaded As UInteger = Await dataReader.LoadAsync(CUInt(size))\n    Dim text As String = dataReader.ReadString(numBytesLoaded)\n```\n\n \n\n \n\n\n\n\n"}