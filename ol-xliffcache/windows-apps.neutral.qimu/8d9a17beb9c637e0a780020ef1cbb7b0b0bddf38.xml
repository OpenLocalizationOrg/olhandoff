{"nodes":[{"content":"Asynchronous programming","pos":[78,102]},{"content":"This topic describes asynchronous programming in the Universal Windows Platform (UWP) and its representation in C#, Microsoft Visual Basic .NET, Visual C<ph id=\"ph1\">\\+\\+</ph> component extensions (C<ph id=\"ph2\">\\+\\+</ph>/CX), and JavaScript.","pos":[116,322]},{"content":"Asynchronous programming","pos":[329,353]},{"content":"Updated for UWP apps on Windows 10.","pos":[358,393]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept>","pos":[394,486]},{"content":"This topic describes asynchronous programming in the Universal Windows Platform (UWP) and its representation in C#, Microsoft Visual Basic .NET, Visual C++ component extensions (C++/CX), and JavaScript.","pos":[492,694]},{"content":"Using asynchronous programming helps your app stay responsive when it does work that might take an extended amount of time.","pos":[696,819]},{"content":"For example, an app that downloads content from the Internet might spend several seconds waiting for the content to arrive.","pos":[820,943]},{"content":"If you used a synchronous method on the UI thread to retrieve the content, the app is blocked until the method returns.","pos":[944,1063]},{"content":"The app won't respond to user interaction, and because it seems non-responsive, the user might become frustrated.","pos":[1064,1177]},{"content":"A much better way is to use asynchronous programming, where the app continues to run and respond to the UI while it waits for an operation to complete.","pos":[1178,1329]},{"content":"For methods that might take a long time to complete, asynchronous programming is the norm and not the exception in the UWP.","pos":[1331,1454]},{"content":"JavaScript, C#, Visual Basic, and C++/CX each provide language support for asynchronous methods.","pos":[1455,1551]},{"content":"Asynchronous programming in the UWP","pos":[1556,1591]},{"content":"Many UWP features like the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>MediaCapture<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR241124)</ept> APIs and <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>StorageFile<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/BR227171)</ept> APIs are exposed as asynchronous APIs.","pos":[1593,1820]},{"content":"By convention, the names of asynchronous APIs end with \"Async\" to indicate that part of their execution may take place after the API has been invoked.","pos":[1821,1971]},{"content":"When you use asynchronous APIs in your Universal Windows Platform (UWP) app, your code makes non-blocking calls in a consistent way.","pos":[1973,2105]},{"content":"When you implement these asynchronous patterns in your own API definitions, callers can understand and use your code in a predictable way.","pos":[2106,2244]},{"content":"Here are some common tasks that require calling asynchronous UWP APIs.","pos":[2246,2316]},{"content":"Displaying a message dialog","pos":[2322,2349]},{"content":"Working with the file system, displaying a file picker","pos":[2355,2409]},{"content":"Sending and receiving data to and from the Internet","pos":[2415,2466]},{"content":"Using sockets, streams, connectivity","pos":[2472,2508]},{"content":"Working with appointments, contacts, calendar","pos":[2514,2559]},{"content":"Working with file types, such as opening Portable Document Format (PDF) files or decoding image or media formats","pos":[2565,2677]},{"content":"Interacting with a device or a service","pos":[2683,2721]},{"content":"With UWP asynchronous pattern, you may be able to avoid explicitly manage threads at all.","pos":[2723,2812]},{"content":"Each programming language supports the asynchronous pattern for the UWP in its own way:","pos":[2813,2900]},{"content":"Programming language","pos":[2904,2924]},{"content":"Asynchronous representation","pos":[2927,2954]},{"content":"C","pos":[3034,3035]},{"pos":[3056,3093],"content":"<bpt id=\"p1\">**</bpt>async<ept id=\"p1\">**</ept> keyword, <bpt id=\"p2\">**</bpt>await<ept id=\"p2\">**</ept> operator"},{"content":"Visual Basic","pos":[3098,3110]},{"pos":[3121,3158],"content":"<bpt id=\"p1\">**</bpt>Async<ept id=\"p1\">**</ept> keyword, <bpt id=\"p2\">**</bpt>Await<ept id=\"p2\">**</ept> operator"},{"content":"C++/CX","pos":[3163,3169]},{"pos":[3186,3218],"content":"<bpt id=\"p1\">**</bpt>task<ept id=\"p1\">**</ept> class, <bpt id=\"p2\">**</bpt>.then<ept id=\"p2\">**</ept> method"},{"content":"JavaScript","pos":[3228,3238]},{"pos":[3251,3284],"content":"promise object, <bpt id=\"p1\">**</bpt>then<ept id=\"p1\">**</ept> function"},{"content":"Asynchronous patterns in UWP using C# and Visual Basic","pos":[3298,3352]},{"content":"A typical segment of code written in C# or Visual Basic executes synchronously, meaning that when a line executes, it finishes before the next line executes.","pos":[3355,3512]},{"content":"There have been previous Microsoft .NET programming models for asynchronous execution, but the resulting code tends to emphasize the mechanics of executing asynchronous code instead of focusing on the task that the code is trying to accomplish.","pos":[3513,3757]},{"content":"The UWP, .NET framework, and C# and Visual Basic compilers have added features that abstract the asynchronous mechanics out of your code.","pos":[3758,3895]},{"content":"For .NET and the UWP you can write asynchronous code that focuses on what your code does instead of how and when to do it.","pos":[3896,4018]},{"content":"Your asynchronous code will look reasonably similar to synchronous code.","pos":[4019,4091]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>Call asynchronous APIs in C# or Visual Basic<ept id=\"p1\">](call-asynchronous-apis-in-csharp-or-visual-basic.md)</ept>.","pos":[4092,4211]},{"content":"Asynchronous patterns in UWP with C++","pos":[4216,4253]},{"content":"In C++/CX, asynchronous programming is based on the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>task class<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh750113.aspx)</ept>, and its <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>then method<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh750044.aspx)</ept>.","pos":[4256,4500]},{"content":"The syntax is similar to that of JavaScript promises.","pos":[4501,4554]},{"content":"The <bpt id=\"p1\">**</bpt>task class<ept id=\"p1\">**</ept> and its related types also provide the capability for cancellation and management of the thread context.","pos":[4555,4678]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>Asynchronous programming in C++<ept id=\"p1\">](asynchronous-programming-in-cpp-universal-windows-platform-apps.md)</ept>.","pos":[4679,4800]},{"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>create<ph id=\"ph1\">\\_</ph>async function<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh750102.aspx)</ept> provides support for producing asynchronous APIs that can be consumed from JavaScript or any other language that supports the UWP.","pos":[4802,5039]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>Creating Asynchronous Operations in C++<ept id=\"p1\">](https://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh750082.aspx)</ept>.","pos":[5040,5175]},{"content":"Asynchronous patterns in UWP using JavaScript","pos":[5180,5225]},{"content":"In JavaScript, asynchronous programming follows the <bpt id=\"p1\">[</bpt>Common JS Promises/A<ept id=\"p1\">](http://wiki.commonjs.org/wiki/Promises/A)</ept> proposed standard by having asynchronous methods return promise objects.","pos":[5227,5416]},{"content":"Promises are used in both the UWP and Windows Library for JavaScript.","pos":[5417,5486]},{"content":"A promise object represents a value that will be fulfilled in the future.","pos":[5488,5561]},{"content":"In the UWP you get a promise object from a factory function, which by convention has a name that ends with \"Async\".","pos":[5562,5677]},{"content":"In many cases, calling an asynchronous function is almost as simple as calling a conventional function.","pos":[5679,5782]},{"content":"The difference is that you use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>then<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR229728)</ept> or the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>done<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/Hh701079)</ept> method to assign the handlers for results or errors and to start the operation.","pos":[5783,6042]},{"content":"Related topics","pos":[6047,6061]},{"content":"Call asynchronous APIs in C# or Visual Basic","pos":[6066,6110]},{"content":"Asynchronous Programming with Async and Await (C# and Visual Basic)","pos":[6168,6235]},{"content":"Reversi sample feature scenarios: asynchronous code","pos":[6297,6348]}],"content":"---\nauthor: TylerMSFT\nms.assetid: 23FE28F1-89C5-4A17-A732-A722648F9C5E\ntitle: Asynchronous programming\ndescription: This topic describes asynchronous programming in the Universal Windows Platform (UWP) and its representation in C#, Microsoft Visual Basic .NET, Visual C\\+\\+ component extensions (C\\+\\+/CX), and JavaScript.\n---\n# Asynchronous programming\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\n\nThis topic describes asynchronous programming in the Universal Windows Platform (UWP) and its representation in C#, Microsoft Visual Basic .NET, Visual C++ component extensions (C++/CX), and JavaScript.\n\nUsing asynchronous programming helps your app stay responsive when it does work that might take an extended amount of time. For example, an app that downloads content from the Internet might spend several seconds waiting for the content to arrive. If you used a synchronous method on the UI thread to retrieve the content, the app is blocked until the method returns. The app won't respond to user interaction, and because it seems non-responsive, the user might become frustrated. A much better way is to use asynchronous programming, where the app continues to run and respond to the UI while it waits for an operation to complete.\n\nFor methods that might take a long time to complete, asynchronous programming is the norm and not the exception in the UWP. JavaScript, C#, Visual Basic, and C++/CX each provide language support for asynchronous methods.\n\n## Asynchronous programming in the UWP\n\nMany UWP features like the [**MediaCapture**](https://msdn.microsoft.com/library/windows/apps/BR241124) APIs and [**StorageFile**](https://msdn.microsoft.com/library/windows/apps/BR227171) APIs are exposed as asynchronous APIs. By convention, the names of asynchronous APIs end with \"Async\" to indicate that part of their execution may take place after the API has been invoked.\n\nWhen you use asynchronous APIs in your Universal Windows Platform (UWP) app, your code makes non-blocking calls in a consistent way. When you implement these asynchronous patterns in your own API definitions, callers can understand and use your code in a predictable way.\n\nHere are some common tasks that require calling asynchronous UWP APIs.\n\n-   Displaying a message dialog\n\n-   Working with the file system, displaying a file picker\n\n-   Sending and receiving data to and from the Internet\n\n-   Using sockets, streams, connectivity\n\n-   Working with appointments, contacts, calendar\n\n-   Working with file types, such as opening Portable Document Format (PDF) files or decoding image or media formats\n\n-   Interacting with a device or a service\n\nWith UWP asynchronous pattern, you may be able to avoid explicitly manage threads at all. Each programming language supports the asynchronous pattern for the UWP in its own way:\n\n| Programming language | Asynchronous representation           |\n|----------------------|---------------------------------------|\n| C#                  | **async** keyword, **await** operator |\n| Visual Basic         | **Async** keyword, **Await** operator |\n| C++/CX               | **task** class, **.then** method      |\n| JavaScript           | promise object, **then** function     |\n\n \n\n## Asynchronous patterns in UWP using C# and Visual Basic\n\n\nA typical segment of code written in C# or Visual Basic executes synchronously, meaning that when a line executes, it finishes before the next line executes. There have been previous Microsoft .NET programming models for asynchronous execution, but the resulting code tends to emphasize the mechanics of executing asynchronous code instead of focusing on the task that the code is trying to accomplish. The UWP, .NET framework, and C# and Visual Basic compilers have added features that abstract the asynchronous mechanics out of your code. For .NET and the UWP you can write asynchronous code that focuses on what your code does instead of how and when to do it. Your asynchronous code will look reasonably similar to synchronous code. For more info, see [Call asynchronous APIs in C# or Visual Basic](call-asynchronous-apis-in-csharp-or-visual-basic.md).\n\n## Asynchronous patterns in UWP with C++\n\n\nIn C++/CX, asynchronous programming is based on the [**task class**](https://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh750113.aspx), and its [**then method**](https://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh750044.aspx). The syntax is similar to that of JavaScript promises. The **task class** and its related types also provide the capability for cancellation and management of the thread context. For more info, see [Asynchronous programming in C++](asynchronous-programming-in-cpp-universal-windows-platform-apps.md).\n\nThe [**create\\_async function**](https://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh750102.aspx) provides support for producing asynchronous APIs that can be consumed from JavaScript or any other language that supports the UWP. For more info, see [Creating Asynchronous Operations in C++](https://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh750082.aspx).\n\n## Asynchronous patterns in UWP using JavaScript\n\nIn JavaScript, asynchronous programming follows the [Common JS Promises/A](http://wiki.commonjs.org/wiki/Promises/A) proposed standard by having asynchronous methods return promise objects. Promises are used in both the UWP and Windows Library for JavaScript.\n\nA promise object represents a value that will be fulfilled in the future. In the UWP you get a promise object from a factory function, which by convention has a name that ends with \"Async\".\n\nIn many cases, calling an asynchronous function is almost as simple as calling a conventional function. The difference is that you use the [**then**](https://msdn.microsoft.com/library/windows/apps/BR229728) or the [**done**](https://msdn.microsoft.com/library/windows/apps/Hh701079) method to assign the handlers for results or errors and to start the operation.\n\n## Related topics\n\n* [Call asynchronous APIs in C# or Visual Basic](call-asynchronous-apis-in-csharp-or-visual-basic.md)\n* [Asynchronous Programming with Async and Await (C# and Visual Basic)](http://msdn.microsoft.com/library/hh191443(vs.110).aspx)\n* [Reversi sample feature scenarios: asynchronous code](https://msdn.microsoft.com/en-us/library/windows/apps/xaml/jj712233.aspx#async)\n\n"}