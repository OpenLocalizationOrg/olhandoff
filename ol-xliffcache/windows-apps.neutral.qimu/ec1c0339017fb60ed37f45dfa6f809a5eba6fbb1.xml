{"nodes":[{"content":"Learn how to navigate in a basic two page peer-to-peer Universal Windows Platform (UWP) app.","pos":[32,124]},{"content":"Peer-to-peer navigation between two pages","pos":[132,173]},{"pos":[375,416],"content":"Peer-to-peer navigation between two pages"},{"content":"Learn how to navigate in a basic two page peer-to-peer Universal Windows Platform (UWP) app.","pos":[418,510]},{"content":"two-page peer-to-peer navigation example","pos":[514,554]},{"content":"Important APIs","pos":[593,607]},{"content":"Windows.UI.Xaml.Controls.Frame","pos":[618,648]},{"content":"Windows.UI.Xaml.Controls.Page","pos":[717,746]},{"content":"Windows.UI.Xaml.Navigation","pos":[815,841]},{"pos":[1025,1045],"content":"Create the blank app"},{"pos":[1052,1122],"content":"On the Microsoft Visual Studio menu, choose <bpt id=\"p1\">**</bpt>File <ph id=\"ph1\">&amp;gt;</ph> New Project<ept id=\"p1\">**</ept>."},{"pos":[1127,1291],"content":"In the left pane of the <bpt id=\"p1\">**</bpt>New Project<ept id=\"p1\">**</ept> dialog box, choose the <bpt id=\"p2\">**</bpt>Visual C# -<ph id=\"ph1\">&amp;gt;</ph> Windows -<ph id=\"ph2\">&amp;gt;</ph> Universal<ept id=\"p2\">**</ept> or the <bpt id=\"p3\">**</bpt>Visual C++ -<ph id=\"ph3\">&amp;gt;</ph> Windows -<ph id=\"ph4\">&amp;gt;</ph> Universal<ept id=\"p3\">**</ept> node."},{"pos":[1296,1337],"content":"In the center pane, choose <bpt id=\"p1\">**</bpt>Blank App<ept id=\"p1\">**</ept>."},{"pos":[1342,1416],"content":"In the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> box, enter <bpt id=\"p2\">**</bpt>NavApp1<ept id=\"p2\">**</ept>, and then choose the <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept> button."},{"pos":[1422,1500],"content":"The solution is created and the project files appear in <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>."},{"content":"<bpt id=\"p1\">**</bpt>Important<ept id=\"p1\">**</ept>  When you run Visual Studio for the first time, it prompts you to obtain a developer license.","pos":[1506,1613]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>Enable your device for development<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn706236)</ept>.","pos":[1614,1728]},{"pos":[1741,1830],"content":"To run the program, choose <bpt id=\"p1\">**</bpt>Debug<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Start Debugging<ept id=\"p2\">**</ept> from the menu, or press F5."},{"content":"A blank page is displayed.","pos":[1836,1862]},{"content":"Press Shift+F5 to stop debugging and return to Visual Studio.","pos":[1868,1929]},{"pos":[2036,2051],"content":"Add basic pages"},{"content":"Next, add two content pages to the project.","pos":[2054,2097]},{"content":"Do the following steps two times to add two pages to navigate between.","pos":[2099,2169]},{"pos":[2175,2269],"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click the <bpt id=\"p2\">**</bpt>BlankApp<ept id=\"p2\">**</ept> project node to open the shortcut menu."},{"pos":[2274,2330],"content":"Choose <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>New Item<ept id=\"p2\">**</ept> from the shortcut menu."},{"pos":[2335,2412],"content":"In the <bpt id=\"p1\">**</bpt>Add New Item<ept id=\"p1\">**</ept> dialog box, choose <bpt id=\"p2\">**</bpt>Blank Page<ept id=\"p2\">**</ept> in the middle pane."},{"pos":[2417,2498],"content":"In the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> box, enter <bpt id=\"p2\">**</bpt>Page1<ept id=\"p2\">**</ept> (or <bpt id=\"p3\">**</bpt>Page2<ept id=\"p3\">**</ept>) and press the <bpt id=\"p4\">**</bpt>Add<ept id=\"p4\">**</ept> button."},{"content":"These files should now be listed as part of your NavApp1 project.","pos":[2500,2565]},{"content":"CS","pos":[2683,2685]},{"content":"C++","pos":[2708,2711]},{"content":"Page1.xaml","pos":[2783,2793]},{"content":"Page1.xaml.cs","pos":[2803,2816]},{"content":"Page2.xaml","pos":[2826,2836]},{"content":"Page2.xaml.cs","pos":[2846,2859]},{"content":"Page1.xaml","pos":[2902,2912]},{"content":"Page1.xaml.cpp","pos":[2922,2936]},{"content":"Page1.xaml.h","pos":[2946,2958]},{"content":"Page2.xaml","pos":[2968,2978]},{"content":"Page2.xaml.cpp","pos":[2988,3002]},{"content":"Page2.xaml.h","pos":[3012,3024]},{"content":"Note","pos":[3053,3057]},{"content":"Functions are declared in the header (.h) file and implemented in the code-behind file (.cpp).","pos":[3072,3166]},{"content":"Add the following content to the UI of Page1.xaml.","pos":[3237,3287]},{"content":"Add a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>TextBlock<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br209652)</ept> element named <ph id=\"ph1\">`pageTitle`</ph> as a child element of the root <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Grid<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br242704)</ept>.","pos":[3293,3499]},{"content":"Change the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Text<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br209676)</ept> property to <ph id=\"ph1\">`Page 1`</ph>.","pos":[3500,3601]},{"pos":[3725,4039],"content":"Add the following <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>HyperlinkButton<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br242739)</ept> element as a child element of the root <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Grid<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br242704)</ept> and after the <ph id=\"ph1\">`pageTitle`</ph> <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>TextBlock<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/br209652)</ept> element."},{"content":"Add the following code to the <ph id=\"ph1\">`Page1`</ph> class in the Page1.xaml code-behind file to handle the <ph id=\"ph2\">`Click`</ph> event of the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>HyperlinkButton<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br242739)</ept> you added previously.","pos":[4439,4654]},{"content":"Here, we navigate to Page2.xaml.","pos":[4655,4687]},{"content":"Make the following changes to the UI of Page2.xaml.","pos":[5204,5255]},{"content":"Add a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>TextBlock<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br209652)</ept> element named <ph id=\"ph1\">`pageTitle`</ph> as a child element of the root <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Grid<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br242704)</ept>.","pos":[5261,5467]},{"content":"Change the value of the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Text<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br209676)</ept> property to <ph id=\"ph1\">`Page 2`</ph>.","pos":[5468,5582]},{"pos":[5706,6020],"content":"Add the following <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>HyperlinkButton<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br242739)</ept> element as a child element of the root <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Grid<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br242704)</ept> and after the <ph id=\"ph1\">`pageTitle`</ph> <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>TextBlock<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/br209652)</ept> element."},{"content":"Add the following code to the <ph id=\"ph1\">`Page2`</ph> class in the Page2.xaml code-behind file to handle the <ph id=\"ph2\">`Click`</ph> event of the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>HyperlinkButton<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br242739)</ept> you added previously.","pos":[6420,6635]},{"content":"Here, we navigate to Page1.xaml.","pos":[6636,6668]},{"content":"Note","pos":[6672,6676]},{"content":"For C++ projects, you must add a <ph id=\"ph1\">`#include`</ph> directive in the header file of each page that references another page.","pos":[6681,6796]},{"content":"For the inter-page navigation example presented here, page1.xaml.h file contains <ph id=\"ph1\">`#include \"Page2.xaml.h\"`</ph>, in turn, page2.xaml.h contains <ph id=\"ph2\">`#include \"Page1.xaml.h\"`</ph>.","pos":[6797,6962]},{"content":"Now that we've prepared the content pages, we need to make Page1.xaml display when the app starts.","pos":[7468,7566]},{"pos":[7568,7639],"content":"Open the app.xaml code-behind file and change the <ph id=\"ph1\">`OnLaunched`</ph> handler."},{"pos":[7641,7782],"content":"Here, we specify <ph id=\"ph1\">`Page1`</ph> in the call to <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Frame.Navigate<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br242694)</ept> instead of <ph id=\"ph2\">`MainPage`</ph>."},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  The code here uses the return value of <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>Navigate<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/br242694)</ept> to throw an app exception if the navigation to the app's initial window frame fails.","pos":[10867,11073]},{"content":"When <bpt id=\"p1\">**</bpt>Navigate<ept id=\"p1\">**</ept> returns <bpt id=\"p2\">**</bpt>true<ept id=\"p2\">**</ept>, the navigation happens.","pos":[11074,11133]},{"content":"Now, build and run the app.","pos":[11138,11165]},{"content":"Click the link that says \"Click to go to page 2\".","pos":[11166,11215]},{"content":"The second page that says \"Page 2\" at the top should be loaded and displayed in the frame.","pos":[11216,11306]},{"pos":[11434,11456],"content":"Frame and Page classes"},{"content":"Before we add more functionality to our app, let's look at how the pages we added provide navigation support for the app.","pos":[11459,11580]},{"content":"First, a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Frame<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br242682)</ept> (<ph id=\"ph1\">`rootFrame`</ph>) is created for the app in the <ph id=\"ph2\">`App.OnLaunched`</ph> method of the App.xaml code-behind file.","pos":[11582,11762]},{"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Navigate<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br242694)</ept> method is used to display content in this <bpt id=\"p3\">**</bpt>Frame<ept id=\"p3\">**</ept>.","pos":[11763,11892]},{"content":"Note","pos":[11896,11900]},{"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Frame<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br242682)</ept> class supports various navigation methods such as <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Navigate<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br242694)</ept>, <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>GoBack<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/dn996568)</ept>, and <bpt id=\"p7\">[</bpt><bpt id=\"p8\">**</bpt>GoForward<ept id=\"p8\">**</ept><ept id=\"p7\">](https://msdn.microsoft.com/library/windows/apps/br242693)</ept>, and properties such as <bpt id=\"p9\">[</bpt><bpt id=\"p10\">**</bpt>BackStack<ept id=\"p10\">**</ept><ept id=\"p9\">](https://msdn.microsoft.com/library/windows/apps/dn279543)</ept>, <bpt id=\"p11\">[</bpt><bpt id=\"p12\">**</bpt>ForwardStack<ept id=\"p12\">**</ept><ept id=\"p11\">](https://msdn.microsoft.com/library/windows/apps/dn279547)</ept>, and <bpt id=\"p13\">[</bpt><bpt id=\"p14\">**</bpt>BackStackDepth<ept id=\"p14\">**</ept><ept id=\"p13\">](https://msdn.microsoft.com/library/windows/apps/hh967995)</ept>.","pos":[11905,12513]},{"content":"In our example, <ph id=\"ph1\">`Page1`</ph> is passed to the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Navigate<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br242694)</ept> method.","pos":[12518,12639]},{"content":"This method sets the content of the app's current window to the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Frame<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br242682)</ept> and loads the content of the page you specify into the <bpt id=\"p3\">**</bpt>Frame<ept id=\"p3\">**</ept> (Page1.xaml in our example, or MainPage.xaml, by default).","pos":[12640,12897]},{"content":"is a subclass of the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Page<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227503)</ept> class.","pos":[12907,13003]},{"content":"The <bpt id=\"p1\">**</bpt>Page<ept id=\"p1\">**</ept> class has a read-only <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>Frame<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/br227504)</ept> property that gets the <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>Frame<ept id=\"p5\">**</ept><ept id=\"p4\">](https://msdn.microsoft.com/library/windows/apps/br242682)</ept> containing the <bpt id=\"p6\">**</bpt>Page<ept id=\"p6\">**</ept>.","pos":[13004,13226]},{"content":"When the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Click<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227737)</ept> event handler of the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>HyperlinkButton<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br242739)</ept> calls<ph id=\"ph1\">` Frame.Navigate(typeof(Page2))`</ph>, the <bpt id=\"p5\">**</bpt>Frame<ept id=\"p5\">**</ept> in the app's window displays the content of Page2.xaml.","pos":[13227,13515]},{"pos":[13517,13900],"content":"Whenever a page is loaded into the frame, that page is added as a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>PageStackEntry<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn298572)</ept> to the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>BackStack<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/dn279543)</ept> or <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>ForwardStack<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/dn279547)</ept> of the <bpt id=\"p7\">[</bpt><bpt id=\"p8\">**</bpt>Frame<ept id=\"p8\">**</ept><ept id=\"p7\">](https://msdn.microsoft.com/library/windows/apps/br227504)</ept>."},{"pos":[14052,14082],"content":"Pass information between pages"},{"content":"Our app navigates between two pages, but it really doesn't do anything interesting yet.","pos":[14085,14172]},{"content":"Often, when an app has multiple pages, the pages need to share information.","pos":[14173,14248]},{"content":"Let's pass some information from the first page to the second page.","pos":[14249,14316]},{"pos":[14318,14541],"content":"In Page1.xaml, replace the the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>HyperlinkButton<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br242739)</ept> you added earlier with the following <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>StackPanel<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br209635)</ept>."},{"pos":[14543,14752],"content":"Here, we add a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>TextBlock<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br209652)</ept> label and a <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>TextBox<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br209683)</ept> (<ph id=\"ph1\">`name`</ph>) for entering a text string."},{"pos":[15045,15285],"content":"In the <ph id=\"ph1\">`HyperlinkButton_Click`</ph> event handler of the Page1.xaml code-behind file, add a parameter referencing the <ph id=\"ph2\">`Text`</ph> property of the <ph id=\"ph3\">`name`</ph> <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>TextBox<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br209683)</ept> to the <ph id=\"ph4\">`Navigate`</ph> method."},{"pos":[15627,15718],"content":"In the Page2.xaml code-behind file, override the <ph id=\"ph1\">`OnNavigatedTo`</ph> method with the following:"},{"content":"Run the app, type your name in the text box, and then click the link that says <bpt id=\"p1\">**</bpt>Click to go to page 2<ept id=\"p1\">**</ept>.","pos":[16307,16412]},{"content":"When you called <ph id=\"ph1\">`this.Frame.Navigate(typeof(Page2), tb1.Text)`</ph> in the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Click<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227737)</ept> event of the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>HyperlinkButton<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br242739)</ept>, the <ph id=\"ph2\">`name.Text`</ph> property was passed to <ph id=\"ph3\">`Page2`</ph> and the value from the event data is used for the message displayed on the page.","pos":[16413,16774]},{"pos":[16875,16887],"content":"Cache a page"},{"content":"Page content and state is not cached by default, you must enable it in each page of your app.","pos":[16890,16983]},{"content":"In our basic peer-to-peer example, there is no back button (we demonstrate back navigation in <bpt id=\"p1\">[</bpt>Back button navigation<ept id=\"p1\">](navigation-history-and-backwards-navigation.md)</ept>), but if you did click a back button on <ph id=\"ph1\">`Page2`</ph>, the <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>TextBox<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/br209683)</ept> (and any other field) on <ph id=\"ph2\">`Page1`</ph> would be set to its default state.","pos":[16985,17344]},{"content":"One way to work around this is to use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>NavigationCacheMode<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227506)</ept> property to specify that a page be added to the frame's page cache.","pos":[17345,17538]},{"content":"In the constructor of <ph id=\"ph1\">`Page1`</ph>, set <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>NavigationCacheMode<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227506)</ept> to <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Enabled<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br243284)</ept>.","pos":[17540,17734]},{"content":"This retains all content and state values for the page until the page cache for the frame is exceeded.","pos":[17735,17837]},{"content":"Set <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>NavigationCacheMode<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227506)</ept> to <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Required<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br243284)</ept> if you want to ignore cache size limits for the frame.","pos":[17839,18057]},{"content":"However, cache size limits might be crucial, depending on the memory limits of a device.","pos":[18058,18146]},{"pos":[18148,18334],"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  The <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>CacheSize<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/br242683)</ept> property specifies the number of pages in the navigation history that can be cached for the frame."},{"pos":[18698,18714],"content":"Related articles"},{"content":"Navigation design basics for UWP apps","pos":[18719,18756]},{"content":"Guidelines for tabs and pivots","pos":[18819,18849]},{"content":"Guidelines for navigation panes","pos":[18912,18943]}],"content":"---\nauthor: Jwmsft\nDescription: Learn how to navigate in a basic two page peer-to-peer Universal Windows Platform (UWP) app.\ntitle: Peer-to-peer navigation between two pages\nms.assetid: 0A364C8B-715F-4407-9426-92267E8FB525\nlabel: Peer-to-peer navigation between two pages\ntemplate: detail.hbs\n---\n\n# <span id=\"dev_navigation.peer-to-peer_navigation_between_two_pages\"></span>Peer-to-peer navigation between two pages\n\nLearn how to navigate in a basic two page peer-to-peer Universal Windows Platform (UWP) app.\n\n![two-page peer-to-peer navigation example](images/nav-peertopeer-2page.png)\n\n\n**Important APIs**\n\n-   [**Windows.UI.Xaml.Controls.Frame**](https://msdn.microsoft.com/library/windows/apps/br242682)\n-   [**Windows.UI.Xaml.Controls.Page**](https://msdn.microsoft.com/library/windows/apps/br227503)\n-   [**Windows.UI.Xaml.Navigation**](https://msdn.microsoft.com/library/windows/apps/br243300)\n\n\n## <span id=\"Create_the_blank_app\"></span><span id=\"create_the_blank_app\"></span><span id=\"CREATE_THE_BLANK_APP\"></span>Create the blank app\n\n\n1.  On the Microsoft Visual Studio menu, choose **File &gt; New Project**.\n2.  In the left pane of the **New Project** dialog box, choose the **Visual C# -&gt; Windows -&gt; Universal** or the **Visual C++ -&gt; Windows -&gt; Universal** node.\n3.  In the center pane, choose **Blank App**.\n4.  In the **Name** box, enter **NavApp1**, and then choose the **OK** button.\n\n    The solution is created and the project files appear in **Solution Explorer**.\n\n    **Important**  When you run Visual Studio for the first time, it prompts you to obtain a developer license. For more info, see [Enable your device for development](https://msdn.microsoft.com/library/windows/apps/dn706236).\n\n     \n\n5.  To run the program, choose **Debug** &gt; **Start Debugging** from the menu, or press F5.\n\n    A blank page is displayed.\n\n6.  Press Shift+F5 to stop debugging and return to Visual Studio.\n\n## <span id=\"Add_basic_pages\"></span><span id=\"add_basic_pages\"></span><span id=\"ADD_BASIC_PAGES\"></span>Add basic pages\n\n\nNext, add two content pages to the project.\n\nDo the following steps two times to add two pages to navigate between.\n\n1.  In **Solution Explorer**, right-click the **BlankApp** project node to open the shortcut menu.\n2.  Choose **Add** &gt; **New Item** from the shortcut menu.\n3.  In the **Add New Item** dialog box, choose **Blank Page** in the middle pane.\n4.  In the **Name** box, enter **Page1** (or **Page2**) and press the **Add** button.\n\nThese files should now be listed as part of your NavApp1 project.\n\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th align=\"left\">CS</th>\n<th align=\"left\">C++</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td align=\"left\"><ul>\n<li>Page1.xaml</li>\n<li>Page1.xaml.cs</li>\n<li>Page2.xaml</li>\n<li>Page2.xaml.cs</li>\n</ul></td>\n<td align=\"left\"><ul>\n<li>Page1.xaml</li>\n<li>Page1.xaml.cpp</li>\n<li>Page1.xaml.h</li>\n<li>Page2.xaml</li>\n<li>Page2.xaml.cpp</li>\n<li>Page2.xaml.h\n<div class=\"alert\">\n<strong>Note</strong>  \n<p>Functions are declared in the header (.h) file and implemented in the code-behind file (.cpp).</p>\n</div>\n<div>\n \n</div></li>\n</ul></td>\n</tr>\n</tbody>\n</table>\n\n \n\nAdd the following content to the UI of Page1.xaml.\n\n-   Add a [**TextBlock**](https://msdn.microsoft.com/library/windows/apps/br209652) element named `pageTitle` as a child element of the root [**Grid**](https://msdn.microsoft.com/library/windows/apps/br242704). Change the [**Text**](https://msdn.microsoft.com/library/windows/apps/br209676) property to `Page 1`.\n\n```    XAML\n<TextBlock x:Name=\"pageTitle\" Text=\"Page 1\" /></code></pre></td>\n    </tr>\n    </tbody>\n    </table>\n```\n\n-   Add the following [**HyperlinkButton**](https://msdn.microsoft.com/library/windows/apps/br242739) element as a child element of the root [**Grid**](https://msdn.microsoft.com/library/windows/apps/br242704) and after the `pageTitle` [**TextBlock**](https://msdn.microsoft.com/library/windows/apps/br209652) element.\n\n    <span codelanguage=\"XAML\"></span>\n```    XAML\n    <colgroup>\n    <col width=\"100%\" />\n    </colgroup>\n    <thead>\n    <tr class=\"header\">\n    <th align=\"left\">XAML</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr class=\"odd\">\n<HyperlinkButton HorizontalAlignment=\"Center\" Content=\"Click to go to page 2\" Click=\"HyperlinkButton_Click\"/></code></pre></td>\n    </tr>\n    </tbody>\n    </table>\n```\n\nAdd the following code to the `Page1` class in the Page1.xaml code-behind file to handle the `Click` event of the [**HyperlinkButton**](https://msdn.microsoft.com/library/windows/apps/br242739) you added previously. Here, we navigate to Page2.xaml.\n\n<span codelanguage=\"ManagedCPlusPlus\"></span>\n```ManagedCPlusPlus\n<colgroup>\n<col width=\"100%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th align=\"left\">C++</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\nvoid Page1::HyperlinkButton_Click_nodata(Platform::Object^ sender, RoutedEventArgs^ e)\n{\n    this->Frame->Navigate(Windows::UI::Xaml::Interop::TypeName(Page2::typeid));\n}\n```\n\n```CSharp\nprivate void HyperlinkButton_Click_nodata(object sender, RoutedEventArgs e)\n{\n    this.Frame.Navigate(typeof(Page2));\n}\n```\n\nMake the following changes to the UI of Page2.xaml.\n\n-   Add a [**TextBlock**](https://msdn.microsoft.com/library/windows/apps/br209652) element named `pageTitle` as a child element of the root [**Grid**](https://msdn.microsoft.com/library/windows/apps/br242704). Change the value of the [**Text**](https://msdn.microsoft.com/library/windows/apps/br209676) property to `Page 2`.\n\n```    XAML\n<TextBlock x:Name=\"pageTitle\" Text=\"Page 2\" /></code></pre></td>\n    </tr>\n    </tbody>\n    </table>\n```\n\n-   Add the following [**HyperlinkButton**](https://msdn.microsoft.com/library/windows/apps/br242739) element as a child element of the root [**Grid**](https://msdn.microsoft.com/library/windows/apps/br242704) and after the `pageTitle` [**TextBlock**](https://msdn.microsoft.com/library/windows/apps/br209652) element.\n\n    <span codelanguage=\"XAML\"></span>\n```    XAML\n    <colgroup>\n    <col width=\"100%\" />\n    </colgroup>\n    <thead>\n    <tr class=\"header\">\n    <th align=\"left\">XAML</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr class=\"odd\">\n<HyperlinkButton HorizontalAlignment=\"Center\" Content=\"Click to go to page 1\" Click=\"HyperlinkButton_Click\"/></code></pre></td>\n    </tr>\n    </tbody>\n    </table>\n```\n\nAdd the following code to the `Page2` class in the Page2.xaml code-behind file to handle the `Click` event of the [**HyperlinkButton**](https://msdn.microsoft.com/library/windows/apps/br242739) you added previously. Here, we navigate to Page1.xaml.\n\n**Note**  \nFor C++ projects, you must add a `#include` directive in the header file of each page that references another page. For the inter-page navigation example presented here, page1.xaml.h file contains `#include \"Page2.xaml.h\"`, in turn, page2.xaml.h contains `#include \"Page1.xaml.h\"`.\n\n \n\n<span codelanguage=\"ManagedCPlusPlus\"></span>\n```ManagedCPlusPlus\n<colgroup>\n<col width=\"100%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th align=\"left\">C++</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\nvoid Page2::HyperlinkButton_Click(Platform::Object^ sender, RoutedEventArgs^ e)\n{\n    this->Frame->Navigate(Windows::UI::Xaml::Interop::TypeName(Page1::typeid));\n}\n```\n\n```CSharp\nprivate void HyperlinkButton_Click(object sender, RoutedEventArgs e)\n{\n    this.Frame.Navigate(typeof(Page1));\n}\n```\n\nNow that we've prepared the content pages, we need to make Page1.xaml display when the app starts.\n\nOpen the app.xaml code-behind file and change the `OnLaunched` handler.\n\nHere, we specify `Page1` in the call to [**Frame.Navigate**](https://msdn.microsoft.com/library/windows/apps/br242694) instead of `MainPage`.\n\n```ManagedCPlusPlus\n/// <summary>\n/// Invoked when the application is launched normally by the end user. \n/// Other entry points will be used in specific cases, such as when the \n/// application is launched to open a specific file.\n/// </summary>\n/// <param name=\"e\">Details about the launch request and process.</param>\nvoid App::OnLaunched(Windows::ApplicationModel::Activation::LaunchActivatedEventArgs^ e)\n{\n    auto rootFrame = dynamic_cast<Frame^>(Window::Current->Content);\n\n    // Do not repeat app initialization when the Window already has content,\n    // just ensure that the window is active\n    if (rootFrame == nullptr)\n    {\n        // Create a Frame to act as the navigation context and associate it with\n        // a SuspensionManager key\n        rootFrame = ref new Frame();\n\n        rootFrame->NavigationFailed += \n            ref new Windows::UI::Xaml::Navigation::NavigationFailedEventHandler(\n                this, &amp;App::OnNavigationFailed);\n\n        if (e->PreviousExecutionState == ApplicationExecutionState::Terminated)\n        {\n            // TODO: Load state from previously suspended application\n        }\n\n        \n        // Place the frame in the current Window\n        Window::Current->Content = rootFrame;\n\n    }\n\n    if (rootFrame->Content == nullptr)\n    {\n        // When the navigation stack isn&#39;t restored navigate to the first page,\n        // configuring the new page by passing required information as a navigation\n        // parameter\n        rootFrame->Navigate(Windows::UI::Xaml::Interop::TypeName(Page1::typeid), e->Arguments);\n    }\n\n    // Ensure the current window is active\n    Window::Current->Activate();\n}\n```\n\n```CSharp\n/// <summary>\n/// Invoked when the application is launched normally by the end user. \n/// Other entry points will be used in specific cases, such as when the \n/// application is launched to open a specific file.\n/// </summary>\n/// <param name=\"e\">Details about the launch request and process.</param>\nprotected override void OnLaunched(LaunchActivatedEventArgs e)\n{\n    Frame rootFrame = Window.Current.Content as Frame;\n\n    // Do not repeat app initialization when the Window already has content,\n    // just ensure that the window is active\n    if (rootFrame == null)\n    {\n        // Create a Frame to act as the navigation context and navigate to the first page\n        rootFrame = new Frame();\n\n        rootFrame.NavigationFailed += OnNavigationFailed;\n\n        if (e.PreviousExecutionState == ApplicationExecutionState.Terminated)\n        {\n            //TODO: Load state from previously suspended application\n        }\n\n        // Place the frame in the current Window\n        Window.Current.Content = rootFrame;\n    }\n\n    if (rootFrame.Content == null)\n    {\n        // When the navigation stack isn&#39;t restored navigate to the first page,\n        // configuring the new page by passing required information as a navigation\n        // parameter\n        rootFrame.Navigate(typeof(Page1), e.Arguments);\n    }\n    // Ensure the current window is active\n    Window.Current.Activate();\n}\n```\n\n**Note**  The code here uses the return value of [**Navigate**](https://msdn.microsoft.com/library/windows/apps/br242694) to throw an app exception if the navigation to the app's initial window frame fails. When **Navigate** returns **true**, the navigation happens.\n\n \n\nNow, build and run the app. Click the link that says \"Click to go to page 2\". The second page that says \"Page 2\" at the top should be loaded and displayed in the frame.\n\n## <span id=\"Frame_and_Page_classes\"></span><span id=\"frame_and_page_classes\"></span><span id=\"FRAME_AND_PAGE_CLASSES\"></span>Frame and Page classes\n\n\nBefore we add more functionality to our app, let's look at how the pages we added provide navigation support for the app.\n\nFirst, a [**Frame**](https://msdn.microsoft.com/library/windows/apps/br242682) (`rootFrame`) is created for the app in the `App.OnLaunched` method of the App.xaml code-behind file. The [**Navigate**](https://msdn.microsoft.com/library/windows/apps/br242694) method is used to display content in this **Frame**.\n\n**Note**  \nThe [**Frame**](https://msdn.microsoft.com/library/windows/apps/br242682) class supports various navigation methods such as [**Navigate**](https://msdn.microsoft.com/library/windows/apps/br242694), [**GoBack**](https://msdn.microsoft.com/library/windows/apps/dn996568), and [**GoForward**](https://msdn.microsoft.com/library/windows/apps/br242693), and properties such as [**BackStack**](https://msdn.microsoft.com/library/windows/apps/dn279543), [**ForwardStack**](https://msdn.microsoft.com/library/windows/apps/dn279547), and [**BackStackDepth**](https://msdn.microsoft.com/library/windows/apps/hh967995).\n\n \n\nIn our example, `Page1` is passed to the [**Navigate**](https://msdn.microsoft.com/library/windows/apps/br242694) method. This method sets the content of the app's current window to the [**Frame**](https://msdn.microsoft.com/library/windows/apps/br242682) and loads the content of the page you specify into the **Frame** (Page1.xaml in our example, or MainPage.xaml, by default).\n\n`Page1` is a subclass of the [**Page**](https://msdn.microsoft.com/library/windows/apps/br227503) class. The **Page** class has a read-only [**Frame**](https://msdn.microsoft.com/library/windows/apps/br227504) property that gets the [**Frame**](https://msdn.microsoft.com/library/windows/apps/br242682) containing the **Page**. When the [**Click**](https://msdn.microsoft.com/library/windows/apps/br227737) event handler of the [**HyperlinkButton**](https://msdn.microsoft.com/library/windows/apps/br242739) calls` Frame.Navigate(typeof(Page2))`, the **Frame** in the app's window displays the content of Page2.xaml.\n\nWhenever a page is loaded into the frame, that page is added as a [**PageStackEntry**](https://msdn.microsoft.com/library/windows/apps/dn298572) to the [**BackStack**](https://msdn.microsoft.com/library/windows/apps/dn279543) or [**ForwardStack**](https://msdn.microsoft.com/library/windows/apps/dn279547) of the [**Frame**](https://msdn.microsoft.com/library/windows/apps/br227504).\n\n## <span id=\"Pass_information_between_pages\"></span><span id=\"pass_information_between_pages\"></span><span id=\"PASS_INFORMATION_BETWEEN_PAGES\"></span>Pass information between pages\n\n\nOur app navigates between two pages, but it really doesn't do anything interesting yet. Often, when an app has multiple pages, the pages need to share information. Let's pass some information from the first page to the second page.\n\nIn Page1.xaml, replace the the [**HyperlinkButton**](https://msdn.microsoft.com/library/windows/apps/br242739) you added earlier with the following [**StackPanel**](https://msdn.microsoft.com/library/windows/apps/br209635).\n\nHere, we add a [**TextBlock**](https://msdn.microsoft.com/library/windows/apps/br209652) label and a [**TextBox**](https://msdn.microsoft.com/library/windows/apps/br209683) (`name`) for entering a text string.\n\n```XAML\n<StackPanel>\n    <TextBlock HorizontalAlignment=\"Center\" Text=\"Enter your name\"/>\n    <TextBox HorizontalAlignment=\"Center\" Width=\"200\" Name=\"name\"/>\n    <HyperlinkButton HorizontalAlignment=\"Center\" Content=\"Click to go to page 2\" Click=\"HyperlinkButton_Click\"/>\n</StackPanel>\n```\n\nIn the `HyperlinkButton_Click` event handler of the Page1.xaml code-behind file, add a parameter referencing the `Text` property of the `name` [**TextBox**](https://msdn.microsoft.com/library/windows/apps/br209683) to the `Navigate` method.\n\n```ManagedCPlusPlus\nvoid Page1::HyperlinkButton_Click(Platform::Object^ sender, RoutedEventArgs^ e)\n{\n    this->Frame->Navigate(Windows::UI::Xaml::Interop::TypeName(Page2::typeid), name->Text);\n}\n```\n\n```CSharp\nprivate void HyperlinkButton_Click(object sender, RoutedEventArgs e)\n{\n    this.Frame.Navigate(typeof(Page2), name.Text);\n}\n```\n\nIn the Page2.xaml code-behind file, override the `OnNavigatedTo` method with the following:\n\n```ManagedCPlusPlus\nvoid Page2::OnNavigatedTo(NavigationEventArgs^ e)\n{\n    if (dynamic_cast<Platform::String^>(e->Parameter) != nullptr)\n    {\n        greeting->Text = \"Hi,\" + e->Parameter->ToString();\n    }\n    else\n    {\n        greeting->Text = \"Hi!\";\n    }\n    ::Windows::UI::Xaml::Controls::Page::OnNavigatedTo(e);\n}\n```\n\n```CSharp\nprotected override void OnNavigatedTo(NavigationEventArgs e)\n{\n    if (e.Parameter is string)\n    {\n        greeting.Text = \"Hi, \" + e.Parameter.ToString();\n    }\n    else\n    {\n        greeting.Text = \"Hi!\";\n    }\n    base.OnNavigatedTo(e);\n}\n```\n\nRun the app, type your name in the text box, and then click the link that says **Click to go to page 2**. When you called `this.Frame.Navigate(typeof(Page2), tb1.Text)` in the [**Click**](https://msdn.microsoft.com/library/windows/apps/br227737) event of the [**HyperlinkButton**](https://msdn.microsoft.com/library/windows/apps/br242739), the `name.Text` property was passed to `Page2` and the value from the event data is used for the message displayed on the page.\n\n## <span id=\"Cache_a__page\"></span><span id=\"cache_a__page\"></span><span id=\"CACHE_A__PAGE\"></span>Cache a page\n\n\nPage content and state is not cached by default, you must enable it in each page of your app.\n\nIn our basic peer-to-peer example, there is no back button (we demonstrate back navigation in [Back button navigation](navigation-history-and-backwards-navigation.md)), but if you did click a back button on `Page2`, the [**TextBox**](https://msdn.microsoft.com/library/windows/apps/br209683) (and any other field) on `Page1` would be set to its default state. One way to work around this is to use the [**NavigationCacheMode**](https://msdn.microsoft.com/library/windows/apps/br227506) property to specify that a page be added to the frame's page cache.\n\nIn the constructor of `Page1`, set [**NavigationCacheMode**](https://msdn.microsoft.com/library/windows/apps/br227506) to [**Enabled**](https://msdn.microsoft.com/library/windows/apps/br243284). This retains all content and state values for the page until the page cache for the frame is exceeded.\n\nSet [**NavigationCacheMode**](https://msdn.microsoft.com/library/windows/apps/br227506) to [**Required**](https://msdn.microsoft.com/library/windows/apps/br243284) if you want to ignore cache size limits for the frame. However, cache size limits might be crucial, depending on the memory limits of a device.\n\n**Note**  The [**CacheSize**](https://msdn.microsoft.com/library/windows/apps/br242683) property specifies the number of pages in the navigation history that can be cached for the frame.\n\n \n\n```ManagedCPlusPlus\nPage1::Page1()\n{\n    this->InitializeComponent();\n    this->NavigationCacheMode = Windows::UI::Xaml::Navigation::NavigationCacheMode::Enabled;\n}\n```\n\n```CSharp\npublic Page1()\n{\n    this.InitializeComponent();\n    this.NavigationCacheMode = Windows.UI.Xaml.Navigation.NavigationCacheMode.Enabled;\n}\n```\n\n## <span id=\"related_topics\"></span>Related articles\n\n* [Navigation design basics for UWP apps](https://msdn.microsoft.com/library/windows/apps/dn958438)\n* [Guidelines for tabs and pivots](https://msdn.microsoft.com/library/windows/apps/dn997788)\n* [Guidelines for navigation panes](https://msdn.microsoft.com/library/windows/apps/dn997766)\n \n\n \n\n\n\n\n"}