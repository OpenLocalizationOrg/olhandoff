{"nodes":[{"content":"Windows App Certification Kit tests","pos":[78,113]},{"content":"The Windows App Certification Kit contains a number of tests that can help ensure that your app is ready to be published on the Windows Store.","pos":[127,269]},{"content":"Windows App Certification Kit tests","pos":[277,312]},{"content":"Updated for UWP apps on Windows 10.","pos":[317,352]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept>","pos":[353,445]},{"content":"The Windows App Certification Kit contains a number of tests that can help ensure that your app is ready to be published on the Windows Store.","pos":[450,592]},{"content":"Deployment and launch tests","pos":[597,624]},{"content":"Monitors the app during certification testing to record when it crashes or hangs.","pos":[626,707]},{"content":"Background","pos":[713,723]},{"content":"Apps that stop responding or crash can cause the user to lose data and have a poor experience.","pos":[725,819]},{"content":"We expect apps to be fully functional without the use of Windows compatibility modes, AppHelp messages, or compatibility fixes.","pos":[821,948]},{"content":"Apps must not list DLLs to load in the HKEY<ph id=\"ph1\">\\-</ph>LOCAL<ph id=\"ph2\">\\-</ph>MACHINE<ph id=\"ph3\">\\\\</ph>Software<ph id=\"ph4\">\\\\</ph>Microsoft<ph id=\"ph5\">\\\\</ph>Windows NT<ph id=\"ph6\">\\\\</ph>CurrentVersion<ph id=\"ph7\">\\\\</ph>Windows<ph id=\"ph8\">\\\\</ph>AppInit<ph id=\"ph9\">\\-</ph>DLLs registry key.","pos":[950,1096]},{"content":"Test details","pos":[1102,1114]},{"content":"We test the app resilience and stability throughout the certification testing.","pos":[1116,1194]},{"content":"The Windows App Certification Kit calls <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>IApplicationActivationManager::ActivateApplication<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/desktop/Hh706903)</ept> to launch apps.","pos":[1196,1369]},{"content":"For <bpt id=\"p1\">**</bpt>ActivateApplication<ept id=\"p1\">**</ept> to launch an app, User Account Control (UAC) must be enabled and the screen resolution must be at least 1024 x 768 or 768 x 1024.","pos":[1370,1527]},{"content":"If either condition is not met, your app will fail this test.","pos":[1528,1589]},{"content":"Corrective actions","pos":[1595,1613]},{"content":"Make sure UAC is enabled on the test computer.","pos":[1615,1661]},{"content":"Make sure you are running the test on a computer with large enough screen.","pos":[1663,1737]},{"content":"If your app fails to launch and your test platform satisfies the prerequisites of <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ActivateApplication<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/desktop/Hh706903)</ept>, you can troubleshoot the problem by reviewing the activation event log.","pos":[1739,1980]},{"content":"To find these entries in the event log:","pos":[1981,2020]},{"content":"Open eventvwr.exe and navigate to the Application and Services Log<ph id=\"ph1\">\\\\</ph>Microsoft<ph id=\"ph2\">\\\\</ph>Windows<ph id=\"ph3\">\\\\</ph>Immersive-Shell folder.","pos":[2026,2137]},{"content":"Filter the view to show Event Ids: 5900-6000.","pos":[2142,2187]},{"content":"Review the log entries for info that might explain why the app didn't launch.","pos":[2192,2269]},{"content":"Troubleshoot the file with the problem, identify and fix the problem.","pos":[2271,2340]},{"content":"Rebuild and re-test the app.","pos":[2341,2369]},{"content":"You can also check if a dump file was generated in the Windows App Certification Kit log folder that can be used to debug your app.","pos":[2370,2501]},{"content":"Platform Version Launch test","pos":[2506,2534]},{"content":"Checks that the Windows app can run on a future version of the OS.","pos":[2536,2602]},{"content":"This test has historically been only applied to the Desktop app workflow, but this is now enabled for the Store and Universal Windows Platform (UWP) workflows.","pos":[2603,2762]},{"content":"Background","pos":[2768,2778]},{"content":"Operating system version info has restricted usage for the Windows Store.","pos":[2780,2853]},{"content":"This has often been incorrectly used by apps to check OS version so that the app can provide users with functionality that is specific to an OS version.","pos":[2854,3006]},{"content":"Test details","pos":[3012,3024]},{"content":"The Windows App Certification Kit uses the HighVersionLie to detect how the app checks the OS version.","pos":[3026,3128]},{"content":"If the app crashes, it will fail this test.","pos":[3129,3172]},{"content":"Corrective action","pos":[3178,3195]},{"content":"Apps should use Version API helper functions to check this.","pos":[3197,3256]},{"content":"See <bpt id=\"p1\">[</bpt>Operating System Version<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/desktop/ms724832)</ept> for more information.","pos":[3257,3370]},{"content":"Background tasks cancellation handler validation","pos":[3375,3423]},{"content":"This verifies that the app has a cancellation handler for declared background tasks.","pos":[3425,3509]},{"content":"There needs to be a dedicated function that will be called when the task is cancelled.","pos":[3510,3596]},{"content":"This test is applied only for deployed apps.","pos":[3597,3641]},{"content":"Background","pos":[3647,3657]},{"content":"Store apps can register a process that runs in the background.","pos":[3659,3721]},{"content":"For example, an email app may ping a server from time to time.","pos":[3722,3784]},{"content":"However, if the OS needs these resources, it will cancel the background task, and apps should gracefully handle this cancellation.","pos":[3785,3915]},{"content":"Apps that don't have a cancellation handler may crash or not close when the user tries to close the app.","pos":[3916,4020]},{"content":"Test details","pos":[4026,4038]},{"content":"The app is launched, suspended and the non-background portion of the app is terminated.","pos":[4040,4127]},{"content":"Then the background tasks associated with this app are cancelled.","pos":[4128,4193]},{"content":"The state of the app is checked, and if the app is still running then it will fail this test.","pos":[4194,4287]},{"content":"Corrective action","pos":[4293,4310]},{"content":"Add the cancellation handler to your app.","pos":[4312,4353]},{"content":"For more information see <bpt id=\"p1\">[</bpt>Support your app with background tasks<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/Mt299103)</ept>.","pos":[4354,4478]},{"content":"App count","pos":[4483,4492]},{"content":"This verifies that an app package (APPX, app bundle) contains one application.","pos":[4494,4572]},{"content":"This was changed in the kit to be a standalone test.","pos":[4573,4625]},{"content":"Background","pos":[4631,4641]},{"content":"This test was implemented as per Store policy.","pos":[4643,4689]},{"content":"Test details","pos":[4695,4707]},{"content":"For Windows Phone 8.1 apps the test verifies the total number of appx packages in the bundle is <ph id=\"ph1\">&amp;lt;</ph> 512, there is only one main package in the bundle, and that the architecture of the main package in the bundle is marked as ARM or neutral.","pos":[4709,4949]},{"content":"For Windows 10 apps the test verifies that the revision number in the version of the bundle is set to 0.","pos":[4951,5055]},{"content":"Corrective action","pos":[5061,5078]},{"content":"Ensure the app package and bundle meet requirements above in Test details.","pos":[5080,5154]},{"content":"App manifest compliance test","pos":[5159,5187]},{"content":"Test the contents of app manifest to make sure its contents are correct.","pos":[5189,5261]},{"content":"Background","pos":[5267,5277]},{"content":"Apps must have a correctly formatted app manifest.","pos":[5279,5329]},{"content":"Test details","pos":[5335,5347]},{"pos":[5349,5515],"content":"Examines the app manifest to verify the contents are correct as described in the <bpt id=\"p1\">[</bpt>App package requirements<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/Mt148525)</ept>."},{"content":"File extensions and protocols","pos":[5523,5552]},{"content":"Your app can declare the file extensions that it wants to associate with.","pos":[5560,5633]},{"content":"Used improperly, an app can declare a large number of file extensions, most of which it may not even use, resulting in a bad user experience.","pos":[5634,5775]},{"content":"This test will add a check to limit the number of file extensions that an app can associate with.","pos":[5776,5873]},{"content":"Framework Dependency rule","pos":[5881,5906]},{"content":"This test enforces the requirement that apps take appropriate dependencies on the UWP.","pos":[5914,6000]},{"content":"If there is an inappropriate dependency, this test will fail.","pos":[6001,6062]},{"content":"If there is a mismatch between the OS version the app applies to and the framework dependencies made, the test will fail.","pos":[6068,6189]},{"content":"The test would also fail if the app refers to any preview versions of the framework dlls.","pos":[6190,6279]},{"content":"Inter-process Communication (IPC) verification","pos":[6287,6333]},{"content":"This test enforces the requirement that Windows Store apps do not communicate outside of the app container to Desktop components.","pos":[6341,6470]},{"content":"Inter-process communication is intended for side-loaded apps only.","pos":[6471,6537]},{"content":"Apps that specify the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ActivatableClassAttribute<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR211414)</ept> with name equal to \"DesktopApplicationPath\" will fail this test.","pos":[6538,6714]},{"content":"Corrective action","pos":[6720,6737]},{"pos":[6739,6892],"content":"Review the app's manifest against the requirements described in the <bpt id=\"p1\">[</bpt>App package requirements<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/Mt148525)</ept>."},{"content":"Windows Security features test","pos":[6897,6927]},{"content":"Background","pos":[6933,6943]},{"content":"Changing the default Windows security protections can put customers at increased risk.","pos":[6945,7031]},{"content":"Test details","pos":[7037,7049]},{"pos":[7051,7129],"content":"Tests the app's security by running the <bpt id=\"p1\">[</bpt>BinScope Binary Analyzer<ept id=\"p1\">](#binscope)</ept>."},{"content":"The BinScope Binary Analyzer tests examine the app's binary files to check for coding and building practices that make the app less vulnerable to attack or to being used as an attack vector.","pos":[7131,7321]},{"content":"The BinScope Binary Analyzer tests check for the correct use of the following security-related features.","pos":[7323,7427]},{"content":"BinScope Binary Analyzer tests","pos":[7433,7463]},{"content":"Private Code Signing","pos":[7468,7488]},{"content":"BinScope Binary Analyzer tests","pos":[7494,7524]},{"pos":[7526,7767],"content":"The <bpt id=\"p1\">[</bpt>BinScope Binary Analyzer<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=257276)</ept> tests examine the app's binary files to check for coding and building practices that make the app less vulnerable to attack or to being used as an attack vector."},{"content":"The BinScope Binary Analyzer tests check for the correct use of these security-related features:","pos":[7769,7865]},{"content":"AllowPartiallyTrustedCallersAttribute","pos":[7872,7909]},{"content":"/SafeSEH Exception Handling Protection","pos":[7929,7967]},{"content":"Data Execution Prevention","pos":[7987,8012]},{"content":"Address Space Layout Randomization","pos":[8032,8066]},{"content":"Read/Write Shared PE Section","pos":[8086,8114]},{"content":"AppContainerCheck","pos":[8134,8151]},{"content":"ExecutableImportsCheck","pos":[8178,8200]},{"content":"WXCheck","pos":[8220,8227]},{"pos":[8276,8313],"content":"AllowPartiallyTrustedCallersAttribute"},{"pos":[8315,8386],"content":"<bpt id=\"p1\">**</bpt>Windows App Certification Kit error message:<ept id=\"p1\">**</ept> APTCACheck Test failed"},{"content":"The AllowPartiallyTrustedCallersAttribute (APTCA) attribute enables access to fully trusted code from partially trusted code in signed assemblies.","pos":[8388,8534]},{"content":"When you apply the APTCA attribute to an assembly, partially trusted callers can access that assembly for the life of the assembly, which can compromise security.","pos":[8535,8697]},{"content":"What to do if your app fails this test","pos":[8701,8739]},{"content":"Don't use the APTCA attribute on strong named assemblies unless your project requires it and the risks are well understood.","pos":[8743,8866]},{"content":"In cases where it's required, make sure that all APIs are protected with appropriate code access security demands.","pos":[8867,8981]},{"content":"APTCA has no effect when the assembly is a part of a Universal Windows Platform (UWP) app.","pos":[8982,9072]},{"content":"Remarks","pos":[9076,9083]},{"content":"This test is performed only on managed code (C#, .NET, etc.).","pos":[9087,9148]},{"pos":[9183,9221],"content":"/SafeSEH Exception Handling Protection"},{"pos":[9223,9296],"content":"<bpt id=\"p1\">**</bpt>Windows App Certification Kit error message:<ept id=\"p1\">**</ept> SafeSEHCheck Test failed"},{"content":"An exception handler runs when the app encounters an exceptional condition, such as a divide-by-zero error.","pos":[9298,9405]},{"content":"Because the address of the exception handler is stored on the stack when a function is called, it could be vulnerable to a buffer overflow attacker if some malicious software were to overwrite the stack.","pos":[9406,9609]},{"content":"What to do if your app fails this test","pos":[9613,9651]},{"content":"Enable the /SAFESEH option in the linker command when you build your app.","pos":[9655,9728]},{"content":"This option is on by default in the Release configurations of Visual Studio.","pos":[9729,9805]},{"content":"Verify this option is enabled in the build instructions for all executable modules in your app.","pos":[9806,9901]},{"content":"Remarks","pos":[9905,9912]},{"content":"The test is not performed on 64-bit binaries or ARM chipset binaries because they don't store exception handler addresses on the stack.","pos":[9916,10051]},{"pos":[10086,10111],"content":"Data Execution Prevention"},{"pos":[10113,10181],"content":"<bpt id=\"p1\">**</bpt>Windows App Certification Kit error message:<ept id=\"p1\">**</ept> NXCheck Test failed"},{"content":"This test verifies that an app doesn't run code that is stored in a data segment.","pos":[10183,10264]},{"content":"What to do if your app fails this test","pos":[10268,10306]},{"content":"Enable the /NXCOMPAT option in the linker command when you build your app.","pos":[10310,10384]},{"content":"This option is on by default in linker versions that support Data Execution Prevention (DEP).","pos":[10385,10478]},{"content":"Remarks","pos":[10482,10489]},{"content":"We recommend that you test your apps on a DEP-capable CPU and fix any failures you find that result from DEP.","pos":[10493,10602]},{"pos":[10637,10671],"content":"Address Space Layout Randomization"},{"pos":[10673,10741],"content":"<bpt id=\"p1\">**</bpt>Windows App Certification Kit error message:<ept id=\"p1\">**</ept> DBCheck Test failed"},{"content":"Address Space Layout Randomization (ASLR) loads executable images into unpredictable locations in memory, which makes it harder for malicious software that expects a program to be loaded at a certain virtual address to operate predictably.","pos":[10743,10982]},{"content":"Your app and all components that your app uses must support ASLR.","pos":[10983,11048]},{"content":"What to do if your app fails this test","pos":[11052,11090]},{"content":"Enable the /DYNAMICBASE option in the linker command when you build your app.","pos":[11094,11171]},{"content":"Verify that all modules that your app uses also use this linker option.","pos":[11172,11243]},{"content":"Remarks","pos":[11247,11254]},{"content":"Normally, ASLR doesn't affect performance.","pos":[11258,11300]},{"content":"But in some scenarios there is a slight performance improvement on 32-bit systems.","pos":[11301,11383]},{"content":"It is possible that performance could degrade in a highly congested system that have many images loaded in many different memory locations.","pos":[11384,11523]},{"content":"This test is performed on only apps written in managed code, such as by using C# or .NET Framework.","pos":[11525,11624]},{"pos":[11659,11687],"content":"Read/Write Shared PE Section"},{"pos":[11689,11770],"content":"<bpt id=\"p1\">**</bpt>Windows App Certification Kit error message:<ept id=\"p1\">**</ept> SharedSectionsCheck Test failed."},{"content":"Binary files with writable sections that are marked as shared are a security threat.","pos":[11772,11856]},{"content":"Don't build apps with shared writable sections unless necessary.","pos":[11857,11921]},{"content":"Use <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>CreateFileMapping<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/desktop/Aa366537)</ept> or <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>MapViewOfFile<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/desktop/Aa366761)</ept> to create a properly secured shared memory object.","pos":[11922,12145]},{"content":"What to do if your app fails this test","pos":[12149,12187]},{"pos":[12191,12506],"content":"Remove any shared sections from the app and create shared memory objects by calling <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>CreateFileMapping<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/desktop/Aa366537)</ept> or <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>MapViewOfFile<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/desktop/Aa366761)</ept> with the proper security attributes and then rebuild your app."},{"content":"Remarks","pos":[12510,12517]},{"content":"This test is performed only on apps written in unmanaged languages, such as by using C or C++.","pos":[12521,12615]},{"content":"AppContainerCheck","pos":[12621,12638]},{"pos":[12640,12719],"content":"<bpt id=\"p1\">**</bpt>Windows App Certification Kit error message:<ept id=\"p1\">**</ept> AppContainerCheck Test failed."},{"content":"The AppContainerCheck verifies that the <bpt id=\"p1\">**</bpt>appcontainer<ept id=\"p1\">**</ept> bit in the portable executable (PE) header of an executable binary is set.","pos":[12721,12852]},{"content":"Apps must have the <bpt id=\"p1\">**</bpt>appcontainer<ept id=\"p1\">**</ept> bit set on all .exe files and all unmanaged DLLs to execute properly.","pos":[12853,12958]},{"content":"What to do if your app fails this test","pos":[12962,13000]},{"pos":[13004,13177],"content":"If a native executable file fails the test, make sure that you used the latest compiler and linker to build the file and that you use the <bpt id=\"p1\">*</bpt>/appcontainer<ept id=\"p1\">*</ept> flag on the linker."},{"content":"If a managed executable fails the test, make sure that you used the latest compiler and linker, such as Microsoft Visual Studio, to build the Windows Store app.","pos":[13179,13339]},{"content":"Remarks","pos":[13343,13350]},{"content":"This test is performed on all .exe files and on unmanaged DLLs.","pos":[13354,13417]},{"pos":[13452,13474],"content":"ExecutableImportsCheck"},{"pos":[13476,13560],"content":"<bpt id=\"p1\">**</bpt>Windows App Certification Kit error message:<ept id=\"p1\">**</ept> ExecutableImportsCheck Test failed."},{"content":"A portable executable (PE) image fails this test if its import table has been placed in an executable code section.","pos":[13562,13677]},{"content":"This can occur if you enabled .rdata merging for the PE image by setting the <bpt id=\"p1\">*</bpt>/merge<ept id=\"p1\">*</ept> flag of the Visual C++ linker as <bpt id=\"p2\">*</bpt>/merge:.rdata=.text<ept id=\"p2\">*</ept>.","pos":[13678,13819]},{"content":"What to do if your app fails this test","pos":[13823,13861]},{"content":"Don't merge the import table into an executable code section.","pos":[13865,13926]},{"content":"Make sure that the <bpt id=\"p1\">*</bpt>/merge<ept id=\"p1\">*</ept> flag of the Visual C++ linker is not set to merge the \".rdata\" section into a code section.","pos":[13927,14046]},{"content":"Remarks","pos":[14050,14057]},{"content":"This test is performed on all binary code except purely managed assemblies.","pos":[14061,14136]},{"pos":[14171,14178],"content":"WXCheck"},{"pos":[14180,14249],"content":"<bpt id=\"p1\">**</bpt>Windows App Certification Kit error message:<ept id=\"p1\">**</ept> WXCheck Test failed."},{"content":"The check helps to ensure that a binary does not have any pages that are mapped as writable and executable.","pos":[14251,14358]},{"content":"This can occur if the binary has a writable and executable section or if the binary’s <bpt id=\"p1\">*</bpt>SectionAlignment<ept id=\"p1\">*</ept> is less than <bpt id=\"p2\">*</bpt>PAGE<ph id=\"ph1\">\\-</ph>SIZE<ept id=\"p2\">*</ept>.","pos":[14359,14490]},{"content":"What to do if your app fails this test","pos":[14494,14532]},{"pos":[14536,14695],"content":"Make sure that the binary does not have a writeable or executable section and that the binary's <bpt id=\"p1\">*</bpt>SectionAlignment<ept id=\"p1\">*</ept> value is at least equal to its <bpt id=\"p2\">*</bpt>PAGE<ph id=\"ph1\">\\-</ph>SIZE<ept id=\"p2\">*</ept>."},{"content":"Remarks","pos":[14699,14706]},{"content":"This test is performed on all .exe files and on native, unmanaged DLLs.","pos":[14710,14781]},{"content":"An executable may have a writable and executable section if it has been built with Edit and Continue enabled (/ZI).","pos":[14783,14898]},{"content":"Disabling Edit and Continue will cause the invalid section to not be present.","pos":[14899,14976]},{"pos":[14978,15041],"content":"<bpt id=\"p1\">*</bpt>PAGE<ph id=\"ph1\">\\-</ph>SIZE<ept id=\"p1\">*</ept> is the default <bpt id=\"p2\">*</bpt>SectionAlignment<ept id=\"p2\">*</ept> for executables."},{"content":"Private Code Signing","pos":[15047,15067]},{"content":"Tests for the existence of private code signing binaries within the app package.","pos":[15069,15149]},{"content":"Background","pos":[15155,15165]},{"content":"Private code signing files should be kept private as they may be used for malicious purposes in the event they are compromised.","pos":[15167,15294]},{"content":"Test details","pos":[15300,15312]},{"content":"Tests for files within the app package that have an extension of .pfx or.snk that would indicate that private signing keys were included.","pos":[15314,15451]},{"content":"Corrective actions","pos":[15457,15475]},{"content":"Remove any private code signing keys (e.g. .pfx and .snk files) from the package.","pos":[15477,15558]},{"content":"Supported API test","pos":[15563,15581]},{"content":"Test the app for the use of any non-compliant APIs.","pos":[15583,15634]},{"content":"Background","pos":[15640,15650]},{"content":"Apps must use the APIs for Windows Store apps (Windows Runtime or supported Win32 APIs) to be certified for the Windows Store.","pos":[15652,15778]},{"content":"This test also identifies situations where a managed binary takes a dependency on a function outside of the approved profile.","pos":[15779,15904]},{"content":"Test details","pos":[15910,15922]},{"content":"Verifies that each binary within the app package doesn't have a dependency on a Win32 API that is not supported for Windows Store app development by checking the import address table of the binary.","pos":[15928,16125]},{"content":"Verifies that each managed binary within the app package doesn't have a dependency on a function outside of the approved profile.","pos":[16130,16259]},{"content":"Corrective actions","pos":[16265,16283]},{"content":"Make sure that the app was compiled as a release build and not a debug build.","pos":[16285,16362]},{"pos":[16366,16546],"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  The debug build of an app will fail this test even if the app uses only <bpt id=\"p2\">[</bpt>APIs for Windows Store apps<ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/xaml/bg124285.aspx)</ept>."},{"pos":[16548,16719],"content":"Review the error messages to identify the API the app uses that is not an <bpt id=\"p1\">[</bpt>API for Windows Store apps<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/xaml/bg124285.aspx)</ept>."},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  C++ apps that are built in a debug configuration will fail this test even if the configuration only uses APIs from the Windows SDK for Windows Store apps.","pos":[16723,16887]},{"content":"See, <bpt id=\"p1\">[</bpt>Alternatives to Windows APIs in Windows Store apps<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkID=244022)</ept> for more info.","pos":[16888,17009]},{"content":"Performance tests","pos":[17014,17031]},{"content":"The app must respond quickly to user interaction and system commands in order to present a fast and fluid user experience.","pos":[17033,17155]},{"content":"The characteristics of the computer on which the test is performed can influence the test results.","pos":[17157,17255]},{"content":"The performance test thresholds for app certification are set such that low-power computers meet the customer’s expectation of a fast and fluid experience.","pos":[17256,17411]},{"content":"To determine your app’s performance, we recommend that you test on a low-power computer, such as an Intel Atom processor-based computer with a screen resolution of 1366x768 (or higher) and a rotational hard drive (as opposed to a solid-state hard drive).","pos":[17412,17666]},{"content":"Bytecode generation","pos":[17672,17691]},{"content":"As a performance optimization to accelerate JavaScript execution time, JavaScript files ending in the .js extension generate bytecode when the app is deployed.","pos":[17693,17852]},{"content":"This significantly improves startup and ongoing execution times for JavaScript operations.","pos":[17853,17943]},{"content":"Test Details","pos":[17949,17961]},{"content":"Checks the app deployment to verify that all .js files have been converted to bytecode.","pos":[17963,18050]},{"content":"Corrective Action","pos":[18056,18073]},{"content":"If this test fails, consider the following when addressing the issue:","pos":[18075,18144]},{"content":"Verify that event logging is enabled.","pos":[18150,18187]},{"content":"Verify that all JavaScript files are syntactically valid.","pos":[18192,18249]},{"content":"Confirm that all previous versions of the app are uninstalled.","pos":[18254,18316]},{"content":"Exclude identified files from the app package.","pos":[18321,18367]},{"content":"Optimized binding references","pos":[18373,18401]},{"content":"When using bindings, WinJS.Binding.optimizeBindingReferences should be set to true in order to optimize memory usage.","pos":[18403,18520]},{"content":"Test Details","pos":[18526,18538]},{"content":"Verify the value of WinJS.Binding.optimizeBindingReferences.","pos":[18540,18600]},{"content":"Corrective Action","pos":[18606,18623]},{"pos":[18625,18703],"content":"Set WinJS.Binding.optimizeBindingReferences to <bpt id=\"p1\">**</bpt>true<ept id=\"p1\">**</ept> in the app JavaScript."},{"content":"App manifest resources test","pos":[18708,18735]},{"content":"App resources validation","pos":[18741,18765]},{"content":"The app might not install if the strings or images declared in your app’s manifest are incorrect.","pos":[18767,18864]},{"content":"If the app does install with these errors, your app’s logo or other images used by your app might not display correctly.","pos":[18865,18985]},{"content":"Test Details","pos":[18991,19003]},{"content":"Inspects the resources defined in the app manifest to make sure they are present and valid.","pos":[19005,19096]},{"content":"Corrective Action","pos":[19102,19119]},{"content":"Use the following table as guidance.","pos":[19121,19157]},{"content":"Error message","pos":[19175,19188]},{"content":"Comments","pos":[19197,19205]},{"content":"The image {image name} defines both Scale and TargetSize qualifiers; you can define only one qualifier at a time.","pos":[19228,19341]},{"content":"You can customize images for different resolutions.","pos":[19359,19410]},{"content":"In the actual message, {image name} contains the name of the image with the error.","pos":[19418,19500]},{"content":"Make sure that each image defines either Scale or TargetSize as the qualifier.","pos":[19509,19587]},{"content":"The image {image name} failed the size restrictions.","pos":[19615,19667]},{"content":"Ensure that all the app images adhere to the proper size restrictions.","pos":[19685,19755]},{"content":"In the actual message, {image name} contains the name of the image with the error.","pos":[19763,19845]},{"content":"The image {image name} is missing from the package.","pos":[19873,19924]},{"content":"A required image is missing.","pos":[19942,19970]},{"content":"In the actual message, {image name} contains the name of the image that is missing.","pos":[19978,20061]},{"content":"The image {image name} is not a valid image file.","pos":[20089,20138]},{"content":"Ensure that all the app images adhere to the proper file format type restrictions.","pos":[20156,20238]},{"content":"In the actual message, {image name} contains the name of the image that is not valid.","pos":[20246,20331]},{"content":"The image \"BadgeLogo\" has an ABGR value {value} at position (x, y) that is not valid.","pos":[20359,20444]},{"content":"The pixel must be white (##FFFFFF) or transparent (00######)","pos":[20445,20505]},{"content":"The badge logo is an image that appears next to the badge notification to identify the app on the lock screen.","pos":[20523,20633]},{"content":"This image must be monochromatic (it can contain only white and transparent pixels).","pos":[20634,20718]},{"content":"In the actual message, {value} contains the color value in the image that is not valid.","pos":[20726,20813]},{"content":"The image \"BadgeLogo\" has an ABGR value {value} at position (x, y) that is not valid for a high-contrast white image.","pos":[20841,20958]},{"content":"The pixel must be (##2A2A2A) or darker, or transparent (00######).","pos":[20959,21025]},{"content":"The badge logo is an image that appears next to the badge notification to identify the app on the lock screen.","pos":[21043,21153]},{"content":"Because the badge logo  appears on a white background when in high-contrast white, it must be a dark version of the normal badge logo.","pos":[21156,21290]},{"content":"In high-contrast white, the badge logo can only contain pixels that are darker than (##2A2A2A) or transparent.","pos":[21291,21401]},{"content":"In the actual message, {value} contains the color value in the image that is not valid.","pos":[21409,21496]},{"content":"The image must define at least one variant without a TargetSize qualifier.","pos":[21524,21598]},{"content":"It must define a Scale qualifier or leave Scale and TargetSize unspecified, which defaults to Scale-100.","pos":[21599,21703]},{"content":"For more info, see <ph id=\"ph1\">&lt;a href=\"https://msdn.microsoft.com/library/windows/apps/xaml/dn958435.aspx\"&gt;</ph>Responsive design 101 for UWP apps<ph id=\"ph2\">&lt;/a&gt;</ph> and <ph id=\"ph3\">&lt;a href=\"https://msdn.microsoft.com/library/windows/apps/xaml/hh465241.aspx\"&gt;</ph>Guidelines for app resources<ph id=\"ph4\">&lt;/a&gt;</ph>.","pos":[21721,21970]},{"content":"The package is missing a \"resources.pri\" file.","pos":[21998,22044]},{"content":"If you have localizable content in your app manifest, make sure that your app's package includes a valid resources.pri file.","pos":[22062,22186]},{"content":"The \"resources.pri\" file must contain a resource map with a name that matches the package name  {package full name}","pos":[22214,22329]},{"content":"You can get this error if the manifest changed and  the name of the resource map in resources.pri no longer matches the package name in the manifest.","pos":[22347,22496]},{"content":"In the actual message, {package full name} contains the package name that resources.pri must contain.","pos":[22504,22605]},{"content":"To fix this, you need to rebuild resources.pri and the easiest way to do that is  by rebuilding the app's package.","pos":[22613,22727]},{"content":"The \"resources.pri\" file must not have AutoMerge enabled.","pos":[22755,22812]},{"content":"MakePRI.exe supports an option called <ph id=\"ph1\">&lt;strong&gt;</ph>AutoMerge<ph id=\"ph2\">&lt;/strong&gt;</ph>.","pos":[22830,22895]},{"content":"The default value of <ph id=\"ph1\">&lt;strong&gt;</ph>AutoMerge<ph id=\"ph2\">&lt;/strong&gt;</ph> is <ph id=\"ph3\">&lt;strong&gt;</ph>off<ph id=\"ph4\">&lt;/strong&gt;</ph>.","pos":[22896,22968]},{"content":"When enabled, <ph id=\"ph1\">&lt;strong&gt;</ph>AutoMerge<ph id=\"ph2\">&lt;/strong&gt;</ph> merges an app's  language pack resources into a single resources.pri at runtime.","pos":[22969,23090]},{"content":"We don't recommend this for apps that you intend to distribute through  the Windows Store.","pos":[23091,23181]},{"content":"The resources.pri of an app that is distributed through the  Windows Store must be in  the root of the app's package and contain all the language references that the app supports.","pos":[23182,23361]},{"content":"The string {string} failed the max length restriction of {number} characters.","pos":[23389,23466]},{"content":"Refer to the <ph id=\"ph1\">&lt;a href=\"https://msdn.microsoft.com/library/windows/apps/xaml/mt148525.aspx\"&gt;</ph>App package requirements<ph id=\"ph2\">&lt;/a&gt;</ph>.","pos":[23484,23603]},{"content":"In the actual message, {string} is replaced by the string with the error and {number} contains the maximum length.","pos":[23611,23725]},{"content":"The string {string} must not have leading/trailing whitespace.","pos":[23753,23815]},{"content":"The schema for the elements in the app manifest don't allow leading or trailing white space characters.","pos":[23833,23936]},{"content":"In the actual message, {string} is replaced by the string with the error.","pos":[23944,24017]},{"content":"Make sure that none of the localized values of the manifest fields in resources.pri have leading or trailing white space characters.","pos":[24025,24157]},{"content":"The string must be non-empty (greater than zero in length)","pos":[24185,24243]},{"content":"For more info, see <ph id=\"ph1\">&lt;a href=\"https://msdn.microsoft.com/library/windows/apps/xaml/mt148525.aspx\"&gt;</ph>App package requirements<ph id=\"ph2\">&lt;/a&gt;</ph>.","pos":[24261,24386]},{"content":"There is no default resource specified in the \"resources.pri\" file.","pos":[24414,24481]},{"content":"For more info, see <ph id=\"ph1\">&lt;a href=\"https://msdn.microsoft.com/library/windows/apps/xaml/hh465241.aspx\"&gt;</ph>Guidelines for app resources<ph id=\"ph2\">&lt;/a&gt;</ph>.","pos":[24499,24628]},{"content":"In the default build configuration,  Visual Studio only includes scale-200 image resources in the app package when generating bundles, putting other resources in the resource package.","pos":[24636,24819]},{"content":"Make sure  you either include scale-200 image resources or configure your project to include the resources you have.","pos":[24820,24936]},{"content":"There is no resource value specified in the \"resources.pri\" file.","pos":[24964,25029]},{"content":"Make sure that the app manifest has valid resources defined in resources.pri.","pos":[25047,25124]},{"content":"The image file {filename} must be smaller than 204800 bytes.","pos":[25152,25212]},{"content":"Reduce the size of the indicated images.","pos":[25234,25274]},{"content":"The {filename} file must not contain a reverse map section.","pos":[25302,25361]},{"content":"While the reverse map is generated during Visual Studio 'F5 debugging' when calling into makepri.exe, it can be removed by running makepri.exe without the /m parameter when generating a pri file.","pos":[25383,25578]},{"content":"Indicates that a test was added in the Windows App Certification Kit 3.3 for Windows 8.1 and is only applicable when using the that version of the kit or later.","pos":[25623,25783]},{"content":"Branding validation","pos":[25818,25837]},{"content":"Windows Store apps are expected to be complete and fully functional.","pos":[25839,25907]},{"content":"Apps using the default images (from templates or SDK samples) present a poor user experience and cannot be easily identified in the store catalog.","pos":[25908,26054]},{"content":"Test Details","pos":[26060,26072]},{"content":"The test will validate if the images used by the app are not default images either from SDK samples or from Visual Studio.","pos":[26074,26196]},{"content":"Corrective actions","pos":[26202,26220]},{"content":"Replace default images with something more distinct and representative of your app.","pos":[26222,26305]},{"content":"Debug configuration test","pos":[26310,26334]},{"content":"Test the app to make sure it is not a debug build.","pos":[26336,26386]},{"content":"Background","pos":[26392,26402]},{"content":"To be certified for the Windows Store, apps must not be compiled for debug and they must not reference debug versions of an executable file.","pos":[26404,26544]},{"content":"In addition, you must build your code as optimized for your app to pass this test.","pos":[26545,26627]},{"content":"Test details","pos":[26633,26645]},{"content":"Test the app to make sure it is not a debug build and is not linked to any debug frameworks.","pos":[26647,26739]},{"content":"Corrective actions","pos":[26745,26763]},{"content":"Build the app as a release build before you submit it to the Windows Store.","pos":[26769,26844]},{"content":"Make sure that you have the correct version of .NET framework installed.","pos":[26849,26921]},{"content":"Make sure the app isn't linking to debug versions of a framework and that it is building with a release version.","pos":[26926,27038]},{"content":"If this app contains .NET components, make sure that you have installed the correct version of the .NET framework.","pos":[27039,27153]},{"content":"File encoding test","pos":[27158,27176]},{"content":"UTF-8 file encoding","pos":[27182,27201]},{"content":"Background","pos":[27207,27217]},{"content":"HTML, CSS, and JavaScript files must be encoded in UTF-8 form with a corresponding byte-order mark (BOM) to benefit from bytecode caching and avoid certain runtime error conditions.","pos":[27219,27400]},{"content":"Test details","pos":[27406,27418]},{"content":"Test the contents of app packages to make sure that they use the correct file encoding.","pos":[27420,27507]},{"content":"Corrective Action","pos":[27513,27530]},{"content":"Open the affected file and select <bpt id=\"p1\">**</bpt>Save As<ept id=\"p1\">**</ept> from the <bpt id=\"p2\">**</bpt>File<ept id=\"p2\">**</ept> menu in Visual Studio.","pos":[27532,27618]},{"content":"Select the drop-down control next to the <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept> button and select <bpt id=\"p2\">**</bpt>Save with Encoding<ept id=\"p2\">**</ept>.","pos":[27619,27710]},{"content":"From the <bpt id=\"p1\">**</bpt>Advanced<ept id=\"p1\">**</ept> save options dialog, choose the Unicode (UTF-8 with signature) option and click <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept>.","pos":[27711,27820]},{"content":"Direct3D feature level test","pos":[27825,27852]},{"content":"Direct3D feature level support","pos":[27858,27888]},{"content":"Tests Microsoft Direct3D apps to ensure that they won't crash on devices with older graphics hardware.","pos":[27890,27992]},{"content":"Background","pos":[27998,28008]},{"content":"Windows Store requires all applications using Direct3D to render properly or fail gracefully on feature level 9<ph id=\"ph1\">\\-</ph>1 graphics cards.","pos":[28010,28140]},{"content":"Because users can change the graphics hardware in their device after the app is installed, if you choose a minimum feature level higher than 9<ph id=\"ph1\">\\-</ph>1, your app must detect at launch whether or not the current hardware meets the minimum requirements.","pos":[28142,28387]},{"content":"If the minimum requirements are not met, the app must display a message to the user detailing the Direct3D requirements.","pos":[28388,28508]},{"content":"Also, if an app is downloaded on a device with which it is not compatible, it should detect that at launch and display a message to the customer detailing the requirements.","pos":[28509,28681]},{"content":"Test Details","pos":[28687,28699]},{"content":"The test will validate if the apps render accurately on feature level 9<ph id=\"ph1\">\\-</ph>1.","pos":[28701,28776]},{"content":"Corrective Action","pos":[28782,28799]},{"content":"Ensure that your app renders correctly on Direct3D feature level 9<ph id=\"ph1\">\\-</ph>1, even if you expect it to run at a higher feature level.","pos":[28801,28927]},{"content":"See <bpt id=\"p1\">[</bpt>Developing for different Direct3D feature levels<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkID=253575)</ept> for more info.","pos":[28928,29046]},{"content":"Direct3D Trim after suspend","pos":[29052,29079]},{"pos":[29083,29174],"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  This test only applies to Windows Store apps developed for Windows 8.1 and later."},{"content":"Background","pos":[29180,29190]},{"content":"If the app does not call <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Trim<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/desktop/Dn280346)</ept> on its Direct3D device, the app will not release memory allocated for its earlier 3D work.","pos":[29192,29379]},{"content":"This increases the risk of apps being terminated due to system memory pressure.","pos":[29380,29459]},{"content":"Test Details","pos":[29465,29477]},{"pos":[29479,29672],"content":"Checks apps for compliance with d3d requirements and ensures that apps are calling a new <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Trim<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/desktop/Dn280346)</ept> API upon their Suspend callback."},{"content":"Corrective Action","pos":[29678,29695]},{"pos":[29697,29930],"content":"The app should call the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Trim<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/desktop/Dn280346)</ept> API on its <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>IDXGIDevice3<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/desktop/Dn280345)</ept> interface anytime it is about to be suspended."},{"content":"App Capabilities test","pos":[29935,29956]},{"content":"Special use capabilities","pos":[29962,29986]},{"content":"Background","pos":[29992,30002]},{"content":"Special use capabilities are intended for very specific scenarios.","pos":[30004,30070]},{"content":"Only company accounts are allowed to use these capabilities.","pos":[30071,30131]},{"content":"Test Details","pos":[30137,30149]},{"content":"Validate if the app is declaring any of the below capabilities:","pos":[30151,30214]},{"content":"EnterpriseAuthentication","pos":[30220,30244]},{"content":"SharedUserCertificates","pos":[30249,30271]},{"content":"DocumentsLibrary","pos":[30276,30292]},{"content":"If any of these capabilities are declared, the test will display a warning to the user.","pos":[30294,30381]},{"content":"Corrective Actions","pos":[30387,30405]},{"content":"Consider removing the special use capability if your app doesn't require it.","pos":[30407,30483]},{"content":"Additionally, use of these capabilities are subject to additional on-boarding policy review.","pos":[30484,30576]},{"content":"Windows Runtime metadata validation","pos":[30745,30780]},{"content":"Background","pos":[30786,30796]},{"content":"Ensures that the components that ship in an app conform to the UWP type system.","pos":[30798,30877]},{"content":"Test Details","pos":[30883,30895]},{"pos":[30897,30968],"content":"Verifies that the <bpt id=\"p1\">**</bpt>.winmd<ept id=\"p1\">**</ept> files in the package conform to UWP rules."},{"content":"Corrective Actions","pos":[30974,30992]},{"pos":[30998,31126],"content":"<bpt id=\"p1\">**</bpt>ExclusiveTo attribute test:<ept id=\"p1\">**</ept> Ensure that UWP classes don't implement interfaces that are marked as ExclusiveTo another class."},{"pos":[31131,31291],"content":"<bpt id=\"p1\">**</bpt>Type location test:<ept id=\"p1\">**</ept> Ensure that the metadata for all UWP types is located in the winmd file that has the longest namespace-matching name in the app package."},{"content":"<bpt id=\"p1\">**</bpt>Type name case-sensitivity test:<ept id=\"p1\">**</ept> Ensure that all UWP types have unique, case-insensitive names within your app package.","pos":[31296,31419]},{"content":"Also ensure that no UWP type name is also used as a namespace name within your app package.","pos":[31420,31511]},{"pos":[31516,31640],"content":"<bpt id=\"p1\">**</bpt>Type name correctness test:<ept id=\"p1\">**</ept> Ensure there are no UWP types in the global namespace or in the Windows top-level namespace."},{"pos":[31645,31788],"content":"<bpt id=\"p1\">**</bpt>General metadata correctness test:<ept id=\"p1\">**</ept> Ensure that the compiler you are using to generate your types is up to date with the UWP specifications."},{"content":"<bpt id=\"p1\">**</bpt>Properties test:<ept id=\"p1\">**</ept> ensure that all properties on a UWP class have a get method (set methods are optional).","pos":[31793,31901]},{"content":"Ensure that the type of the get method return value matches the type of the set method input parameter, for all properties on UWP types.","pos":[31902,32038]},{"content":"Package Sanity tests","pos":[32043,32063]},{"content":"Platform appropriate files test","pos":[32069,32100]},{"content":"Apps that install mixed binaries may crash or not run correctly depending upon the user’s processor architecture.","pos":[32102,32215]},{"content":"Background","pos":[32221,32231]},{"content":"This test validates the binaries in an app package for architecture conflicts.","pos":[32233,32311]},{"content":"An app package should not include binaries that can't be used on the processor architecture specified in the manifest.","pos":[32312,32430]},{"content":"Including unsupported binaries can lead to your app crashing or an unnecessary increase in the app package size.","pos":[32431,32543]},{"content":"Test Details","pos":[32549,32561]},{"content":"Validates that each file's \"bitness\" in the PE header is appropriate when cross-referenced with the app package processor architecture declaration","pos":[32563,32709]},{"content":"Corrective Action","pos":[32715,32732]},{"content":"Follow these guidelines to ensure that your app package only contains files supported by the architecture specified in the app manifest:","pos":[32734,32870]},{"content":"If the Target Processor Architecture for your app is Neutral processor Type, the app package cannot contain x86, x64, or ARM binary or image type files.","pos":[32876,33028]},{"content":"If the Target Processor Architecture for your app is x86 processor type, the app package must only contain x86 binary or image type files.","pos":[33034,33172]},{"content":"If the package contains x64 or ARM binary or image types, it will fail the test.","pos":[33173,33253]},{"content":"If the Target Processor Architecture for your app is x64 processor type, the app package must contain x64 binary or image type files.","pos":[33259,33392]},{"content":"Note that in this case the package can also include x86 files, but the primary app experience should utilize the x64 binary.","pos":[33393,33517]},{"content":"However, if the package contains ARM binary or image type files, or only contains x86 binaries or image type files, it will fail the test.","pos":[33523,33661]},{"content":"If the Target Processor Architecture for your app is ARM processor type, the app package must only contain ARM binary or image type files.","pos":[33667,33805]},{"content":"If the package contains x64 or x86 binary or image type files, it will fail the test.","pos":[33806,33891]},{"content":"Supported Directory Structure test","pos":[33897,33931]},{"content":"Validates that applications are not creating subdirectories as part of installation that are longer than MAX<ph id=\"ph1\">\\-</ph>PATH.","pos":[33933,34048]},{"content":"Background","pos":[34054,34064]},{"content":"OS components (including Trident, WWAHost, etc.) are internally limited to MAX<ph id=\"ph1\">\\-</ph>PATH for file system paths and will not work correctly for longer paths.","pos":[34066,34218]},{"content":"Test Details","pos":[34224,34236]},{"content":"Verifies that no path within the app install directory exceeds MAX<ph id=\"ph1\">\\-</ph>PATH.","pos":[34238,34311]},{"content":"Corrective Action","pos":[34317,34334]},{"content":"Use a shorter directory structure, and or file name.","pos":[34336,34388]},{"content":"Resource Usage test","pos":[34393,34412]},{"content":"WinJS Background Task test","pos":[34418,34444]},{"content":"WinJS background task test ensures that JavaScript apps have the proper close statements so apps don’t consume battery.","pos":[34446,34565]},{"content":"Background","pos":[34571,34581]},{"content":"Apps that have JavaScript background tasks need to call Close() as the last statement in their background task.","pos":[34583,34694]},{"content":"Apps that do not do this could keep the system from returning to connected standby mode and result in draining the battery.","pos":[34695,34818]},{"content":"Test Details","pos":[34824,34836]},{"content":"If the app does not have a background task file specified in the manifest, the test will pass.","pos":[34838,34932]},{"content":"Otherwise the test will parse the JavaScript background task file that is specified in the app package, and look for a Close() statement.","pos":[34933,35070]},{"content":"If found, the test will pass; otherwise the test will fail.","pos":[35071,35130]},{"content":"Corrective Action","pos":[35136,35153]},{"content":"Update the background JavaScript code to call Close() correctly.","pos":[35155,35219]},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  This article is for Windows 10 developers writing UWP apps.","pos":[35223,35292]},{"content":"If you’re developing for Windows 8.x or Windows Phone 8.x, see the <bpt id=\"p1\">[</bpt>archived documentation<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept>.","pos":[35293,35434]}],"content":"---\nauthor: mcleblanc\nms.assetid: 1526FF4B-9E68-458A-B002-0A5F3A9A81FD\ntitle: Windows App Certification Kit tests\ndescription: The Windows App Certification Kit contains a number of tests that can help ensure that your app is ready to be published on the Windows Store.\n---\n## Windows App Certification Kit tests\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\nThe Windows App Certification Kit contains a number of tests that can help ensure that your app is ready to be published on the Windows Store.\n\n## Deployment and launch tests\n\nMonitors the app during certification testing to record when it crashes or hangs.\n\n### Background\n\nApps that stop responding or crash can cause the user to lose data and have a poor experience.\n\nWe expect apps to be fully functional without the use of Windows compatibility modes, AppHelp messages, or compatibility fixes.\n\nApps must not list DLLs to load in the HKEY\\-LOCAL\\-MACHINE\\\\Software\\\\Microsoft\\\\Windows NT\\\\CurrentVersion\\\\Windows\\\\AppInit\\-DLLs registry key.\n\n### Test details\n\nWe test the app resilience and stability throughout the certification testing.\n\nThe Windows App Certification Kit calls [**IApplicationActivationManager::ActivateApplication**](https://msdn.microsoft.com/library/windows/desktop/Hh706903) to launch apps. For **ActivateApplication** to launch an app, User Account Control (UAC) must be enabled and the screen resolution must be at least 1024 x 768 or 768 x 1024. If either condition is not met, your app will fail this test.\n\n### Corrective actions\n\nMake sure UAC is enabled on the test computer.\n\nMake sure you are running the test on a computer with large enough screen.\n\nIf your app fails to launch and your test platform satisfies the prerequisites of [**ActivateApplication**](https://msdn.microsoft.com/library/windows/desktop/Hh706903), you can troubleshoot the problem by reviewing the activation event log. To find these entries in the event log:\n\n1.  Open eventvwr.exe and navigate to the Application and Services Log\\\\Microsoft\\\\Windows\\\\Immersive-Shell folder.\n2.  Filter the view to show Event Ids: 5900-6000.\n3.  Review the log entries for info that might explain why the app didn't launch.\n\nTroubleshoot the file with the problem, identify and fix the problem. Rebuild and re-test the app. You can also check if a dump file was generated in the Windows App Certification Kit log folder that can be used to debug your app.\n\n## Platform Version Launch test\n\nChecks that the Windows app can run on a future version of the OS. This test has historically been only applied to the Desktop app workflow, but this is now enabled for the Store and Universal Windows Platform (UWP) workflows.\n\n### Background\n\nOperating system version info has restricted usage for the Windows Store. This has often been incorrectly used by apps to check OS version so that the app can provide users with functionality that is specific to an OS version.\n\n### Test details\n\nThe Windows App Certification Kit uses the HighVersionLie to detect how the app checks the OS version. If the app crashes, it will fail this test.\n\n### Corrective action\n\nApps should use Version API helper functions to check this. See [Operating System Version](https://msdn.microsoft.com/library/windows/desktop/ms724832) for more information.\n\n## Background tasks cancellation handler validation\n\nThis verifies that the app has a cancellation handler for declared background tasks. There needs to be a dedicated function that will be called when the task is cancelled. This test is applied only for deployed apps.\n\n### Background\n\nStore apps can register a process that runs in the background. For example, an email app may ping a server from time to time. However, if the OS needs these resources, it will cancel the background task, and apps should gracefully handle this cancellation. Apps that don't have a cancellation handler may crash or not close when the user tries to close the app.\n\n### Test details\n\nThe app is launched, suspended and the non-background portion of the app is terminated. Then the background tasks associated with this app are cancelled. The state of the app is checked, and if the app is still running then it will fail this test.\n\n### Corrective action\n\nAdd the cancellation handler to your app. For more information see [Support your app with background tasks](https://msdn.microsoft.com/library/windows/apps/Mt299103).\n\n## App count\n\nThis verifies that an app package (APPX, app bundle) contains one application. This was changed in the kit to be a standalone test.\n\n### Background\n\nThis test was implemented as per Store policy.\n\n### Test details\n\nFor Windows Phone 8.1 apps the test verifies the total number of appx packages in the bundle is &lt; 512, there is only one main package in the bundle, and that the architecture of the main package in the bundle is marked as ARM or neutral.\n\nFor Windows 10 apps the test verifies that the revision number in the version of the bundle is set to 0.\n\n### Corrective action\n\nEnsure the app package and bundle meet requirements above in Test details.\n\n## App manifest compliance test\n\nTest the contents of app manifest to make sure its contents are correct.\n\n### Background\n\nApps must have a correctly formatted app manifest.\n\n### Test details\n\nExamines the app manifest to verify the contents are correct as described in the [App package requirements](https://msdn.microsoft.com/library/windows/apps/Mt148525).\n\n-   **File extensions and protocols**\n\n    Your app can declare the file extensions that it wants to associate with. Used improperly, an app can declare a large number of file extensions, most of which it may not even use, resulting in a bad user experience. This test will add a check to limit the number of file extensions that an app can associate with.\n\n-   **Framework Dependency rule**\n\n    This test enforces the requirement that apps take appropriate dependencies on the UWP. If there is an inappropriate dependency, this test will fail.\n\n    If there is a mismatch between the OS version the app applies to and the framework dependencies made, the test will fail. The test would also fail if the app refers to any preview versions of the framework dlls.\n\n-   **Inter-process Communication (IPC) verification**\n\n    This test enforces the requirement that Windows Store apps do not communicate outside of the app container to Desktop components. Inter-process communication is intended for side-loaded apps only. Apps that specify the [**ActivatableClassAttribute**](https://msdn.microsoft.com/library/windows/apps/BR211414) with name equal to \"DesktopApplicationPath\" will fail this test.\n\n### Corrective action\n\nReview the app's manifest against the requirements described in the [App package requirements](https://msdn.microsoft.com/library/windows/apps/Mt148525).\n\n## Windows Security features test\n\n### Background\n\nChanging the default Windows security protections can put customers at increased risk.\n\n### Test details\n\nTests the app's security by running the [BinScope Binary Analyzer](#binscope).\n\nThe BinScope Binary Analyzer tests examine the app's binary files to check for coding and building practices that make the app less vulnerable to attack or to being used as an attack vector.\n\nThe BinScope Binary Analyzer tests check for the correct use of the following security-related features.\n\n-   BinScope Binary Analyzer tests\n-   Private Code Signing\n\n### BinScope Binary Analyzer tests\n\nThe [BinScope Binary Analyzer](http://go.microsoft.com/fwlink/p/?linkid=257276) tests examine the app's binary files to check for coding and building practices that make the app less vulnerable to attack or to being used as an attack vector.\n\nThe BinScope Binary Analyzer tests check for the correct use of these security-related features:\n\n-   [AllowPartiallyTrustedCallersAttribute](#binscope-1)\n-   [/SafeSEH Exception Handling Protection](#binscope-2)\n-   [Data Execution Prevention](#binscope-3)\n-   [Address Space Layout Randomization](#binscope-4)\n-   [Read/Write Shared PE Section](#binscope-5)\n-   [AppContainerCheck](#appcontainercheck)\n-   [ExecutableImportsCheck](#binscope-7)\n-   [WXCheck](#binscope-8)\n\n### <span id=\"binscope-1\"></span>AllowPartiallyTrustedCallersAttribute\n\n**Windows App Certification Kit error message:** APTCACheck Test failed\n\nThe AllowPartiallyTrustedCallersAttribute (APTCA) attribute enables access to fully trusted code from partially trusted code in signed assemblies. When you apply the APTCA attribute to an assembly, partially trusted callers can access that assembly for the life of the assembly, which can compromise security.\n\n**What to do if your app fails this test**\n\nDon't use the APTCA attribute on strong named assemblies unless your project requires it and the risks are well understood. In cases where it's required, make sure that all APIs are protected with appropriate code access security demands. APTCA has no effect when the assembly is a part of a Universal Windows Platform (UWP) app.\n\n**Remarks**\n\nThis test is performed only on managed code (C#, .NET, etc.).\n\n### <span id=\"binscope-2\"></span>/SafeSEH Exception Handling Protection\n\n**Windows App Certification Kit error message:** SafeSEHCheck Test failed\n\nAn exception handler runs when the app encounters an exceptional condition, such as a divide-by-zero error. Because the address of the exception handler is stored on the stack when a function is called, it could be vulnerable to a buffer overflow attacker if some malicious software were to overwrite the stack.\n\n**What to do if your app fails this test**\n\nEnable the /SAFESEH option in the linker command when you build your app. This option is on by default in the Release configurations of Visual Studio. Verify this option is enabled in the build instructions for all executable modules in your app.\n\n**Remarks**\n\nThe test is not performed on 64-bit binaries or ARM chipset binaries because they don't store exception handler addresses on the stack.\n\n### <span id=\"binscope-3\"></span>Data Execution Prevention\n\n**Windows App Certification Kit error message:** NXCheck Test failed\n\nThis test verifies that an app doesn't run code that is stored in a data segment.\n\n**What to do if your app fails this test**\n\nEnable the /NXCOMPAT option in the linker command when you build your app. This option is on by default in linker versions that support Data Execution Prevention (DEP).\n\n**Remarks**\n\nWe recommend that you test your apps on a DEP-capable CPU and fix any failures you find that result from DEP.\n\n### <span id=\"binscope-4\"></span>Address Space Layout Randomization\n\n**Windows App Certification Kit error message:** DBCheck Test failed\n\nAddress Space Layout Randomization (ASLR) loads executable images into unpredictable locations in memory, which makes it harder for malicious software that expects a program to be loaded at a certain virtual address to operate predictably. Your app and all components that your app uses must support ASLR.\n\n**What to do if your app fails this test**\n\nEnable the /DYNAMICBASE option in the linker command when you build your app. Verify that all modules that your app uses also use this linker option.\n\n**Remarks**\n\nNormally, ASLR doesn't affect performance. But in some scenarios there is a slight performance improvement on 32-bit systems. It is possible that performance could degrade in a highly congested system that have many images loaded in many different memory locations.\n\nThis test is performed on only apps written in managed code, such as by using C# or .NET Framework.\n\n### <span id=\"binscope-5\"></span>Read/Write Shared PE Section\n\n**Windows App Certification Kit error message:** SharedSectionsCheck Test failed.\n\nBinary files with writable sections that are marked as shared are a security threat. Don't build apps with shared writable sections unless necessary. Use [**CreateFileMapping**](https://msdn.microsoft.com/library/windows/desktop/Aa366537) or [**MapViewOfFile**](https://msdn.microsoft.com/library/windows/desktop/Aa366761) to create a properly secured shared memory object.\n\n**What to do if your app fails this test**\n\nRemove any shared sections from the app and create shared memory objects by calling [**CreateFileMapping**](https://msdn.microsoft.com/library/windows/desktop/Aa366537) or [**MapViewOfFile**](https://msdn.microsoft.com/library/windows/desktop/Aa366761) with the proper security attributes and then rebuild your app.\n\n**Remarks**\n\nThis test is performed only on apps written in unmanaged languages, such as by using C or C++.\n\n### AppContainerCheck\n\n**Windows App Certification Kit error message:** AppContainerCheck Test failed.\n\nThe AppContainerCheck verifies that the **appcontainer** bit in the portable executable (PE) header of an executable binary is set. Apps must have the **appcontainer** bit set on all .exe files and all unmanaged DLLs to execute properly.\n\n**What to do if your app fails this test**\n\nIf a native executable file fails the test, make sure that you used the latest compiler and linker to build the file and that you use the */appcontainer* flag on the linker.\n\nIf a managed executable fails the test, make sure that you used the latest compiler and linker, such as Microsoft Visual Studio, to build the Windows Store app.\n\n**Remarks**\n\nThis test is performed on all .exe files and on unmanaged DLLs.\n\n### <span id=\"binscope-7\"></span>ExecutableImportsCheck\n\n**Windows App Certification Kit error message:** ExecutableImportsCheck Test failed.\n\nA portable executable (PE) image fails this test if its import table has been placed in an executable code section. This can occur if you enabled .rdata merging for the PE image by setting the */merge* flag of the Visual C++ linker as */merge:.rdata=.text*.\n\n**What to do if your app fails this test**\n\nDon't merge the import table into an executable code section. Make sure that the */merge* flag of the Visual C++ linker is not set to merge the \".rdata\" section into a code section.\n\n**Remarks**\n\nThis test is performed on all binary code except purely managed assemblies.\n\n### <span id=\"binscope-8\"></span>WXCheck\n\n**Windows App Certification Kit error message:** WXCheck Test failed.\n\nThe check helps to ensure that a binary does not have any pages that are mapped as writable and executable. This can occur if the binary has a writable and executable section or if the binary’s *SectionAlignment* is less than *PAGE\\-SIZE*.\n\n**What to do if your app fails this test**\n\nMake sure that the binary does not have a writeable or executable section and that the binary's *SectionAlignment* value is at least equal to its *PAGE\\-SIZE*.\n\n**Remarks**\n\nThis test is performed on all .exe files and on native, unmanaged DLLs.\n\nAn executable may have a writable and executable section if it has been built with Edit and Continue enabled (/ZI). Disabling Edit and Continue will cause the invalid section to not be present.\n\n*PAGE\\-SIZE* is the default *SectionAlignment* for executables.\n\n### Private Code Signing\n\nTests for the existence of private code signing binaries within the app package.\n\n### Background\n\nPrivate code signing files should be kept private as they may be used for malicious purposes in the event they are compromised.\n\n### Test details\n\nTests for files within the app package that have an extension of .pfx or.snk that would indicate that private signing keys were included.\n\n### Corrective actions\n\nRemove any private code signing keys (e.g. .pfx and .snk files) from the package.\n\n## Supported API test\n\nTest the app for the use of any non-compliant APIs.\n\n### Background\n\nApps must use the APIs for Windows Store apps (Windows Runtime or supported Win32 APIs) to be certified for the Windows Store. This test also identifies situations where a managed binary takes a dependency on a function outside of the approved profile.\n\n### Test details\n\n-   Verifies that each binary within the app package doesn't have a dependency on a Win32 API that is not supported for Windows Store app development by checking the import address table of the binary.\n-   Verifies that each managed binary within the app package doesn't have a dependency on a function outside of the approved profile.\n\n### Corrective actions\n\nMake sure that the app was compiled as a release build and not a debug build.\n\n> **Note**  The debug build of an app will fail this test even if the app uses only [APIs for Windows Store apps](https://msdn.microsoft.com/library/windows/apps/xaml/bg124285.aspx).\n\nReview the error messages to identify the API the app uses that is not an [API for Windows Store apps](https://msdn.microsoft.com/library/windows/apps/xaml/bg124285.aspx).\n\n> **Note**  C++ apps that are built in a debug configuration will fail this test even if the configuration only uses APIs from the Windows SDK for Windows Store apps. See, [Alternatives to Windows APIs in Windows Store apps](http://go.microsoft.com/fwlink/p/?LinkID=244022) for more info.\n\n## Performance tests\n\nThe app must respond quickly to user interaction and system commands in order to present a fast and fluid user experience.\n\nThe characteristics of the computer on which the test is performed can influence the test results. The performance test thresholds for app certification are set such that low-power computers meet the customer’s expectation of a fast and fluid experience. To determine your app’s performance, we recommend that you test on a low-power computer, such as an Intel Atom processor-based computer with a screen resolution of 1366x768 (or higher) and a rotational hard drive (as opposed to a solid-state hard drive).\n\n### Bytecode generation\n\nAs a performance optimization to accelerate JavaScript execution time, JavaScript files ending in the .js extension generate bytecode when the app is deployed. This significantly improves startup and ongoing execution times for JavaScript operations.\n\n### Test Details\n\nChecks the app deployment to verify that all .js files have been converted to bytecode.\n\n### Corrective Action\n\nIf this test fails, consider the following when addressing the issue:\n\n-   Verify that event logging is enabled.\n-   Verify that all JavaScript files are syntactically valid.\n-   Confirm that all previous versions of the app are uninstalled.\n-   Exclude identified files from the app package.\n\n### Optimized binding references\n\nWhen using bindings, WinJS.Binding.optimizeBindingReferences should be set to true in order to optimize memory usage.\n\n### Test Details\n\nVerify the value of WinJS.Binding.optimizeBindingReferences.\n\n### Corrective Action\n\nSet WinJS.Binding.optimizeBindingReferences to **true** in the app JavaScript.\n\n## App manifest resources test\n\n### App resources validation\n\nThe app might not install if the strings or images declared in your app’s manifest are incorrect. If the app does install with these errors, your app’s logo or other images used by your app might not display correctly.\n\n### Test Details\n\nInspects the resources defined in the app manifest to make sure they are present and valid.\n\n### Corrective Action\n\nUse the following table as guidance.\n\n<table>\n<tr><th>Error message</th><th>Comments</th></tr>\n<tr><td>\n<p>The image {image name} defines both Scale and TargetSize qualifiers; you can define only one qualifier at a time.</p>\n</td><td>\n<p>You can customize images for different resolutions.</p>\n<p>In the actual message, {image name} contains the name of the image with the error.</p>\n<p> Make sure that each image defines either Scale or TargetSize as the qualifier.</p>\n</td></tr>\n<tr><td>\n<p>The image {image name} failed the size restrictions.</p>\n</td><td>\n<p>Ensure that all the app images adhere to the proper size restrictions.</p>\n<p>In the actual message, {image name} contains the name of the image with the error.</p>\n</td></tr>\n<tr><td>\n<p>The image {image name} is missing from the package.</p>\n</td><td>\n<p>A required image is missing.</p>\n<p>In the actual message, {image name} contains the name of the image that is missing.</p>\n</td></tr>\n<tr><td>\n<p>The image {image name} is not a valid image file.</p>\n</td><td>\n<p>Ensure that all the app images adhere to the proper file format type restrictions.</p>\n<p>In the actual message, {image name} contains the name of the image that is not valid.</p>\n</td></tr>\n<tr><td>\n<p>The image \"BadgeLogo\" has an ABGR value {value} at position (x, y) that is not valid. The pixel must be white (##FFFFFF) or transparent (00######)</p>\n</td><td>\n<p>The badge logo is an image that appears next to the badge notification to identify the app on the lock screen. This image must be monochromatic (it can contain only white and transparent pixels).</p>\n<p>In the actual message, {value} contains the color value in the image that is not valid.</p>\n</td></tr>\n<tr><td>\n<p>The image \"BadgeLogo\" has an ABGR value {value} at position (x, y) that is not valid for a high-contrast white image. The pixel must be (##2A2A2A) or darker, or transparent (00######).</p>\n</td><td>\n<p>The badge logo is an image that appears next to the badge notification to identify the app on the lock screen.   Because the badge logo  appears on a white background when in high-contrast white, it must be a dark version of the normal badge logo. In high-contrast white, the badge logo can only contain pixels that are darker than (##2A2A2A) or transparent.</p>\n<p>In the actual message, {value} contains the color value in the image that is not valid.</p>\n</td></tr>\n<tr><td>\n<p>The image must define at least one variant without a TargetSize qualifier. It must define a Scale qualifier or leave Scale and TargetSize unspecified, which defaults to Scale-100.</p>\n</td><td>\n<p>For more info, see <a href=\"https://msdn.microsoft.com/library/windows/apps/xaml/dn958435.aspx\">Responsive design 101 for UWP apps</a> and <a href=\"https://msdn.microsoft.com/library/windows/apps/xaml/hh465241.aspx\">Guidelines for app resources</a>.</p>\n</td></tr>\n<tr><td>\n<p>The package is missing a \"resources.pri\" file.</p>\n</td><td>\n<p>If you have localizable content in your app manifest, make sure that your app's package includes a valid resources.pri file.</p>\n</td></tr>\n<tr><td>\n<p>The \"resources.pri\" file must contain a resource map with a name that matches the package name  {package full name}</p>\n</td><td>\n<p>You can get this error if the manifest changed and  the name of the resource map in resources.pri no longer matches the package name in the manifest.</p>\n<p>In the actual message, {package full name} contains the package name that resources.pri must contain.</p>\n<p>To fix this, you need to rebuild resources.pri and the easiest way to do that is  by rebuilding the app's package.</p>\n</td></tr>\n<tr><td>\n<p>The \"resources.pri\" file must not have AutoMerge enabled.</p>\n</td><td>\n<p>MakePRI.exe supports an option called <strong>AutoMerge</strong>. The default value of <strong>AutoMerge</strong> is <strong>off</strong>. When enabled, <strong>AutoMerge</strong> merges an app's  language pack resources into a single resources.pri at runtime. We don't recommend this for apps that you intend to distribute through  the Windows Store. The resources.pri of an app that is distributed through the  Windows Store must be in  the root of the app's package and contain all the language references that the app supports.</p>\n</td></tr>\n<tr><td>\n<p>The string {string} failed the max length restriction of {number} characters.</p>\n</td><td>\n<p>Refer to the <a href=\"https://msdn.microsoft.com/library/windows/apps/xaml/mt148525.aspx\">App package requirements</a>.</p>\n<p>In the actual message, {string} is replaced by the string with the error and {number} contains the maximum length.</p>\n</td></tr>\n<tr><td>\n<p>The string {string} must not have leading/trailing whitespace.</p>\n</td><td>\n<p>The schema for the elements in the app manifest don't allow leading or trailing white space characters.</p>\n<p>In the actual message, {string} is replaced by the string with the error.</p>\n<p>Make sure that none of the localized values of the manifest fields in resources.pri have leading or trailing white space characters.</p>\n</td></tr>\n<tr><td>\n<p>The string must be non-empty (greater than zero in length)</p>\n</td><td>\n<p>For more info, see <a href=\"https://msdn.microsoft.com/library/windows/apps/xaml/mt148525.aspx\">App package requirements</a>.</p>\n</td></tr>\n<tr><td>\n<p>There is no default resource specified in the \"resources.pri\" file.</p>\n</td><td>\n<p>For more info, see <a href=\"https://msdn.microsoft.com/library/windows/apps/xaml/hh465241.aspx\">Guidelines for app resources</a>.</p>\n<p>In the default build configuration,  Visual Studio only includes scale-200 image resources in the app package when generating bundles, putting other resources in the resource package. Make sure  you either include scale-200 image resources or configure your project to include the resources you have.</p>\n</td></tr>\n<tr><td>\n<p>There is no resource value specified in the \"resources.pri\" file.</p>\n</td><td>\n<p>Make sure that the app manifest has valid resources defined in resources.pri.</p>\n</td></tr>\n<tr><td>\n<p>The image file {filename} must be smaller than 204800 bytes.\\*\\*</p>\n</td><td>\n<p>Reduce the size of the indicated images.</p>\n</td></tr>\n<tr><td>\n<p>The {filename} file must not contain a reverse map section.\\*\\*</p>\n</td><td>\n<p>While the reverse map is generated during Visual Studio 'F5 debugging' when calling into makepri.exe, it can be removed by running makepri.exe without the /m parameter when generating a pri file.</p>\n</td></tr>\n<tr><td colspan=\"2\">\n<p>\\*\\* Indicates that a test was added in the Windows App Certification Kit 3.3 for Windows 8.1 and is only applicable when using the that version of the kit or later.</p>\n</td></tr>\n</table>\n\n\n\n \n\n### Branding validation\n\nWindows Store apps are expected to be complete and fully functional. Apps using the default images (from templates or SDK samples) present a poor user experience and cannot be easily identified in the store catalog.\n\n### Test Details\n\nThe test will validate if the images used by the app are not default images either from SDK samples or from Visual Studio.\n\n### Corrective actions\n\nReplace default images with something more distinct and representative of your app.\n\n## Debug configuration test\n\nTest the app to make sure it is not a debug build.\n\n### Background\n\nTo be certified for the Windows Store, apps must not be compiled for debug and they must not reference debug versions of an executable file. In addition, you must build your code as optimized for your app to pass this test.\n\n### Test details\n\nTest the app to make sure it is not a debug build and is not linked to any debug frameworks.\n\n### Corrective actions\n\n-   Build the app as a release build before you submit it to the Windows Store.\n-   Make sure that you have the correct version of .NET framework installed.\n-   Make sure the app isn't linking to debug versions of a framework and that it is building with a release version. If this app contains .NET components, make sure that you have installed the correct version of the .NET framework.\n\n## File encoding test\n\n### UTF-8 file encoding\n\n### Background\n\nHTML, CSS, and JavaScript files must be encoded in UTF-8 form with a corresponding byte-order mark (BOM) to benefit from bytecode caching and avoid certain runtime error conditions.\n\n### Test details\n\nTest the contents of app packages to make sure that they use the correct file encoding.\n\n### Corrective Action\n\nOpen the affected file and select **Save As** from the **File** menu in Visual Studio. Select the drop-down control next to the **Save** button and select **Save with Encoding**. From the **Advanced** save options dialog, choose the Unicode (UTF-8 with signature) option and click **OK**.\n\n## Direct3D feature level test\n\n### Direct3D feature level support\n\nTests Microsoft Direct3D apps to ensure that they won't crash on devices with older graphics hardware.\n\n### Background\n\nWindows Store requires all applications using Direct3D to render properly or fail gracefully on feature level 9\\-1 graphics cards.\n\nBecause users can change the graphics hardware in their device after the app is installed, if you choose a minimum feature level higher than 9\\-1, your app must detect at launch whether or not the current hardware meets the minimum requirements. If the minimum requirements are not met, the app must display a message to the user detailing the Direct3D requirements. Also, if an app is downloaded on a device with which it is not compatible, it should detect that at launch and display a message to the customer detailing the requirements.\n\n### Test Details\n\nThe test will validate if the apps render accurately on feature level 9\\-1.\n\n### Corrective Action\n\nEnsure that your app renders correctly on Direct3D feature level 9\\-1, even if you expect it to run at a higher feature level. See [Developing for different Direct3D feature levels](http://go.microsoft.com/fwlink/p/?LinkID=253575) for more info.\n\n### Direct3D Trim after suspend\n\n> **Note**  This test only applies to Windows Store apps developed for Windows 8.1 and later.\n\n### Background\n\nIf the app does not call [**Trim**](https://msdn.microsoft.com/library/windows/desktop/Dn280346) on its Direct3D device, the app will not release memory allocated for its earlier 3D work. This increases the risk of apps being terminated due to system memory pressure.\n\n### Test Details\n\nChecks apps for compliance with d3d requirements and ensures that apps are calling a new [**Trim**](https://msdn.microsoft.com/library/windows/desktop/Dn280346) API upon their Suspend callback.\n\n### Corrective Action\n\nThe app should call the [**Trim**](https://msdn.microsoft.com/library/windows/desktop/Dn280346) API on its [**IDXGIDevice3**](https://msdn.microsoft.com/library/windows/desktop/Dn280345) interface anytime it is about to be suspended.\n\n## App Capabilities test\n\n### Special use capabilities\n\n### Background\n\nSpecial use capabilities are intended for very specific scenarios. Only company accounts are allowed to use these capabilities.\n\n### Test Details\n\nValidate if the app is declaring any of the below capabilities:\n\n-   EnterpriseAuthentication\n-   SharedUserCertificates\n-   DocumentsLibrary\n\nIf any of these capabilities are declared, the test will display a warning to the user.\n\n### Corrective Actions\n\nConsider removing the special use capability if your app doesn't require it. Additionally, use of these capabilities are subject to additional on-boarding policy review.\n<!--TODO: after migrating dev-packaging, link to [if your app doesn't require it](dev-packaging.app-capability-declarations#special-and-restricted-capabilities)-->\n\n## Windows Runtime metadata validation\n\n### Background\n\nEnsures that the components that ship in an app conform to the UWP type system.\n\n### Test Details\n\nVerifies that the **.winmd** files in the package conform to UWP rules.\n\n### Corrective Actions\n\n-   **ExclusiveTo attribute test:** Ensure that UWP classes don't implement interfaces that are marked as ExclusiveTo another class.\n-   **Type location test:** Ensure that the metadata for all UWP types is located in the winmd file that has the longest namespace-matching name in the app package.\n-   **Type name case-sensitivity test:** Ensure that all UWP types have unique, case-insensitive names within your app package. Also ensure that no UWP type name is also used as a namespace name within your app package.\n-   **Type name correctness test:** Ensure there are no UWP types in the global namespace or in the Windows top-level namespace.\n-   **General metadata correctness test:** Ensure that the compiler you are using to generate your types is up to date with the UWP specifications.\n-   **Properties test:** ensure that all properties on a UWP class have a get method (set methods are optional). Ensure that the type of the get method return value matches the type of the set method input parameter, for all properties on UWP types.\n\n## Package Sanity tests\n\n### Platform appropriate files test\n\nApps that install mixed binaries may crash or not run correctly depending upon the user’s processor architecture.\n\n### Background\n\nThis test validates the binaries in an app package for architecture conflicts. An app package should not include binaries that can't be used on the processor architecture specified in the manifest. Including unsupported binaries can lead to your app crashing or an unnecessary increase in the app package size.\n\n### Test Details\n\nValidates that each file's \"bitness\" in the PE header is appropriate when cross-referenced with the app package processor architecture declaration\n\n### Corrective Action\n\nFollow these guidelines to ensure that your app package only contains files supported by the architecture specified in the app manifest:\n\n-   If the Target Processor Architecture for your app is Neutral processor Type, the app package cannot contain x86, x64, or ARM binary or image type files.\n\n-   If the Target Processor Architecture for your app is x86 processor type, the app package must only contain x86 binary or image type files. If the package contains x64 or ARM binary or image types, it will fail the test.\n\n-   If the Target Processor Architecture for your app is x64 processor type, the app package must contain x64 binary or image type files. Note that in this case the package can also include x86 files, but the primary app experience should utilize the x64 binary.\n\n    However, if the package contains ARM binary or image type files, or only contains x86 binaries or image type files, it will fail the test.\n\n-   If the Target Processor Architecture for your app is ARM processor type, the app package must only contain ARM binary or image type files. If the package contains x64 or x86 binary or image type files, it will fail the test.\n\n### Supported Directory Structure test\n\nValidates that applications are not creating subdirectories as part of installation that are longer than MAX\\-PATH.\n\n### Background\n\nOS components (including Trident, WWAHost, etc.) are internally limited to MAX\\-PATH for file system paths and will not work correctly for longer paths.\n\n### Test Details\n\nVerifies that no path within the app install directory exceeds MAX\\-PATH.\n\n### Corrective Action\n\nUse a shorter directory structure, and or file name.\n\n## Resource Usage test\n\n### WinJS Background Task test\n\nWinJS background task test ensures that JavaScript apps have the proper close statements so apps don’t consume battery.\n\n### Background\n\nApps that have JavaScript background tasks need to call Close() as the last statement in their background task. Apps that do not do this could keep the system from returning to connected standby mode and result in draining the battery.\n\n### Test Details\n\nIf the app does not have a background task file specified in the manifest, the test will pass. Otherwise the test will parse the JavaScript background task file that is specified in the app package, and look for a Close() statement. If found, the test will pass; otherwise the test will fail.\n\n### Corrective Action\n\nUpdate the background JavaScript code to call Close() correctly.\n\n> **Note**  This article is for Windows 10 developers writing UWP apps. If you’re developing for Windows 8.x or Windows Phone 8.x, see the [archived documentation](http://go.microsoft.com/fwlink/p/?linkid=619132).\n\n \n\n \n\n \n"}