<?xml version="1.0" encoding="utf-8"?>
<xliff xmlns:mda="urn:oasis:names:tc:xliff:metadata:2.0" srcLang="en-US" trgLang="zh-cn" version="2.0" xml:space="default" xmlns="urn:oasis:names:tc:xliff:document:2.0">
  <file id="1">
    <mda:metadata>
      <mda:metaGroup>
        <mda:meta type="oltranslationpriority">
        </mda:meta>
      </mda:metaGroup>
    </mda:metadata>
    <mda:metadata>
      <mda:metaGroup>
        <mda:meta type="olfilepath">windows-apps-src\files\use-edp-to-protect-streams-and-buffers.md</mda:meta>
      </mda:metaGroup>
    </mda:metadata>
    <mda:metadata>
      <mda:metaGroup>
        <mda:meta type="olfilehash">fdde4f7d2ab46b6349273f7c1c9d91cf27aa341a</mda:meta>
      </mda:metaGroup>
    </mda:metadata>
    <mda:metadata>
      <mda:metaGroup>
        <mda:meta type="tool-id">mdxliff</mda:meta>
        <mda:meta type="tool-name">mdxliff</mda:meta>
        <mda:meta type="tool-version">1.0-781aacf</mda:meta>
        <mda:meta type="tool-company">Microsoft</mda:meta>
      </mda:metaGroup>
    </mda:metadata>
    <group id="content">
      <unit id="101">
        <segment state="initial">
          <source>This topic shows examples of the coding tasks needed to achieve some of the most common stream- and buffer-related enterprise data protection (EDP) scenarios.</source>
          <target>This topic shows examples of the coding tasks needed to achieve some of the most common stream- and buffer-related enterprise data protection (EDP) scenarios.</target>
        </segment>
      </unit>
      <unit id="102">
        <segment state="initial">
          <source>Use enterprise data protection (EDP) to protect streams and buffers</source>
          <target>Use enterprise data protection (EDP) to protect streams and buffers</target>
        </segment>
      </unit>
      <unit id="103">
        <segment state="initial">
          <source>Use enterprise data protection (EDP) to protect streams and buffers</source>
          <target>Use enterprise data protection (EDP) to protect streams and buffers</target>
        </segment>
      </unit>
      <unit id="104">
        <originalData>
          <data id="id1">__</data>
          <data id="id2">__</data>
        </originalData>
        <segment state="initial">
          <source>
            <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Note</pc> Enterprise data protection (EDP) policy cannot be applied on Windows 10, Version 1511 (build 10586) or earlier.</source>
          <target>
            <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Note</pc> Enterprise data protection (EDP) policy cannot be applied on Windows 10, Version 1511 (build 10586) or earlier.</target>
        </segment>
      </unit>
      <unit id="105">
        <segment state="initial">
          <source>This topic shows examples of the coding tasks needed to achieve some of the most common stream- and buffer-related enterprise data protection (EDP) scenarios.</source>
          <target>This topic shows examples of the coding tasks needed to achieve some of the most common stream- and buffer-related enterprise data protection (EDP) scenarios.</target>
        </segment>
      </unit>
      <unit id="106">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](../enterprise/edp-hub.md)</data>
        </originalData>
        <segment state="initial">
          <source>For the full developer picture of how EDP relates to files, streams, the clipboard, networking, background tasks, and data protection under lock, see <pc dataRefEnd="id2" dataRefStart="id1" id="p1">enterprise data protection (EDP)</pc>.</source>
          <target>For the full developer picture of how EDP relates to files, streams, the clipboard, networking, background tasks, and data protection under lock, see <pc dataRefEnd="id2" dataRefStart="id1" id="p1">enterprise data protection (EDP)</pc>.</target>
        </segment>
      </unit>
      <unit id="107">
        <originalData>
          <data id="id1">**</data>
          <data id="id2">**</data>
          <data id="id3">[</data>
          <data id="id4">](http://go.microsoft.com/fwlink/p/?LinkId=620031&amp;clcid=0x409)</data>
        </originalData>
        <segment state="initial">
          <source>
            <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Note</pc>  The <pc dataRefEnd="id4" dataRefStart="id3" id="p2">enterprise data protection (EDP) sample</pc> covers many of the same scenarios demonstrated in this topic.</source>
          <target>
            <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Note</pc>  The <pc dataRefEnd="id4" dataRefStart="id3" id="p2">enterprise data protection (EDP) sample</pc> covers many of the same scenarios demonstrated in this topic.</target>
        </segment>
      </unit>
      <unit id="108">
        <segment state="initial">
          <source>Prerequisites</source>
          <target>Prerequisites</target>
        </segment>
      </unit>
      <unit id="109">
        <segment state="initial">
          <source>Get set up for EDP</source>
          <target>Get set up for EDP</target>
        </segment>
      </unit>
      <unit id="110">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](../enterprise/edp-hub.md#set-up-your-computer-for-EDP)</data>
        </originalData>
        <segment state="initial">
          <source>See <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Set up your computer for EDP</pc>.</source>
          <target>See <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Set up your computer for EDP</pc>.</target>
        </segment>
      </unit>
      <unit id="111">
        <segment state="initial">
          <source>Commit to building an enterprise-enlightened app</source>
          <target>Commit to building an enterprise-enlightened app</target>
        </segment>
      </unit>
      <unit id="112">
        <segment state="initial">
          <source>An app that autonomously ensures that enterprise data stays under the managing enterprise’s control is known as an enterprise-enlightened app.</source>
          <target>An app that autonomously ensures that enterprise data stays under the managing enterprise’s control is known as an enterprise-enlightened app.</target>
        </segment>
      </unit>
      <unit id="113">
        <segment state="initial">
          <source>An enlightened app is more powerful, smart, flexible, and trusted than an unenlightened one.</source>
          <target>An enlightened app is more powerful, smart, flexible, and trusted than an unenlightened one.</target>
        </segment>
      </unit>
      <unit id="114">
        <originalData>
          <data id="id1">**</data>
          <data id="id2">**</data>
        </originalData>
        <segment state="initial">
          <source>Your app announces to the system that it is enlightened by declaring the restricted <pc dataRefEnd="id2" dataRefStart="id1" id="p1">enterpriseDataPolicy</pc> capability.</source>
          <target>Your app announces to the system that it is enlightened by declaring the restricted <pc dataRefEnd="id2" dataRefStart="id1" id="p1">enterpriseDataPolicy</pc> capability.</target>
        </segment>
      </unit>
      <unit id="115">
        <segment state="initial">
          <source>There's more to being enlightened than setting a capability, though.</source>
          <target>There's more to being enlightened than setting a capability, though.</target>
        </segment>
      </unit>
      <unit id="116">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](../enterprise/edp-hub.md#enterprise-enlightened-apps)</data>
        </originalData>
        <segment state="initial">
          <source>To learn more, see <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Enterprise-enlightened apps</pc>.</source>
          <target>To learn more, see <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Enterprise-enlightened apps</pc>.</target>
        </segment>
      </unit>
      <unit id="117">
        <segment state="initial">
          <source>Understand async programming for Universal Windows Platform (UWP) apps</source>
          <target>Understand async programming for Universal Windows Platform (UWP) apps</target>
        </segment>
      </unit>
      <unit id="118">
        <originalData>
          <data id="id1">\#</data>
          <data id="id2">[</data>
          <data id="id3">](https://msdn.microsoft.com/library/windows/apps/mt187337)</data>
          <data id="id4">\#</data>
        </originalData>
        <segment state="initial">
          <source>To learn about how to write asynchronous apps in C<ph dataRef="id1" id="ph1" /> or Visual Basic, see <pc dataRefEnd="id3" dataRefStart="id2" id="p1">Call asynchronous APIs in C<ph dataRef="id4" id="ph2" /> or Visual Basic</pc>.</source>
          <target>To learn about how to write asynchronous apps in C<ph dataRef="id1" id="ph1" /> or Visual Basic, see <pc dataRefEnd="id3" dataRefStart="id2" id="p1">Call asynchronous APIs in C<ph dataRef="id4" id="ph2" /> or Visual Basic</pc>.</target>
        </segment>
      </unit>
      <unit id="119">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](https://msdn.microsoft.com/library/windows/apps/mt187334)</data>
        </originalData>
        <segment state="initial">
          <source>To learn about how to write asynchronous apps in C++, see <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Asynchronous programming in C++</pc>.</source>
          <target>To learn about how to write asynchronous apps in C++, see <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Asynchronous programming in C++</pc>.</target>
        </segment>
      </unit>
      <unit id="120">
        <segment state="initial">
          <source>Protect a stream of data to an enterprise identity</source>
          <target>Protect a stream of data to an enterprise identity</target>
        </segment>
      </unit>
      <unit id="121">
        <originalData>
          <data id="id1">**</data>
          <data id="id2">**</data>
          <data id="id3">[</data>
          <data id="id4">](https://msdn.microsoft.com/library/windows/apps/mt608411)</data>
          <data id="id5">**</data>
          <data id="id6">**</data>
        </originalData>
        <segment state="initial">
          <source>
            <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Note</pc>  Whenever you protect a stream or a buffer, it's highly recommended that you subscribe to the <pc dataRefEnd="id4" dataRefStart="id3" id="p2"><pc dataRefEnd="id6" dataRefStart="id5" id="p3">ProtectionPolicyManager.PolicyChanged</pc></pc> event so that your app is aware in the event that EDP becomes disabled on the device.</source>
          <target>
            <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Note</pc>  Whenever you protect a stream or a buffer, it's highly recommended that you subscribe to the <pc dataRefEnd="id4" dataRefStart="id3" id="p2"><pc dataRefEnd="id6" dataRefStart="id5" id="p3">ProtectionPolicyManager.PolicyChanged</pc></pc> event so that your app is aware in the event that EDP becomes disabled on the device.</target>
        </segment>
      </unit>
      <unit id="122">
        <segment state="initial">
          <source>When this happens, you should unprotect any streams and buffers.</source>
          <target>When this happens, you should unprotect any streams and buffers.</target>
        </segment>
      </unit>
      <unit id="123">
        <segment state="initial">
          <source>Any stream or buffer that you leave protected becomes eligible to be revoked should the user un-enroll the device from mobile device management (MDM).</source>
          <target>Any stream or buffer that you leave protected becomes eligible to be revoked should the user un-enroll the device from mobile device management (MDM).</target>
        </segment>
      </unit>
      <unit id="124">
        <segment state="initial">
          <source>And, if EDP was disabled when the resource was created, then that revocation is inappropriate.</source>
          <target>And, if EDP was disabled when the resource was created, then that revocation is inappropriate.</target>
        </segment>
      </unit>
      <unit id="125">
        <segment state="initial">
          <source>Unprotecting the resources when EDP is disabled prevents that.</source>
          <target>Unprotecting the resources when EDP is disabled prevents that.</target>
        </segment>
      </unit>
      <unit id="126">
        <segment state="initial">
          <source>In this scenario, your app has access to an unprotected stream that contains enterprise data.</source>
          <target>In this scenario, your app has access to an unprotected stream that contains enterprise data.</target>
        </segment>
      </unit>
      <unit id="127">
        <segment state="initial">
          <source>In order to ensure that this stream is protected when transferring it within and outside the device, your app protects the data to the enterprise identity that it belongs to.</source>
          <target>In order to ensure that this stream is protected when transferring it within and outside the device, your app protects the data to the enterprise identity that it belongs to.</target>
        </segment>
      </unit>
      <unit id="128">
        <segment state="initial">
          <source>This allows wiping the data, when required, by the enterprise.</source>
          <target>This allows wiping the data, when required, by the enterprise.</target>
        </segment>
      </unit>
      <unit id="129">
        <segment state="initial">
          <source>In order to later determine whether or not to call an "unprotect" method on a stream, the app must maintain state that indicates whether the stream was protected, which is why the function in this code example returns that state.</source>
          <target>In order to later determine whether or not to call an "unprotect" method on a stream, the app must maintain state that indicates whether the stream was protected, which is why the function in this code example returns that state.</target>
        </segment>
      </unit>
      <unit id="130">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](https://msdn.microsoft.com/library/windows/apps/dn706021)</data>
          <data id="id3">**</data>
          <data id="id4">**</data>
        </originalData>
        <segment state="initial">
          <source>If the identity passed is not managed, or if the app is not allowed for the identity, the stream will not be protected and an ‘Unprotected’ status will be returned from the call to <pc dataRefEnd="id2" dataRefStart="id1" id="p1"><pc dataRefEnd="id4" dataRefStart="id3" id="p2">DataProtectionManager.ProtectStreamAsync</pc></pc>.</source>
          <target>If the identity passed is not managed, or if the app is not allowed for the identity, the stream will not be protected and an ‘Unprotected’ status will be returned from the call to <pc dataRefEnd="id2" dataRefStart="id1" id="p1"><pc dataRefEnd="id4" dataRefStart="id3" id="p2">DataProtectionManager.ProtectStreamAsync</pc></pc>.</target>
        </segment>
      </unit>
      <unit id="131">
        <segment state="initial">
          <source>To show how you might use a method like the one in the code example above, here's a helper method that uses it to convert a string into an unprotected stream, and then protect the stream.</source>
          <target>To show how you might use a method like the one in the code example above, here's a helper method that uses it to convert a string into an unprotected stream, and then protect the stream.</target>
        </segment>
      </unit>
      <unit id="132">
        <segment state="initial">
          <source>Retrieve the status of a stream</source>
          <target>Retrieve the status of a stream</target>
        </segment>
      </unit>
      <unit id="133">
        <segment state="initial">
          <source>In this scenario, your app has previously protected a stream to which you must prevent unauthorized access.</source>
          <target>In this scenario, your app has previously protected a stream to which you must prevent unauthorized access.</target>
        </segment>
      </unit>
      <unit id="134">
        <segment state="initial">
          <source>In order to retrieve the stream's contents back when needed, your app can check the status of the stream.</source>
          <target>In order to retrieve the stream's contents back when needed, your app can check the status of the stream.</target>
        </segment>
      </unit>
      <unit id="135">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](https://msdn.microsoft.com/library/windows/apps/dn706023)</data>
          <data id="id3">**</data>
          <data id="id4">**</data>
        </originalData>
        <segment state="initial">
          <source>Note that the status of a stream is also returned from <pc dataRefEnd="id2" dataRefStart="id1" id="p1"><pc dataRefEnd="id4" dataRefStart="id3" id="p2">DataProtectionManager.UnprotectStreamAsync</pc></pc>.</source>
          <target>Note that the status of a stream is also returned from <pc dataRefEnd="id2" dataRefStart="id1" id="p1"><pc dataRefEnd="id4" dataRefStart="id3" id="p2">DataProtectionManager.UnprotectStreamAsync</pc></pc>.</target>
        </segment>
      </unit>
      <unit id="136">
        <segment state="initial">
          <source>This API will never return a status of ‘Unprotected’, since it requires that the input resource be protected (it is not possible to reliably verify that a resource is unprotected).</source>
          <target>This API will never return a status of ‘Unprotected’, since it requires that the input resource be protected (it is not possible to reliably verify that a resource is unprotected).</target>
        </segment>
      </unit>
      <unit id="137">
        <segment state="initial">
          <source>Be aware if you have code that compares the result with 'Unprotected', then that suggests the presence of a design flaw.</source>
          <target>Be aware if you have code that compares the result with 'Unprotected', then that suggests the presence of a design flaw.</target>
        </segment>
      </unit>
      <unit id="138">
        <segment state="initial">
          <source>It's an indication that your code has lost track of whether the stream is protected.</source>
          <target>It's an indication that your code has lost track of whether the stream is protected.</target>
        </segment>
      </unit>
      <unit id="139">
        <segment state="initial">
          <source>Unprotect a stream of data</source>
          <target>Unprotect a stream of data</target>
        </segment>
      </unit>
      <unit id="140">
        <segment state="initial">
          <source>In this scenario, your app wishes to unprotected a stream that it previously protected.</source>
          <target>In this scenario, your app wishes to unprotected a stream that it previously protected.</target>
        </segment>
      </unit>
      <unit id="141">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](https://msdn.microsoft.com/library/windows/apps/dn706023)</data>
          <data id="id3">**</data>
          <data id="id4">**</data>
        </originalData>
        <segment state="initial">
          <source>This code example takes a protected stream (note that the stream must be protected for this process to work) and unprotects it with a call to <pc dataRefEnd="id2" dataRefStart="id1" id="p1"><pc dataRefEnd="id4" dataRefStart="id3" id="p2">DataProtectionManager.UnprotectStreamAsync</pc></pc>.</source>
          <target>This code example takes a protected stream (note that the stream must be protected for this process to work) and unprotects it with a call to <pc dataRefEnd="id2" dataRefStart="id1" id="p1"><pc dataRefEnd="id4" dataRefStart="id3" id="p2">DataProtectionManager.UnprotectStreamAsync</pc></pc>.</target>
        </segment>
      </unit>
      <unit id="142">
        <segment state="initial">
          <source>It then reads a string out of the stream and returns it.</source>
          <target>It then reads a string out of the stream and returns it.</target>
        </segment>
      </unit>
      <unit id="143">
        <segment state="initial">
          <source>To show how you might use the helper methods given so far, here's an event handler that takes a string from a text box, writes the string into a stream, protects the stream, unprotects the stream (if it was successfully protected), and finally reads the string back from the unprotected stream and displays it in the UI.</source>
          <target>To show how you might use the helper methods given so far, here's an event handler that takes a string from a text box, writes the string into a stream, protects the stream, unprotects the stream (if it was successfully protected), and finally reads the string back from the unprotected stream and displays it in the UI.</target>
        </segment>
      </unit>
      <unit id="144">
        <segment state="initial">
          <source>Retrieve the status of a static data buffer</source>
          <target>Retrieve the status of a static data buffer</target>
        </segment>
      </unit>
      <unit id="145">
        <segment state="initial">
          <source>In this scenario, your app has previously protected a buffer to which you must prevent unauthorized access.</source>
          <target>In this scenario, your app has previously protected a buffer to which you must prevent unauthorized access.</target>
        </segment>
      </unit>
      <unit id="146">
        <segment state="initial">
          <source>In order to retrieve the buffer's contents back when needed, your app can check the status of the buffer.</source>
          <target>In order to retrieve the buffer's contents back when needed, your app can check the status of the buffer.</target>
        </segment>
      </unit>
      <unit id="147">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](https://msdn.microsoft.com/library/windows/apps/dn706022)</data>
          <data id="id3">**</data>
          <data id="id4">**</data>
        </originalData>
        <segment state="initial">
          <source>Note that the status of a buffer is also returned from <pc dataRefEnd="id2" dataRefStart="id1" id="p1"><pc dataRefEnd="id4" dataRefStart="id3" id="p2">DataProtectionManager.UnprotectAsync</pc></pc>.</source>
          <target>Note that the status of a buffer is also returned from <pc dataRefEnd="id2" dataRefStart="id1" id="p1"><pc dataRefEnd="id4" dataRefStart="id3" id="p2">DataProtectionManager.UnprotectAsync</pc></pc>.</target>
        </segment>
      </unit>
      <unit id="148">
        <segment state="initial">
          <source>This API will never return a status of ‘Unprotected’, since it requires that the input resource be protected.</source>
          <target>This API will never return a status of ‘Unprotected’, since it requires that the input resource be protected.</target>
        </segment>
      </unit>
      <unit id="149">
        <segment state="initial">
          <source>Protect static data retrieved from an enterprise resource</source>
          <target>Protect static data retrieved from an enterprise resource</target>
        </segment>
      </unit>
      <unit id="150">
        <segment state="initial">
          <source>This scenario covers the same ground as the stream code examples, except it works with a buffer of data.</source>
          <target>This scenario covers the same ground as the stream code examples, except it works with a buffer of data.</target>
        </segment>
      </unit>
      <unit id="151">
        <segment state="initial">
          <source>Again, you need to maintain state that indicates whether the buffer was protected, as shown.</source>
          <target>Again, you need to maintain state that indicates whether the buffer was protected, as shown.</target>
        </segment>
      </unit>
      <unit id="152">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](https://msdn.microsoft.com/library/windows/apps/dn706020)</data>
          <data id="id3">**</data>
          <data id="id4">**</data>
        </originalData>
        <segment state="initial">
          <source>If the identity passed is not managed, or if the app is not allowed for the identity, the buffer will not be protected and an ‘Unprotected’ status will be returned from the call to <pc dataRefEnd="id2" dataRefStart="id1" id="p1"><pc dataRefEnd="id4" dataRefStart="id3" id="p2">DataProtectionManager.ProtectAsync</pc></pc>.</source>
          <target>If the identity passed is not managed, or if the app is not allowed for the identity, the buffer will not be protected and an ‘Unprotected’ status will be returned from the call to <pc dataRefEnd="id2" dataRefStart="id1" id="p1"><pc dataRefEnd="id4" dataRefStart="id3" id="p2">DataProtectionManager.ProtectAsync</pc></pc>.</target>
        </segment>
      </unit>
      <unit id="153">
        <segment state="initial">
          <source>Enable UI-policy enforcement based on a stream's or buffer’s protected identity</source>
          <target>Enable UI-policy enforcement based on a stream's or buffer’s protected identity</target>
        </segment>
      </unit>
      <unit id="154">
        <segment state="initial">
          <source>When your app is about to display the contents of a protected stream or buffer on its UI, it must enable UI-policy enforcement based on the identity the resource is protected to.</source>
          <target>When your app is about to display the contents of a protected stream or buffer on its UI, it must enable UI-policy enforcement based on the identity the resource is protected to.</target>
        </segment>
      </unit>
      <unit id="155">
        <segment state="initial">
          <source>You should query the protection information of the resource and enable the system's UI-policy enforcement from the retrieved identity.</source>
          <target>You should query the protection information of the resource and enable the system's UI-policy enforcement from the retrieved identity.</target>
        </segment>
      </unit>
      <unit id="156">
        <originalData>
          <data id="id1">**</data>
          <data id="id2">**</data>
        </originalData>
        <segment state="initial">
          <source>
            <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Note</pc>  This article is for Windows 10 developers writing Universal Windows Platform (UWP) apps.</source>
          <target>
            <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Note</pc>  This article is for Windows 10 developers writing Universal Windows Platform (UWP) apps.</target>
        </segment>
      </unit>
      <unit id="157">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](http://go.microsoft.com/fwlink/p/?linkid=619132)</data>
        </originalData>
        <segment state="initial">
          <source>If you’re developing for Windows 8.x or Windows Phone 8.x, see the <pc dataRefEnd="id2" dataRefStart="id1" id="p1">archived documentation</pc>.</source>
          <target>If you’re developing for Windows 8.x or Windows Phone 8.x, see the <pc dataRefEnd="id2" dataRefStart="id1" id="p1">archived documentation</pc>.</target>
        </segment>
      </unit>
      <unit id="158">
        <segment state="initial">
          <source>Related topics</source>
          <target>Related topics</target>
        </segment>
      </unit>
      <unit id="159">
        <segment state="initial">
          <source>enterprise data protection (EDP) sample</source>
          <target>enterprise data protection (EDP) sample</target>
        </segment>
      </unit>
      <unit id="160">
        <segment state="initial">
          <source>Windows.Security.EnterpriseData namespace</source>
          <target>Windows.Security.EnterpriseData namespace</target>
        </segment>
      </unit>
    </group>
  </file>
</xliff>