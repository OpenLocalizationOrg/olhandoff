<?xml version="1.0" encoding="utf-8"?>
<xliff xmlns:mda="urn:oasis:names:tc:xliff:metadata:2.0" srcLang="en-US" trgLang="zh-cn" version="2.0" xml:space="default" xmlns="urn:oasis:names:tc:xliff:document:2.0">
  <file id="1">
    <mda:metadata>
      <mda:metaGroup>
        <mda:meta type="oltranslationpriority">
        </mda:meta>
      </mda:metaGroup>
    </mda:metadata>
    <mda:metadata>
      <mda:metaGroup>
        <mda:meta type="olfilepath">windows-apps-src\launch-resume\monitor-background-task-progress-and-completion.md</mda:meta>
      </mda:metaGroup>
    </mda:metadata>
    <mda:metadata>
      <mda:metaGroup>
        <mda:meta type="olfilehash">07d69b63b272153bc784ed19166e649f80a98297</mda:meta>
      </mda:metaGroup>
    </mda:metadata>
    <mda:metadata>
      <mda:metaGroup>
        <mda:meta type="tool-id">mdxliff</mda:meta>
        <mda:meta type="tool-name">mdxliff</mda:meta>
        <mda:meta type="tool-version">1.0-781aacf</mda:meta>
        <mda:meta type="tool-company">Microsoft</mda:meta>
      </mda:metaGroup>
    </mda:metadata>
    <group id="content">
      <unit id="101">
        <segment state="initial">
          <source>Monitor background task progress and completion</source>
          <target>Monitor background task progress and completion</target>
        </segment>
      </unit>
      <unit id="102">
        <segment state="initial">
          <source>Learn how your app can recognize progress and completion reported by a background task.</source>
          <target>Learn how your app can recognize progress and completion reported by a background task.</target>
        </segment>
      </unit>
      <unit id="103">
        <segment state="initial">
          <source>Monitor background task progress and completion</source>
          <target>Monitor background task progress and completion</target>
        </segment>
      </unit>
      <unit id="104">
        <segment state="initial">
          <source>Updated for UWP apps on Windows 10.</source>
          <target>Updated for UWP apps on Windows 10.</target>
        </segment>
      </unit>
      <unit id="105">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](http://go.microsoft.com/fwlink/p/?linkid=619132)</data>
        </originalData>
        <segment state="initial">
          <source>For Windows 8.x articles, see the <pc dataRefEnd="id2" dataRefStart="id1" id="p1">archive</pc></source>
          <target>For Windows 8.x articles, see the <pc dataRefEnd="id2" dataRefStart="id1" id="p1">archive</pc></target>
        </segment>
      </unit>
      <unit id="106">
        <segment state="initial">
          <source>Important APIs</source>
          <target>Important APIs</target>
        </segment>
      </unit>
      <unit id="107">
        <segment state="initial">
          <source>BackgroundTaskRegistration</source>
          <target>BackgroundTaskRegistration</target>
        </segment>
      </unit>
      <unit id="108">
        <segment state="initial">
          <source>BackgroundTaskProgressEventHandler</source>
          <target>BackgroundTaskProgressEventHandler</target>
        </segment>
      </unit>
      <unit id="109">
        <segment state="initial">
          <source>BackgroundTaskCompletedEventHandler</source>
          <target>BackgroundTaskCompletedEventHandler</target>
        </segment>
      </unit>
      <unit id="110">
        <segment state="initial">
          <source>Learn how your app can recognize progress and completion reported by a background task.</source>
          <target>Learn how your app can recognize progress and completion reported by a background task.</target>
        </segment>
      </unit>
      <unit id="111">
        <segment state="initial">
          <source>Background tasks are decoupled from the app, and they run separately, but background task progress and completion can be monitored by app code.</source>
          <target>Background tasks are decoupled from the app, and they run separately, but background task progress and completion can be monitored by app code.</target>
        </segment>
      </unit>
      <unit id="112">
        <segment state="initial">
          <source>To make this happen, the app subscribes to events from the background task(s) it has registered with the system.</source>
          <target>To make this happen, the app subscribes to events from the background task(s) it has registered with the system.</target>
        </segment>
      </unit>
      <unit id="113">
        <segment state="initial">
          <source>This topic assumes that you have an app that registers background tasks.</source>
          <target>This topic assumes that you have an app that registers background tasks.</target>
        </segment>
      </unit>
      <unit id="114">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](create-and-register-a-background-task.md)</data>
        </originalData>
        <segment state="initial">
          <source>To get started quickly building a background task, see <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Create and register a background task</pc>.</source>
          <target>To get started quickly building a background task, see <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Create and register a background task</pc>.</target>
        </segment>
      </unit>
      <unit id="115">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](support-your-app-with-background-tasks.md)</data>
        </originalData>
        <segment state="initial">
          <source>For more in-depth information on conditions and triggers, see <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Support your app with background tasks</pc>.</source>
          <target>For more in-depth information on conditions and triggers, see <pc dataRefEnd="id2" dataRefStart="id1" id="p1">Support your app with background tasks</pc>.</target>
        </segment>
      </unit>
      <unit id="116">
        <segment state="initial">
          <source>Create an event handler to handle completed background tasks</source>
          <target>Create an event handler to handle completed background tasks</target>
        </segment>
      </unit>
      <unit id="117">
        <segment state="initial">
          <source>Create an event handler function to handle completed background tasks.</source>
          <target>Create an event handler function to handle completed background tasks.</target>
        </segment>
      </unit>
      <unit id="118">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](https://msdn.microsoft.com/library/windows/apps/br224803)</data>
          <data id="id3">**</data>
          <data id="id4">**</data>
          <data id="id5">[</data>
          <data id="id6">](https://msdn.microsoft.com/library/windows/apps/br224778)</data>
          <data id="id7">**</data>
          <data id="id8">**</data>
        </originalData>
        <segment state="initial">
          <source>This code needs to follow a specific footprint, which takes in an <pc dataRefEnd="id2" dataRefStart="id1" id="p1"><pc dataRefEnd="id4" dataRefStart="id3" id="p2">IBackgroundTaskRegistration</pc></pc> object and a <pc dataRefEnd="id6" dataRefStart="id5" id="p3"><pc dataRefEnd="id8" dataRefStart="id7" id="p4">BackgroundTaskCompletedEventArgs</pc></pc> object.</source>
          <target>This code needs to follow a specific footprint, which takes in an <pc dataRefEnd="id2" dataRefStart="id1" id="p1"><pc dataRefEnd="id4" dataRefStart="id3" id="p2">IBackgroundTaskRegistration</pc></pc> object and a <pc dataRefEnd="id6" dataRefStart="id5" id="p3"><pc dataRefEnd="id8" dataRefStart="id7" id="p4">BackgroundTaskCompletedEventArgs</pc></pc> object.</target>
        </segment>
      </unit>
      <unit id="119">
        <segment state="initial">
          <source>Use the following footprint for the OnCompleted background task event handler method:</source>
          <target>Use the following footprint for the OnCompleted background task event handler method:</target>
        </segment>
      </unit>
      <unit id="120">
        <segment state="initial">
          <source>[!div class="tabbedCodeSnippets"]</source>
          <target>[!div class="tabbedCodeSnippets"]</target>
        </segment>
      </unit>
      <unit id="121">
        <segment state="initial">
          <source>Add code to the event handler that deals with the background task completion.</source>
          <target>Add code to the event handler that deals with the background task completion.</target>
        </segment>
      </unit>
      <unit id="122">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](http://go.microsoft.com/fwlink/p/?LinkId=618666)</data>
        </originalData>
        <segment state="initial">
          <source>For example, the <pc dataRefEnd="id2" dataRefStart="id1" id="p1">background task sample</pc> updates the UI.</source>
          <target>For example, the <pc dataRefEnd="id2" dataRefStart="id1" id="p1">background task sample</pc> updates the UI.</target>
        </segment>
      </unit>
      <unit id="123">
        <originalData>
          <data id="id1">    ```cs
    private void OnCompleted(IBackgroundTaskRegistration task, BackgroundTaskCompletedEventArgs args)
    {
        UpdateUI();
    }
    ```
    ```cpp
    auto completed = [this](BackgroundTaskRegistration^ task, BackgroundTaskCompletedEventArgs^ args)
    {    
        UpdateUI();
    };
    ```</data>
        </originalData>
        <segment state="initial">
          <source>[!div class="tabbedCodeSnippets"] <ph dataRef="id1" id="ph1" /></source>
          <target>[!div class="tabbedCodeSnippets"] <ph dataRef="id1" id="ph1" /></target>
        </segment>
      </unit>
      <unit id="124">
        <segment state="initial">
          <source>Create an event handler function to handle background task progress</source>
          <target>Create an event handler function to handle background task progress</target>
        </segment>
      </unit>
      <unit id="125">
        <segment state="initial">
          <source>Create an event handler function to handle completed background tasks.</source>
          <target>Create an event handler function to handle completed background tasks.</target>
        </segment>
      </unit>
      <unit id="126">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](https://msdn.microsoft.com/library/windows/apps/br224803)</data>
          <data id="id3">**</data>
          <data id="id4">**</data>
          <data id="id5">[</data>
          <data id="id6">](https://msdn.microsoft.com/library/windows/apps/br224782)</data>
          <data id="id7">**</data>
          <data id="id8">**</data>
        </originalData>
        <segment state="initial">
          <source>This code needs to follow a specific footprint, which takes in an <pc dataRefEnd="id2" dataRefStart="id1" id="p1"><pc dataRefEnd="id4" dataRefStart="id3" id="p2">IBackgroundTaskRegistration</pc></pc> object and a <pc dataRefEnd="id6" dataRefStart="id5" id="p3"><pc dataRefEnd="id8" dataRefStart="id7" id="p4">BackgroundTaskProgressEventArgs</pc></pc> object:</source>
          <target>This code needs to follow a specific footprint, which takes in an <pc dataRefEnd="id2" dataRefStart="id1" id="p1"><pc dataRefEnd="id4" dataRefStart="id3" id="p2">IBackgroundTaskRegistration</pc></pc> object and a <pc dataRefEnd="id6" dataRefStart="id5" id="p3"><pc dataRefEnd="id8" dataRefStart="id7" id="p4">BackgroundTaskProgressEventArgs</pc></pc> object:</target>
        </segment>
      </unit>
      <unit id="127">
        <segment state="initial">
          <source>Use the following footprint for the OnProgress background task event handler method:</source>
          <target>Use the following footprint for the OnProgress background task event handler method:</target>
        </segment>
      </unit>
      <unit id="128">
        <originalData>
          <data id="id1">    ```cs
    private void OnProgress(IBackgroundTaskRegistration task, BackgroundTaskProgressEventArgs args)
    {
        // TODO: Add code that deals with background task progress.
    }
    ```
    ```cpp
    auto progress = [this](BackgroundTaskRegistration^ task, BackgroundTaskProgressEventArgs^ args)
    {
        // TODO: Add code that deals with background task progress.
    };
    ```</data>
        </originalData>
        <segment state="initial">
          <source>[!div class="tabbedCodeSnippets"] <ph dataRef="id1" id="ph1" /></source>
          <target>[!div class="tabbedCodeSnippets"] <ph dataRef="id1" id="ph1" /></target>
        </segment>
      </unit>
      <unit id="129">
        <segment state="initial">
          <source>Add code to the event handler that deals with the background task completion.</source>
          <target>Add code to the event handler that deals with the background task completion.</target>
        </segment>
      </unit>
      <unit id="130">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](http://go.microsoft.com/fwlink/p/?LinkId=618666)</data>
          <data id="id3">*</data>
          <data id="id4">*</data>
        </originalData>
        <segment state="initial">
          <source>For example, the <pc dataRefEnd="id2" dataRefStart="id1" id="p1">background task sample</pc> updates the UI with the progress status passed in via the <pc dataRefEnd="id4" dataRefStart="id3" id="p2">args</pc> parameter:</source>
          <target>For example, the <pc dataRefEnd="id2" dataRefStart="id1" id="p1">background task sample</pc> updates the UI with the progress status passed in via the <pc dataRefEnd="id4" dataRefStart="id3" id="p2">args</pc> parameter:</target>
        </segment>
      </unit>
      <unit id="131">
        <segment state="initial">
          <source>[!div class="tabbedCodeSnippets"]     ```cs     private void OnProgress(IBackgroundTaskRegistration task, BackgroundTaskProgressEventArgs args)     {         var progress = "Progress: " + args.Progress + "%";         BackgroundTaskSample.SampleBackgroundTaskProgress = progress;</source>
          <target>[!div class="tabbedCodeSnippets"]     ```cs     private void OnProgress(IBackgroundTaskRegistration task, BackgroundTaskProgressEventArgs args)     {         var progress = "Progress: " + args.Progress + "%";         BackgroundTaskSample.SampleBackgroundTaskProgress = progress;</target>
        </segment>
      </unit>
      <unit id="132">
        <segment state="initial">
          <source>Register the event handler functions with new and existing background tasks.</source>
          <target>Register the event handler functions with new and existing background tasks.</target>
        </segment>
      </unit>
      <unit id="133">
        <segment state="initial">
          <source>When the app registers a background task for the first time, it should register to receive progress and completion updates for it, in case the task runs while the app is still active in the foreground.</source>
          <target>When the app registers a background task for the first time, it should register to receive progress and completion updates for it, in case the task runs while the app is still active in the foreground.</target>
        </segment>
      </unit>
      <unit id="134">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](http://go.microsoft.com/fwlink/p/?LinkId=618666)</data>
        </originalData>
        <segment state="initial">
          <source>For example, the <pc dataRefEnd="id2" dataRefStart="id1" id="p1">background task sample</pc> calls the following function on each background task that it registers:</source>
          <target>For example, the <pc dataRefEnd="id2" dataRefStart="id1" id="p1">background task sample</pc> calls the following function on each background task that it registers:</target>
        </segment>
      </unit>
      <unit id="135">
        <originalData>
          <data id="id1">    ```cs
    private void AttachProgressAndCompletedHandlers(IBackgroundTaskRegistration task)
    {
        task.Progress += new BackgroundTaskProgressEventHandler(OnProgress);
        task.Completed += new BackgroundTaskCompletedEventHandler(OnCompleted);
    }
    ```
</data>
          <data id="id2">[</data>
          <data id="id3">](BackgroundTaskRegistration^ task, BackgroundTaskProgressEventArgs^ args)</data>
          <data id="id4">
          </data>
        </originalData>
        <segment state="initial">
          <source>[!div class="tabbedCodeSnippets"] <ph dataRef="id1" id="ph1" />    ```cpp     void SampleBackgroundTask::AttachProgressAndCompletedHandlers(IBackgroundTaskRegistration^ task)     {         auto progress = <pc dataRefEnd="id3" dataRefStart="id2" id="p1">this</pc><ph dataRef="id4" id="ph2" />        {             auto progress = "Progress: " + args-&gt;Progress + "%";             BackgroundTaskSample::SampleBackgroundTaskProgress = progress;             UpdateUI();         };</source>
          <target>[!div class="tabbedCodeSnippets"] <ph dataRef="id1" id="ph1" />    ```cpp     void SampleBackgroundTask::AttachProgressAndCompletedHandlers(IBackgroundTaskRegistration^ task)     {         auto progress = <pc dataRefEnd="id3" dataRefStart="id2" id="p1">this</pc><ph dataRef="id4" id="ph2" />        {             auto progress = "Progress: " + args-&gt;Progress + "%";             BackgroundTaskSample::SampleBackgroundTaskProgress = progress;             UpdateUI();         };</target>
        </segment>
      </unit>
      <unit id="136">
        <segment state="initial">
          <source>When the app launches, or navigates to a new page where background task status is relevant, it should get a list of background tasks currently registered and associate them with the progress and completion event handler functions.</source>
          <target>When the app launches, or navigates to a new page where background task status is relevant, it should get a list of background tasks currently registered and associate them with the progress and completion event handler functions.</target>
        </segment>
      </unit>
      <unit id="137">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](https://msdn.microsoft.com/library/windows/apps/br224786)</data>
          <data id="id3">**</data>
          <data id="id4">**</data>
          <data id="id5">[</data>
          <data id="id6">](https://msdn.microsoft.com/library/windows/apps/br224787)</data>
          <data id="id7">**</data>
          <data id="id8">**</data>
        </originalData>
        <segment state="initial">
          <source>The list of background tasks currently registered by the application is kept in the <pc dataRefEnd="id2" dataRefStart="id1" id="p1"><pc dataRefEnd="id4" dataRefStart="id3" id="p2">BackgroundTaskRegistration</pc></pc>.<pc dataRefEnd="id6" dataRefStart="id5" id="p3"><pc dataRefEnd="id8" dataRefStart="id7" id="p4">AllTasks</pc></pc> property.</source>
          <target>The list of background tasks currently registered by the application is kept in the <pc dataRefEnd="id2" dataRefStart="id1" id="p1"><pc dataRefEnd="id4" dataRefStart="id3" id="p2">BackgroundTaskRegistration</pc></pc>.<pc dataRefEnd="id6" dataRefStart="id5" id="p3"><pc dataRefEnd="id8" dataRefStart="id7" id="p4">AllTasks</pc></pc> property.</target>
        </segment>
      </unit>
      <unit id="138">
        <originalData>
          <data id="id1">[</data>
          <data id="id2">](http://go.microsoft.com/fwlink/p/?LinkId=618666)</data>
        </originalData>
        <segment state="initial">
          <source>For example, the <pc dataRefEnd="id2" dataRefStart="id1" id="p1">background task sample</pc> uses the following code to attach event handlers when the SampleBackgroundTask page is navigated to:</source>
          <target>For example, the <pc dataRefEnd="id2" dataRefStart="id1" id="p1">background task sample</pc> uses the following code to attach event handlers when the SampleBackgroundTask page is navigated to:</target>
        </segment>
      </unit>
      <unit id="139">
        <segment state="initial">
          <source>[!div class="tabbedCodeSnippets"]     ```cs     protected override void OnNavigatedTo(NavigationEventArgs e)     {         foreach (var task in BackgroundTaskRegistration.AllTasks)         {             if (task.Value.Name == BackgroundTaskSample.SampleBackgroundTaskName)             {                 AttachProgressAndCompletedHandlers(task.Value);                 BackgroundTaskSample.UpdateBackgroundTaskStatus(BackgroundTaskSample.SampleBackgroundTaskName, true);             }         }</source>
          <target>[!div class="tabbedCodeSnippets"]     ```cs     protected override void OnNavigatedTo(NavigationEventArgs e)     {         foreach (var task in BackgroundTaskRegistration.AllTasks)         {             if (task.Value.Name == BackgroundTaskSample.SampleBackgroundTaskName)             {                 AttachProgressAndCompletedHandlers(task.Value);                 BackgroundTaskSample.UpdateBackgroundTaskStatus(BackgroundTaskSample.SampleBackgroundTaskName, true);             }         }</target>
        </segment>
      </unit>
      <unit id="140">
        <segment state="initial">
          <source>Related topics</source>
          <target>Related topics</target>
        </segment>
      </unit>
      <unit id="141">
        <segment state="initial">
          <source>Create and register a background task</source>
          <target>Create and register a background task</target>
        </segment>
      </unit>
      <unit id="142">
        <segment state="initial">
          <source>Declare background tasks in the application manifest</source>
          <target>Declare background tasks in the application manifest</target>
        </segment>
      </unit>
      <unit id="143">
        <segment state="initial">
          <source>Handle a cancelled background task</source>
          <target>Handle a cancelled background task</target>
        </segment>
      </unit>
      <unit id="144">
        <segment state="initial">
          <source>Register a background task</source>
          <target>Register a background task</target>
        </segment>
      </unit>
      <unit id="145">
        <segment state="initial">
          <source>Respond to system events with background tasks</source>
          <target>Respond to system events with background tasks</target>
        </segment>
      </unit>
      <unit id="146">
        <segment state="initial">
          <source>Set conditions for running a background task</source>
          <target>Set conditions for running a background task</target>
        </segment>
      </unit>
      <unit id="147">
        <segment state="initial">
          <source>Update a live tile from a background task</source>
          <target>Update a live tile from a background task</target>
        </segment>
      </unit>
      <unit id="148">
        <segment state="initial">
          <source>Use a maintenance trigger</source>
          <target>Use a maintenance trigger</target>
        </segment>
      </unit>
      <unit id="149">
        <segment state="initial">
          <source>Run a background task on a timer</source>
          <target>Run a background task on a timer</target>
        </segment>
      </unit>
      <unit id="150">
        <segment state="initial">
          <source>Guidelines for background tasks</source>
          <target>Guidelines for background tasks</target>
        </segment>
      </unit>
      <unit id="151">
        <segment state="initial">
          <source>Debug a background task</source>
          <target>Debug a background task</target>
        </segment>
      </unit>
      <unit id="152">
        <segment state="initial">
          <source>How to trigger suspend, resume, and background events in Windows Store apps (when debugging)</source>
          <target>How to trigger suspend, resume, and background events in Windows Store apps (when debugging)</target>
        </segment>
      </unit>
    </group>
  </file>
</xliff>